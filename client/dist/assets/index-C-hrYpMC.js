function qg(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function xc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Op={exports:{}},Sa={},Ap={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ms=Symbol.for("react.element"),Kg=Symbol.for("react.portal"),Gg=Symbol.for("react.fragment"),Qg=Symbol.for("react.strict_mode"),Jg=Symbol.for("react.profiler"),Zg=Symbol.for("react.provider"),Yg=Symbol.for("react.context"),Xg=Symbol.for("react.forward_ref"),e2=Symbol.for("react.suspense"),t2=Symbol.for("react.memo"),n2=Symbol.for("react.lazy"),sh=Symbol.iterator;function r2(t){return t===null||typeof t!="object"?null:(t=sh&&t[sh]||t["@@iterator"],typeof t=="function"?t:null)}var Rp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bp=Object.assign,Mp={};function Xr(t,e,n){this.props=t,this.context=e,this.refs=Mp,this.updater=n||Rp}Xr.prototype.isReactComponent={};Xr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jp(){}jp.prototype=Xr.prototype;function Ic(t,e,n){this.props=t,this.context=e,this.refs=Mp,this.updater=n||Rp}var Tc=Ic.prototype=new jp;Tc.constructor=Ic;bp(Tc,Xr.prototype);Tc.isPureReactComponent=!0;var oh=Array.isArray,Dp=Object.prototype.hasOwnProperty,Lc={current:null},Fp={key:!0,ref:!0,__self:!0,__source:!0};function $p(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Dp.call(e,r)&&!Fp.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ms,type:t,key:s,ref:o,props:i,_owner:Lc.current}}function i2(t,e){return{$$typeof:ms,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pc(t){return typeof t=="object"&&t!==null&&t.$$typeof===ms}function s2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ah=/\/+/g;function ll(t,e){return typeof t=="object"&&t!==null&&t.key!=null?s2(""+t.key):e.toString(36)}function lo(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ms:case Kg:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ll(o,0):r,oh(i)?(n="",t!=null&&(n=t.replace(ah,"$&/")+"/"),lo(i,e,n,"",function(u){return u})):i!=null&&(Pc(i)&&(i=i2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ah,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",oh(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ll(s,a);o+=lo(s,e,n,l,i)}else if(l=r2(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ll(s,a++),o+=lo(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Rs(t,e,n){if(t==null)return t;var r=[],i=0;return lo(t,r,"","",function(s){return e.call(n,s,i++)}),r}function o2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Te={current:null},uo={transition:null},a2={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:uo,ReactCurrentOwner:Lc};function Bp(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:Rs,forEach:function(t,e,n){Rs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rs(t,function(){e++}),e},toArray:function(t){return Rs(t,function(e){return e})||[]},only:function(t){if(!Pc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};M.Component=Xr;M.Fragment=Gg;M.Profiler=Jg;M.PureComponent=Ic;M.StrictMode=Qg;M.Suspense=e2;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a2;M.act=Bp;M.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bp({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Lc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Dp.call(e,l)&&!Fp.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ms,type:t.type,key:i,ref:s,props:r,_owner:o}};M.createContext=function(t){return t={$$typeof:Yg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Zg,_context:t},t.Consumer=t};M.createElement=$p;M.createFactory=function(t){var e=$p.bind(null,t);return e.type=t,e};M.createRef=function(){return{current:null}};M.forwardRef=function(t){return{$$typeof:Xg,render:t}};M.isValidElement=Pc;M.lazy=function(t){return{$$typeof:n2,_payload:{_status:-1,_result:t},_init:o2}};M.memo=function(t,e){return{$$typeof:t2,type:t,compare:e===void 0?null:e}};M.startTransition=function(t){var e=uo.transition;uo.transition={};try{t()}finally{uo.transition=e}};M.unstable_act=Bp;M.useCallback=function(t,e){return Te.current.useCallback(t,e)};M.useContext=function(t){return Te.current.useContext(t)};M.useDebugValue=function(){};M.useDeferredValue=function(t){return Te.current.useDeferredValue(t)};M.useEffect=function(t,e){return Te.current.useEffect(t,e)};M.useId=function(){return Te.current.useId()};M.useImperativeHandle=function(t,e,n){return Te.current.useImperativeHandle(t,e,n)};M.useInsertionEffect=function(t,e){return Te.current.useInsertionEffect(t,e)};M.useLayoutEffect=function(t,e){return Te.current.useLayoutEffect(t,e)};M.useMemo=function(t,e){return Te.current.useMemo(t,e)};M.useReducer=function(t,e,n){return Te.current.useReducer(t,e,n)};M.useRef=function(t){return Te.current.useRef(t)};M.useState=function(t){return Te.current.useState(t)};M.useSyncExternalStore=function(t,e,n){return Te.current.useSyncExternalStore(t,e,n)};M.useTransition=function(){return Te.current.useTransition()};M.version="18.3.1";Ap.exports=M;var g=Ap.exports;const it=xc(g),l2=qg({__proto__:null,default:it},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u2=g,c2=Symbol.for("react.element"),d2=Symbol.for("react.fragment"),h2=Object.prototype.hasOwnProperty,f2=u2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p2={key:!0,ref:!0,__self:!0,__source:!0};function Up(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)h2.call(e,r)&&!p2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:c2,type:t,key:s,ref:o,props:i,_owner:f2.current}}Sa.Fragment=d2;Sa.jsx=Up;Sa.jsxs=Up;Op.exports=Sa;var c=Op.exports,nu={},zp={exports:{}},Ue={},Vp={exports:{}},Hp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,R){var b=P.length;P.push(R);e:for(;0<b;){var ee=b-1>>>1,ae=P[ee];if(0<i(ae,R))P[ee]=R,P[b]=ae,b=ee;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var R=P[0],b=P.pop();if(b!==R){P[0]=b;e:for(var ee=0,ae=P.length,Os=ae>>>1;ee<Os;){var On=2*(ee+1)-1,al=P[On],An=On+1,As=P[An];if(0>i(al,b))An<ae&&0>i(As,al)?(P[ee]=As,P[An]=b,ee=An):(P[ee]=al,P[On]=b,ee=On);else if(An<ae&&0>i(As,b))P[ee]=As,P[An]=b,ee=An;else break e}}return R}function i(P,R){var b=P.sortIndex-R.sortIndex;return b!==0?b:P.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,_=!1,y=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=P)r(u),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(u)}}function C(P){if(w=!1,v(P),!y)if(n(l)!==null)y=!0,sl(E);else{var R=n(u);R!==null&&ol(C,R.startTime-P)}}function E(P,R){y=!1,w&&(w=!1,m(T),T=-1),_=!0;var b=p;try{for(v(R),h=n(l);h!==null&&(!(h.expirationTime>R)||P&&!D());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,p=h.priorityLevel;var ae=ee(h.expirationTime<=R);R=t.unstable_now(),typeof ae=="function"?h.callback=ae:h===n(l)&&r(l),v(R)}else r(l);h=n(l)}if(h!==null)var Os=!0;else{var On=n(u);On!==null&&ol(C,On.startTime-R),Os=!1}return Os}finally{h=null,p=b,_=!1}}var I=!1,k=null,T=-1,A=5,N=-1;function D(){return!(t.unstable_now()-N<A)}function me(){if(k!==null){var P=t.unstable_now();N=P;var R=!0;try{R=k(!0,P)}finally{R?Gt():(I=!1,k=null)}}else I=!1}var Gt;if(typeof f=="function")Gt=function(){f(me)};else if(typeof MessageChannel<"u"){var di=new MessageChannel,Wg=di.port2;di.port1.onmessage=me,Gt=function(){Wg.postMessage(null)}}else Gt=function(){S(me,0)};function sl(P){k=P,I||(I=!0,Gt())}function ol(P,R){T=S(function(){P(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){y||_||(y=!0,sl(E))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var b=p;p=R;try{return P()}finally{p=b}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,R){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var b=p;p=P;try{return R()}finally{p=b}},t.unstable_scheduleCallback=function(P,R,b){var ee=t.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?ee+b:ee):b=ee,P){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=b+ae,P={id:d++,callback:R,priorityLevel:P,startTime:b,expirationTime:ae,sortIndex:-1},b>ee?(P.sortIndex=b,e(u,P),n(l)===null&&P===n(u)&&(w?(m(T),T=-1):w=!0,ol(C,b-ee))):(P.sortIndex=ae,e(l,P),y||_||(y=!0,sl(E))),P},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(P){var R=p;return function(){var b=p;p=R;try{return P.apply(this,arguments)}finally{p=b}}}})(Hp);Vp.exports=Hp;var m2=Vp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2=g,$e=m2;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wp=new Set,Wi={};function nr(t,e){Br(t,e),Br(t+"Capture",e)}function Br(t,e){for(Wi[t]=e,t=0;t<e.length;t++)Wp.add(e[t])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ru=Object.prototype.hasOwnProperty,v2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lh={},uh={};function y2(t){return ru.call(uh,t)?!0:ru.call(lh,t)?!1:v2.test(t)?uh[t]=!0:(lh[t]=!0,!1)}function w2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _2(t,e,n,r){if(e===null||typeof e>"u"||w2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Le(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pe[t]=new Le(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pe[e]=new Le(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pe[t]=new Le(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pe[t]=new Le(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pe[t]=new Le(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pe[t]=new Le(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pe[t]=new Le(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pe[t]=new Le(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pe[t]=new Le(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nc=/[\-:]([a-z])/g;function Oc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nc,Oc);pe[e]=new Le(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nc,Oc);pe[e]=new Le(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nc,Oc);pe[e]=new Le(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pe[t]=new Le(t,1,!1,t.toLowerCase(),null,!1,!1)});pe.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pe[t]=new Le(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ac(t,e,n,r){var i=pe.hasOwnProperty(e)?pe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_2(e,n,i,r)&&(n=null),r||i===null?y2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wt=g2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bs=Symbol.for("react.element"),hr=Symbol.for("react.portal"),fr=Symbol.for("react.fragment"),Rc=Symbol.for("react.strict_mode"),iu=Symbol.for("react.profiler"),qp=Symbol.for("react.provider"),Kp=Symbol.for("react.context"),bc=Symbol.for("react.forward_ref"),su=Symbol.for("react.suspense"),ou=Symbol.for("react.suspense_list"),Mc=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),Gp=Symbol.for("react.offscreen"),ch=Symbol.iterator;function hi(t){return t===null||typeof t!="object"?null:(t=ch&&t[ch]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Object.assign,ul;function Ii(t){if(ul===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ul=e&&e[1]||""}return`
`+ul+t}var cl=!1;function dl(t,e){if(!t||cl)return"";cl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{cl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ii(t):""}function C2(t){switch(t.tag){case 5:return Ii(t.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 2:case 15:return t=dl(t.type,!1),t;case 11:return t=dl(t.type.render,!1),t;case 1:return t=dl(t.type,!0),t;default:return""}}function au(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fr:return"Fragment";case hr:return"Portal";case iu:return"Profiler";case Rc:return"StrictMode";case su:return"Suspense";case ou:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Kp:return(t.displayName||"Context")+".Consumer";case qp:return(t._context.displayName||"Context")+".Provider";case bc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mc:return e=t.displayName||null,e!==null?e:au(t.type)||"Memo";case Yt:e=t._payload,t=t._init;try{return au(t(e))}catch{}}return null}function S2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return au(e);case 8:return e===Rc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function k2(t){var e=Qp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ms(t){t._valueTracker||(t._valueTracker=k2(t))}function Jp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Qp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lu(t,e){var n=e.checked;return Y({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Cn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Zp(t,e){e=e.checked,e!=null&&Ac(t,"checked",e,!1)}function uu(t,e){Zp(t,e);var n=Cn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cu(t,e.type,n):e.hasOwnProperty("defaultValue")&&cu(t,e.type,Cn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function cu(t,e,n){(e!=="number"||jo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ti=Array.isArray;function Lr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function du(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return Y({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(x(92));if(Ti(n)){if(1<n.length)throw Error(x(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cn(n)}}function Yp(t,e){var n=Cn(e.value),r=Cn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ph(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var js,e1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(js=js||document.createElement("div"),js.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=js.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E2=["Webkit","ms","Moz","O"];Object.keys(Oi).forEach(function(t){E2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Oi[e]=Oi[t]})});function t1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Oi.hasOwnProperty(t)&&Oi[t]?(""+e).trim():e+"px"}function n1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=t1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var x2=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fu(t,e){if(e){if(x2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function pu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=null;function jc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gu=null,Pr=null,Nr=null;function mh(t){if(t=ys(t)){if(typeof gu!="function")throw Error(x(280));var e=t.stateNode;e&&(e=Ta(e),gu(t.stateNode,t.type,e))}}function r1(t){Pr?Nr?Nr.push(t):Nr=[t]:Pr=t}function i1(){if(Pr){var t=Pr,e=Nr;if(Nr=Pr=null,mh(t),e)for(t=0;t<e.length;t++)mh(e[t])}}function s1(t,e){return t(e)}function o1(){}var hl=!1;function a1(t,e,n){if(hl)return t(e,n);hl=!0;try{return s1(t,e,n)}finally{hl=!1,(Pr!==null||Nr!==null)&&(o1(),i1())}}function Ki(t,e){var n=t.stateNode;if(n===null)return null;var r=Ta(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var vu=!1;if(Bt)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){vu=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{vu=!1}function I2(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ai=!1,Do=null,Fo=!1,yu=null,T2={onError:function(t){Ai=!0,Do=t}};function L2(t,e,n,r,i,s,o,a,l){Ai=!1,Do=null,I2.apply(T2,arguments)}function P2(t,e,n,r,i,s,o,a,l){if(L2.apply(this,arguments),Ai){if(Ai){var u=Do;Ai=!1,Do=null}else throw Error(x(198));Fo||(Fo=!0,yu=u)}}function rr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function l1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gh(t){if(rr(t)!==t)throw Error(x(188))}function N2(t){var e=t.alternate;if(!e){if(e=rr(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return gh(i),t;if(s===r)return gh(i),e;s=s.sibling}throw Error(x(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function u1(t){return t=N2(t),t!==null?c1(t):null}function c1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=c1(t);if(e!==null)return e;t=t.sibling}return null}var d1=$e.unstable_scheduleCallback,vh=$e.unstable_cancelCallback,O2=$e.unstable_shouldYield,A2=$e.unstable_requestPaint,te=$e.unstable_now,R2=$e.unstable_getCurrentPriorityLevel,Dc=$e.unstable_ImmediatePriority,h1=$e.unstable_UserBlockingPriority,$o=$e.unstable_NormalPriority,b2=$e.unstable_LowPriority,f1=$e.unstable_IdlePriority,ka=null,vt=null;function M2(t){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(ka,t,void 0,(t.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:F2,j2=Math.log,D2=Math.LN2;function F2(t){return t>>>=0,t===0?32:31-(j2(t)/D2|0)|0}var Ds=64,Fs=4194304;function Li(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Li(a):(s&=o,s!==0&&(r=Li(s)))}else o=n&~i,o!==0?r=Li(o):s!==0&&(r=Li(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-at(e),i=1<<n,r|=t[n],e&=~i;return r}function $2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-at(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=$2(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function wu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function p1(){var t=Ds;return Ds<<=1,!(Ds&4194240)&&(Ds=64),t}function fl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-at(e),t[e]=n}function U2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-at(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Fc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-at(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $=0;function m1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var g1,$c,v1,y1,w1,_u=!1,$s=[],un=null,cn=null,dn=null,Gi=new Map,Qi=new Map,en=[],z2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yh(t,e){switch(t){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":Gi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(e.pointerId)}}function pi(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ys(e),e!==null&&$c(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function V2(t,e,n,r,i){switch(e){case"focusin":return un=pi(un,t,e,n,r,i),!0;case"dragenter":return cn=pi(cn,t,e,n,r,i),!0;case"mouseover":return dn=pi(dn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Gi.set(s,pi(Gi.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Qi.set(s,pi(Qi.get(s)||null,t,e,n,r,i)),!0}return!1}function _1(t){var e=Fn(t.target);if(e!==null){var n=rr(e);if(n!==null){if(e=n.tag,e===13){if(e=l1(n),e!==null){t.blockedOn=e,w1(t.priority,function(){v1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function co(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mu=r,n.target.dispatchEvent(r),mu=null}else return e=ys(n),e!==null&&$c(e),t.blockedOn=n,!1;e.shift()}return!0}function wh(t,e,n){co(t)&&n.delete(e)}function H2(){_u=!1,un!==null&&co(un)&&(un=null),cn!==null&&co(cn)&&(cn=null),dn!==null&&co(dn)&&(dn=null),Gi.forEach(wh),Qi.forEach(wh)}function mi(t,e){t.blockedOn===e&&(t.blockedOn=null,_u||(_u=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,H2)))}function Ji(t){function e(i){return mi(i,t)}if(0<$s.length){mi($s[0],t);for(var n=1;n<$s.length;n++){var r=$s[n];r.blockedOn===t&&(r.blockedOn=null)}}for(un!==null&&mi(un,t),cn!==null&&mi(cn,t),dn!==null&&mi(dn,t),Gi.forEach(e),Qi.forEach(e),n=0;n<en.length;n++)r=en[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<en.length&&(n=en[0],n.blockedOn===null);)_1(n),n.blockedOn===null&&en.shift()}var Or=Wt.ReactCurrentBatchConfig,Uo=!0;function W2(t,e,n,r){var i=$,s=Or.transition;Or.transition=null;try{$=1,Bc(t,e,n,r)}finally{$=i,Or.transition=s}}function q2(t,e,n,r){var i=$,s=Or.transition;Or.transition=null;try{$=4,Bc(t,e,n,r)}finally{$=i,Or.transition=s}}function Bc(t,e,n,r){if(Uo){var i=Cu(t,e,n,r);if(i===null)kl(t,e,r,zo,n),yh(t,r);else if(V2(i,t,e,n,r))r.stopPropagation();else if(yh(t,r),e&4&&-1<z2.indexOf(t)){for(;i!==null;){var s=ys(i);if(s!==null&&g1(s),s=Cu(t,e,n,r),s===null&&kl(t,e,r,zo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else kl(t,e,r,null,n)}}var zo=null;function Cu(t,e,n,r){if(zo=null,t=jc(r),t=Fn(t),t!==null)if(e=rr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=l1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zo=t,null}function C1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R2()){case Dc:return 1;case h1:return 4;case $o:case b2:return 16;case f1:return 536870912;default:return 16}default:return 16}}var sn=null,Uc=null,ho=null;function S1(){if(ho)return ho;var t,e=Uc,n=e.length,r,i="value"in sn?sn.value:sn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ho=i.slice(t,1<r?1-r:void 0)}function fo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bs(){return!0}function _h(){return!1}function ze(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bs:_h,this.isPropagationStopped=_h,this}return Y(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),e}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zc=ze(ei),vs=Y({},ei,{view:0,detail:0}),K2=ze(vs),pl,ml,gi,Ea=Y({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(pl=t.screenX-gi.screenX,ml=t.screenY-gi.screenY):ml=pl=0,gi=t),pl)},movementY:function(t){return"movementY"in t?t.movementY:ml}}),Ch=ze(Ea),G2=Y({},Ea,{dataTransfer:0}),Q2=ze(G2),J2=Y({},vs,{relatedTarget:0}),gl=ze(J2),Z2=Y({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),Y2=ze(Z2),X2=Y({},ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ev=ze(X2),tv=Y({},ei,{data:0}),Sh=ze(tv),nv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iv[t])?!!e[t]:!1}function Vc(){return sv}var ov=Y({},vs,{key:function(t){if(t.key){var e=nv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vc,charCode:function(t){return t.type==="keypress"?fo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),av=ze(ov),lv=Y({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kh=ze(lv),uv=Y({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vc}),cv=ze(uv),dv=Y({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),hv=ze(dv),fv=Y({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pv=ze(fv),mv=[9,13,27,32],Hc=Bt&&"CompositionEvent"in window,Ri=null;Bt&&"documentMode"in document&&(Ri=document.documentMode);var gv=Bt&&"TextEvent"in window&&!Ri,k1=Bt&&(!Hc||Ri&&8<Ri&&11>=Ri),Eh=" ",xh=!1;function E1(t,e){switch(t){case"keyup":return mv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pr=!1;function vv(t,e){switch(t){case"compositionend":return x1(e);case"keypress":return e.which!==32?null:(xh=!0,Eh);case"textInput":return t=e.data,t===Eh&&xh?null:t;default:return null}}function yv(t,e){if(pr)return t==="compositionend"||!Hc&&E1(t,e)?(t=S1(),ho=Uc=sn=null,pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return k1&&e.locale!=="ko"?null:e.data;default:return null}}var wv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ih(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wv[t.type]:e==="textarea"}function I1(t,e,n,r){r1(r),e=Vo(e,"onChange"),0<e.length&&(n=new zc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var bi=null,Zi=null;function _v(t){D1(t,0)}function xa(t){var e=vr(t);if(Jp(e))return t}function Cv(t,e){if(t==="change")return e}var T1=!1;if(Bt){var vl;if(Bt){var yl="oninput"in document;if(!yl){var Th=document.createElement("div");Th.setAttribute("oninput","return;"),yl=typeof Th.oninput=="function"}vl=yl}else vl=!1;T1=vl&&(!document.documentMode||9<document.documentMode)}function Lh(){bi&&(bi.detachEvent("onpropertychange",L1),Zi=bi=null)}function L1(t){if(t.propertyName==="value"&&xa(Zi)){var e=[];I1(e,Zi,t,jc(t)),a1(_v,e)}}function Sv(t,e,n){t==="focusin"?(Lh(),bi=e,Zi=n,bi.attachEvent("onpropertychange",L1)):t==="focusout"&&Lh()}function kv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xa(Zi)}function Ev(t,e){if(t==="click")return xa(e)}function xv(t,e){if(t==="input"||t==="change")return xa(e)}function Iv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ct=typeof Object.is=="function"?Object.is:Iv;function Yi(t,e){if(ct(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ru.call(e,i)||!ct(t[i],e[i]))return!1}return!0}function Ph(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nh(t,e){var n=Ph(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ph(n)}}function P1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?P1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function N1(){for(var t=window,e=jo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jo(t.document)}return e}function Wc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Tv(t){var e=N1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&P1(n.ownerDocument.documentElement,n)){if(r!==null&&Wc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Nh(n,s);var o=Nh(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Lv=Bt&&"documentMode"in document&&11>=document.documentMode,mr=null,Su=null,Mi=null,ku=!1;function Oh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ku||mr==null||mr!==jo(r)||(r=mr,"selectionStart"in r&&Wc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mi&&Yi(Mi,r)||(Mi=r,r=Vo(Su,"onSelect"),0<r.length&&(e=new zc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mr)))}function Us(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gr={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionend:Us("Transition","TransitionEnd")},wl={},O1={};Bt&&(O1=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Ia(t){if(wl[t])return wl[t];if(!gr[t])return t;var e=gr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in O1)return wl[t]=e[n];return t}var A1=Ia("animationend"),R1=Ia("animationiteration"),b1=Ia("animationstart"),M1=Ia("transitionend"),j1=new Map,Ah="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(t,e){j1.set(t,e),nr(e,[t])}for(var _l=0;_l<Ah.length;_l++){var Cl=Ah[_l],Pv=Cl.toLowerCase(),Nv=Cl[0].toUpperCase()+Cl.slice(1);xn(Pv,"on"+Nv)}xn(A1,"onAnimationEnd");xn(R1,"onAnimationIteration");xn(b1,"onAnimationStart");xn("dblclick","onDoubleClick");xn("focusin","onFocus");xn("focusout","onBlur");xn(M1,"onTransitionEnd");Br("onMouseEnter",["mouseout","mouseover"]);Br("onMouseLeave",["mouseout","mouseover"]);Br("onPointerEnter",["pointerout","pointerover"]);Br("onPointerLeave",["pointerout","pointerover"]);nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ov=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pi));function Rh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,P2(r,e,void 0,t),t.currentTarget=null}function D1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Rh(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Rh(i,a,u),s=l}}}if(Fo)throw t=yu,Fo=!1,yu=null,t}function W(t,e){var n=e[Lu];n===void 0&&(n=e[Lu]=new Set);var r=t+"__bubble";n.has(r)||(F1(e,t,2,!1),n.add(r))}function Sl(t,e,n){var r=0;e&&(r|=4),F1(n,t,r,e)}var zs="_reactListening"+Math.random().toString(36).slice(2);function Xi(t){if(!t[zs]){t[zs]=!0,Wp.forEach(function(n){n!=="selectionchange"&&(Ov.has(n)||Sl(n,!1,t),Sl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zs]||(e[zs]=!0,Sl("selectionchange",!1,e))}}function F1(t,e,n,r){switch(C1(e)){case 1:var i=W2;break;case 4:i=q2;break;default:i=Bc}n=i.bind(null,e,n,t),i=void 0,!vu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function kl(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Fn(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}a1(function(){var u=s,d=jc(n),h=[];e:{var p=j1.get(t);if(p!==void 0){var _=zc,y=t;switch(t){case"keypress":if(fo(n)===0)break e;case"keydown":case"keyup":_=av;break;case"focusin":y="focus",_=gl;break;case"focusout":y="blur",_=gl;break;case"beforeblur":case"afterblur":_=gl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Ch;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Q2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=cv;break;case A1:case R1:case b1:_=Y2;break;case M1:_=hv;break;case"scroll":_=K2;break;case"wheel":_=pv;break;case"copy":case"cut":case"paste":_=ev;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=kh}var w=(e&4)!==0,S=!w&&t==="scroll",m=w?p!==null?p+"Capture":null:p;w=[];for(var f=u,v;f!==null;){v=f;var C=v.stateNode;if(v.tag===5&&C!==null&&(v=C,m!==null&&(C=Ki(f,m),C!=null&&w.push(es(f,C,v)))),S)break;f=f.return}0<w.length&&(p=new _(p,y,null,n,d),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",p&&n!==mu&&(y=n.relatedTarget||n.fromElement)&&(Fn(y)||y[Ut]))break e;if((_||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,_?(y=n.relatedTarget||n.toElement,_=u,y=y?Fn(y):null,y!==null&&(S=rr(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(_=null,y=u),_!==y)){if(w=Ch,C="onMouseLeave",m="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(w=kh,C="onPointerLeave",m="onPointerEnter",f="pointer"),S=_==null?p:vr(_),v=y==null?p:vr(y),p=new w(C,f+"leave",_,n,d),p.target=S,p.relatedTarget=v,C=null,Fn(d)===u&&(w=new w(m,f+"enter",y,n,d),w.target=v,w.relatedTarget=S,C=w),S=C,_&&y)t:{for(w=_,m=y,f=0,v=w;v;v=lr(v))f++;for(v=0,C=m;C;C=lr(C))v++;for(;0<f-v;)w=lr(w),f--;for(;0<v-f;)m=lr(m),v--;for(;f--;){if(w===m||m!==null&&w===m.alternate)break t;w=lr(w),m=lr(m)}w=null}else w=null;_!==null&&bh(h,p,_,w,!1),y!==null&&S!==null&&bh(h,S,y,w,!0)}}e:{if(p=u?vr(u):window,_=p.nodeName&&p.nodeName.toLowerCase(),_==="select"||_==="input"&&p.type==="file")var E=Cv;else if(Ih(p))if(T1)E=xv;else{E=kv;var I=Sv}else(_=p.nodeName)&&_.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=Ev);if(E&&(E=E(t,u))){I1(h,E,n,d);break e}I&&I(t,p,u),t==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&cu(p,"number",p.value)}switch(I=u?vr(u):window,t){case"focusin":(Ih(I)||I.contentEditable==="true")&&(mr=I,Su=u,Mi=null);break;case"focusout":Mi=Su=mr=null;break;case"mousedown":ku=!0;break;case"contextmenu":case"mouseup":case"dragend":ku=!1,Oh(h,n,d);break;case"selectionchange":if(Lv)break;case"keydown":case"keyup":Oh(h,n,d)}var k;if(Hc)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else pr?E1(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(k1&&n.locale!=="ko"&&(pr||T!=="onCompositionStart"?T==="onCompositionEnd"&&pr&&(k=S1()):(sn=d,Uc="value"in sn?sn.value:sn.textContent,pr=!0)),I=Vo(u,T),0<I.length&&(T=new Sh(T,t,null,n,d),h.push({event:T,listeners:I}),k?T.data=k:(k=x1(n),k!==null&&(T.data=k)))),(k=gv?vv(t,n):yv(t,n))&&(u=Vo(u,"onBeforeInput"),0<u.length&&(d=new Sh("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=k))}D1(h,e)})}function es(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vo(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ki(t,n),s!=null&&r.unshift(es(t,s,i)),s=Ki(t,e),s!=null&&r.push(es(t,s,i))),t=t.return}return r}function lr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bh(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ki(n,s),l!=null&&o.unshift(es(n,l,a))):i||(l=Ki(n,s),l!=null&&o.push(es(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Av=/\r\n?/g,Rv=/\u0000|\uFFFD/g;function Mh(t){return(typeof t=="string"?t:""+t).replace(Av,`
`).replace(Rv,"")}function Vs(t,e,n){if(e=Mh(e),Mh(t)!==e&&n)throw Error(x(425))}function Ho(){}var Eu=null,xu=null;function Iu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tu=typeof setTimeout=="function"?setTimeout:void 0,bv=typeof clearTimeout=="function"?clearTimeout:void 0,jh=typeof Promise=="function"?Promise:void 0,Mv=typeof queueMicrotask=="function"?queueMicrotask:typeof jh<"u"?function(t){return jh.resolve(null).then(t).catch(jv)}:Tu;function jv(t){setTimeout(function(){throw t})}function El(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ji(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ji(e)}function hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Dh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ti=Math.random().toString(36).slice(2),mt="__reactFiber$"+ti,ts="__reactProps$"+ti,Ut="__reactContainer$"+ti,Lu="__reactEvents$"+ti,Dv="__reactListeners$"+ti,Fv="__reactHandles$"+ti;function Fn(t){var e=t[mt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ut]||n[mt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Dh(t);t!==null;){if(n=t[mt])return n;t=Dh(t)}return e}t=n,n=t.parentNode}return null}function ys(t){return t=t[mt]||t[Ut],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function Ta(t){return t[ts]||null}var Pu=[],yr=-1;function In(t){return{current:t}}function q(t){0>yr||(t.current=Pu[yr],Pu[yr]=null,yr--)}function V(t,e){yr++,Pu[yr]=t.current,t.current=e}var Sn={},Ce=In(Sn),Re=In(!1),Qn=Sn;function Ur(t,e){var n=t.type.contextTypes;if(!n)return Sn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function be(t){return t=t.childContextTypes,t!=null}function Wo(){q(Re),q(Ce)}function Fh(t,e,n){if(Ce.current!==Sn)throw Error(x(168));V(Ce,e),V(Re,n)}function $1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(x(108,S2(t)||"Unknown",i));return Y({},n,r)}function qo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sn,Qn=Ce.current,V(Ce,t),V(Re,Re.current),!0}function $h(t,e,n){var r=t.stateNode;if(!r)throw Error(x(169));n?(t=$1(t,e,Qn),r.__reactInternalMemoizedMergedChildContext=t,q(Re),q(Ce),V(Ce,t)):q(Re),V(Re,n)}var Pt=null,La=!1,xl=!1;function B1(t){Pt===null?Pt=[t]:Pt.push(t)}function $v(t){La=!0,B1(t)}function Tn(){if(!xl&&Pt!==null){xl=!0;var t=0,e=$;try{var n=Pt;for($=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pt=null,La=!1}catch(i){throw Pt!==null&&(Pt=Pt.slice(t+1)),d1(Dc,Tn),i}finally{$=e,xl=!1}}return null}var wr=[],_r=0,Ko=null,Go=0,He=[],We=0,Jn=null,At=1,Rt="";function Mn(t,e){wr[_r++]=Go,wr[_r++]=Ko,Ko=t,Go=e}function U1(t,e,n){He[We++]=At,He[We++]=Rt,He[We++]=Jn,Jn=t;var r=At;t=Rt;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,At=1<<32-at(e)+i|n<<i|r,Rt=s+t}else At=1<<s|n<<i|r,Rt=t}function qc(t){t.return!==null&&(Mn(t,1),U1(t,1,0))}function Kc(t){for(;t===Ko;)Ko=wr[--_r],wr[_r]=null,Go=wr[--_r],wr[_r]=null;for(;t===Jn;)Jn=He[--We],He[We]=null,Rt=He[--We],He[We]=null,At=He[--We],He[We]=null}var Fe=null,De=null,K=!1,nt=null;function z1(t,e){var n=Ke(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Bh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fe=t,De=hn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fe=t,De=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jn!==null?{id:At,overflow:Rt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ke(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fe=t,De=null,!0):!1;default:return!1}}function Nu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ou(t){if(K){var e=De;if(e){var n=e;if(!Bh(t,e)){if(Nu(t))throw Error(x(418));e=hn(n.nextSibling);var r=Fe;e&&Bh(t,e)?z1(r,n):(t.flags=t.flags&-4097|2,K=!1,Fe=t)}}else{if(Nu(t))throw Error(x(418));t.flags=t.flags&-4097|2,K=!1,Fe=t}}}function Uh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fe=t}function Hs(t){if(t!==Fe)return!1;if(!K)return Uh(t),K=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Iu(t.type,t.memoizedProps)),e&&(e=De)){if(Nu(t))throw V1(),Error(x(418));for(;e;)z1(t,e),e=hn(e.nextSibling)}if(Uh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){De=hn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}De=null}}else De=Fe?hn(t.stateNode.nextSibling):null;return!0}function V1(){for(var t=De;t;)t=hn(t.nextSibling)}function zr(){De=Fe=null,K=!1}function Gc(t){nt===null?nt=[t]:nt.push(t)}var Bv=Wt.ReactCurrentBatchConfig;function vi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,t))}return t}function Ws(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zh(t){var e=t._init;return e(t._payload)}function H1(t){function e(m,f){if(t){var v=m.deletions;v===null?(m.deletions=[f],m.flags|=16):v.push(f)}}function n(m,f){if(!t)return null;for(;f!==null;)e(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function i(m,f){return m=gn(m,f),m.index=0,m.sibling=null,m}function s(m,f,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<f?(m.flags|=2,f):v):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,f,v,C){return f===null||f.tag!==6?(f=Al(v,m.mode,C),f.return=m,f):(f=i(f,v),f.return=m,f)}function l(m,f,v,C){var E=v.type;return E===fr?d(m,f,v.props.children,C,v.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Yt&&zh(E)===f.type)?(C=i(f,v.props),C.ref=vi(m,f,v),C.return=m,C):(C=_o(v.type,v.key,v.props,null,m.mode,C),C.ref=vi(m,f,v),C.return=m,C)}function u(m,f,v,C){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=Rl(v,m.mode,C),f.return=m,f):(f=i(f,v.children||[]),f.return=m,f)}function d(m,f,v,C,E){return f===null||f.tag!==7?(f=Wn(v,m.mode,C,E),f.return=m,f):(f=i(f,v),f.return=m,f)}function h(m,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Al(""+f,m.mode,v),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case bs:return v=_o(f.type,f.key,f.props,null,m.mode,v),v.ref=vi(m,null,f),v.return=m,v;case hr:return f=Rl(f,m.mode,v),f.return=m,f;case Yt:var C=f._init;return h(m,C(f._payload),v)}if(Ti(f)||hi(f))return f=Wn(f,m.mode,v,null),f.return=m,f;Ws(m,f)}return null}function p(m,f,v,C){var E=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(m,f,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case bs:return v.key===E?l(m,f,v,C):null;case hr:return v.key===E?u(m,f,v,C):null;case Yt:return E=v._init,p(m,f,E(v._payload),C)}if(Ti(v)||hi(v))return E!==null?null:d(m,f,v,C,null);Ws(m,v)}return null}function _(m,f,v,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(v)||null,a(f,m,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case bs:return m=m.get(C.key===null?v:C.key)||null,l(f,m,C,E);case hr:return m=m.get(C.key===null?v:C.key)||null,u(f,m,C,E);case Yt:var I=C._init;return _(m,f,v,I(C._payload),E)}if(Ti(C)||hi(C))return m=m.get(v)||null,d(f,m,C,E,null);Ws(f,C)}return null}function y(m,f,v,C){for(var E=null,I=null,k=f,T=f=0,A=null;k!==null&&T<v.length;T++){k.index>T?(A=k,k=null):A=k.sibling;var N=p(m,k,v[T],C);if(N===null){k===null&&(k=A);break}t&&k&&N.alternate===null&&e(m,k),f=s(N,f,T),I===null?E=N:I.sibling=N,I=N,k=A}if(T===v.length)return n(m,k),K&&Mn(m,T),E;if(k===null){for(;T<v.length;T++)k=h(m,v[T],C),k!==null&&(f=s(k,f,T),I===null?E=k:I.sibling=k,I=k);return K&&Mn(m,T),E}for(k=r(m,k);T<v.length;T++)A=_(k,m,T,v[T],C),A!==null&&(t&&A.alternate!==null&&k.delete(A.key===null?T:A.key),f=s(A,f,T),I===null?E=A:I.sibling=A,I=A);return t&&k.forEach(function(D){return e(m,D)}),K&&Mn(m,T),E}function w(m,f,v,C){var E=hi(v);if(typeof E!="function")throw Error(x(150));if(v=E.call(v),v==null)throw Error(x(151));for(var I=E=null,k=f,T=f=0,A=null,N=v.next();k!==null&&!N.done;T++,N=v.next()){k.index>T?(A=k,k=null):A=k.sibling;var D=p(m,k,N.value,C);if(D===null){k===null&&(k=A);break}t&&k&&D.alternate===null&&e(m,k),f=s(D,f,T),I===null?E=D:I.sibling=D,I=D,k=A}if(N.done)return n(m,k),K&&Mn(m,T),E;if(k===null){for(;!N.done;T++,N=v.next())N=h(m,N.value,C),N!==null&&(f=s(N,f,T),I===null?E=N:I.sibling=N,I=N);return K&&Mn(m,T),E}for(k=r(m,k);!N.done;T++,N=v.next())N=_(k,m,T,N.value,C),N!==null&&(t&&N.alternate!==null&&k.delete(N.key===null?T:N.key),f=s(N,f,T),I===null?E=N:I.sibling=N,I=N);return t&&k.forEach(function(me){return e(m,me)}),K&&Mn(m,T),E}function S(m,f,v,C){if(typeof v=="object"&&v!==null&&v.type===fr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case bs:e:{for(var E=v.key,I=f;I!==null;){if(I.key===E){if(E=v.type,E===fr){if(I.tag===7){n(m,I.sibling),f=i(I,v.props.children),f.return=m,m=f;break e}}else if(I.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Yt&&zh(E)===I.type){n(m,I.sibling),f=i(I,v.props),f.ref=vi(m,I,v),f.return=m,m=f;break e}n(m,I);break}else e(m,I);I=I.sibling}v.type===fr?(f=Wn(v.props.children,m.mode,C,v.key),f.return=m,m=f):(C=_o(v.type,v.key,v.props,null,m.mode,C),C.ref=vi(m,f,v),C.return=m,m=C)}return o(m);case hr:e:{for(I=v.key;f!==null;){if(f.key===I)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){n(m,f.sibling),f=i(f,v.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else e(m,f);f=f.sibling}f=Rl(v,m.mode,C),f.return=m,m=f}return o(m);case Yt:return I=v._init,S(m,f,I(v._payload),C)}if(Ti(v))return y(m,f,v,C);if(hi(v))return w(m,f,v,C);Ws(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(n(m,f.sibling),f=i(f,v),f.return=m,m=f):(n(m,f),f=Al(v,m.mode,C),f.return=m,m=f),o(m)):n(m,f)}return S}var Vr=H1(!0),W1=H1(!1),Qo=In(null),Jo=null,Cr=null,Qc=null;function Jc(){Qc=Cr=Jo=null}function Zc(t){var e=Qo.current;q(Qo),t._currentValue=e}function Au(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ar(t,e){Jo=t,Qc=Cr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Oe=!0),t.firstContext=null)}function Qe(t){var e=t._currentValue;if(Qc!==t)if(t={context:t,memoizedValue:e,next:null},Cr===null){if(Jo===null)throw Error(x(308));Cr=t,Jo.dependencies={lanes:0,firstContext:t}}else Cr=Cr.next=t;return e}var $n=null;function Yc(t){$n===null?$n=[t]:$n.push(t)}function q1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Yc(e)):(n.next=i.next,i.next=n),e.interleaved=n,zt(t,r)}function zt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xt=!1;function Xc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $t(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,F&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,zt(t,n)}return i=r.interleaved,i===null?(e.next=e,Yc(r)):(e.next=i.next,i.next=e),r.interleaved=e,zt(t,n)}function po(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fc(t,n)}}function Vh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zo(t,e,n,r){var i=t.updateQueue;Xt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,_=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(p=e,_=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(_,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(_,h,p):y,p==null)break e;h=Y({},h,p);break e;case 2:Xt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else _={eventTime:_,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=_,l=h):d=d.next=_,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Yn|=o,t.lanes=o,t.memoizedState=h}}function Hh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(x(191,i));i.call(r)}}}var ws={},yt=In(ws),ns=In(ws),rs=In(ws);function Bn(t){if(t===ws)throw Error(x(174));return t}function ed(t,e){switch(V(rs,e),V(ns,t),V(yt,ws),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hu(e,t)}q(yt),V(yt,e)}function Hr(){q(yt),q(ns),q(rs)}function G1(t){Bn(rs.current);var e=Bn(yt.current),n=hu(e,t.type);e!==n&&(V(ns,t),V(yt,n))}function td(t){ns.current===t&&(q(yt),q(ns))}var Q=In(0);function Yo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Il=[];function nd(){for(var t=0;t<Il.length;t++)Il[t]._workInProgressVersionPrimary=null;Il.length=0}var mo=Wt.ReactCurrentDispatcher,Tl=Wt.ReactCurrentBatchConfig,Zn=0,Z=null,se=null,ue=null,Xo=!1,ji=!1,is=0,Uv=0;function ge(){throw Error(x(321))}function rd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ct(t[n],e[n]))return!1;return!0}function id(t,e,n,r,i,s){if(Zn=s,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mo.current=t===null||t.memoizedState===null?Wv:qv,t=n(r,i),ji){s=0;do{if(ji=!1,is=0,25<=s)throw Error(x(301));s+=1,ue=se=null,e.updateQueue=null,mo.current=Kv,t=n(r,i)}while(ji)}if(mo.current=ea,e=se!==null&&se.next!==null,Zn=0,ue=se=Z=null,Xo=!1,e)throw Error(x(300));return t}function sd(){var t=is!==0;return is=0,t}function ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?Z.memoizedState=ue=t:ue=ue.next=t,ue}function Je(){if(se===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var e=ue===null?Z.memoizedState:ue.next;if(e!==null)ue=e,se=t;else{if(t===null)throw Error(x(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ue===null?Z.memoizedState=ue=t:ue=ue.next=t}return ue}function ss(t,e){return typeof e=="function"?e(t):e}function Ll(t){var e=Je(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=se,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Zn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Z.lanes|=d,Yn|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ct(r,e.memoizedState)||(Oe=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Z.lanes|=s,Yn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pl(t){var e=Je(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ct(s,e.memoizedState)||(Oe=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Q1(){}function J1(t,e){var n=Z,r=Je(),i=e(),s=!ct(r.memoizedState,i);if(s&&(r.memoizedState=i,Oe=!0),r=r.queue,od(X1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ue!==null&&ue.memoizedState.tag&1){if(n.flags|=2048,os(9,Y1.bind(null,n,r,i,e),void 0,null),de===null)throw Error(x(349));Zn&30||Z1(n,e,i)}return i}function Z1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Y1(t,e,n,r){e.value=n,e.getSnapshot=r,e0(e)&&t0(t)}function X1(t,e,n){return n(function(){e0(e)&&t0(t)})}function e0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ct(t,n)}catch{return!0}}function t0(t){var e=zt(t,1);e!==null&&lt(e,t,1,-1)}function Wh(t){var e=ht();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},e.queue=t,t=t.dispatch=Hv.bind(null,Z,t),[e.memoizedState,t]}function os(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function n0(){return Je().memoizedState}function go(t,e,n,r){var i=ht();Z.flags|=t,i.memoizedState=os(1|e,n,void 0,r===void 0?null:r)}function Pa(t,e,n,r){var i=Je();r=r===void 0?null:r;var s=void 0;if(se!==null){var o=se.memoizedState;if(s=o.destroy,r!==null&&rd(r,o.deps)){i.memoizedState=os(e,n,s,r);return}}Z.flags|=t,i.memoizedState=os(1|e,n,s,r)}function qh(t,e){return go(8390656,8,t,e)}function od(t,e){return Pa(2048,8,t,e)}function r0(t,e){return Pa(4,2,t,e)}function i0(t,e){return Pa(4,4,t,e)}function s0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function o0(t,e,n){return n=n!=null?n.concat([t]):null,Pa(4,4,s0.bind(null,e,t),n)}function ad(){}function a0(t,e){var n=Je();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function l0(t,e){var n=Je();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function u0(t,e,n){return Zn&21?(ct(n,e)||(n=p1(),Z.lanes|=n,Yn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Oe=!0),t.memoizedState=n)}function zv(t,e){var n=$;$=n!==0&&4>n?n:4,t(!0);var r=Tl.transition;Tl.transition={};try{t(!1),e()}finally{$=n,Tl.transition=r}}function c0(){return Je().memoizedState}function Vv(t,e,n){var r=mn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},d0(t))h0(e,n);else if(n=q1(t,e,n,r),n!==null){var i=Ie();lt(n,t,r,i),f0(n,e,r)}}function Hv(t,e,n){var r=mn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(d0(t))h0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ct(a,o)){var l=e.interleaved;l===null?(i.next=i,Yc(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=q1(t,e,i,r),n!==null&&(i=Ie(),lt(n,t,r,i),f0(n,e,r))}}function d0(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function h0(t,e){ji=Xo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function f0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fc(t,n)}}var ea={readContext:Qe,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},Wv={readContext:Qe,useCallback:function(t,e){return ht().memoizedState=[t,e===void 0?null:e],t},useContext:Qe,useEffect:qh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,go(4194308,4,s0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return go(4194308,4,t,e)},useInsertionEffect:function(t,e){return go(4,2,t,e)},useMemo:function(t,e){var n=ht();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ht();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Vv.bind(null,Z,t),[r.memoizedState,t]},useRef:function(t){var e=ht();return t={current:t},e.memoizedState=t},useState:Wh,useDebugValue:ad,useDeferredValue:function(t){return ht().memoizedState=t},useTransition:function(){var t=Wh(!1),e=t[0];return t=zv.bind(null,t[1]),ht().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Z,i=ht();if(K){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),de===null)throw Error(x(349));Zn&30||Z1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,qh(X1.bind(null,r,s,t),[t]),r.flags|=2048,os(9,Y1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ht(),e=de.identifierPrefix;if(K){var n=Rt,r=At;n=(r&~(1<<32-at(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=is++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Uv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qv={readContext:Qe,useCallback:a0,useContext:Qe,useEffect:od,useImperativeHandle:o0,useInsertionEffect:r0,useLayoutEffect:i0,useMemo:l0,useReducer:Ll,useRef:n0,useState:function(){return Ll(ss)},useDebugValue:ad,useDeferredValue:function(t){var e=Je();return u0(e,se.memoizedState,t)},useTransition:function(){var t=Ll(ss)[0],e=Je().memoizedState;return[t,e]},useMutableSource:Q1,useSyncExternalStore:J1,useId:c0,unstable_isNewReconciler:!1},Kv={readContext:Qe,useCallback:a0,useContext:Qe,useEffect:od,useImperativeHandle:o0,useInsertionEffect:r0,useLayoutEffect:i0,useMemo:l0,useReducer:Pl,useRef:n0,useState:function(){return Pl(ss)},useDebugValue:ad,useDeferredValue:function(t){var e=Je();return se===null?e.memoizedState=t:u0(e,se.memoizedState,t)},useTransition:function(){var t=Pl(ss)[0],e=Je().memoizedState;return[t,e]},useMutableSource:Q1,useSyncExternalStore:J1,useId:c0,unstable_isNewReconciler:!1};function Xe(t,e){if(t&&t.defaultProps){e=Y({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ru(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Y({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Na={isMounted:function(t){return(t=t._reactInternals)?rr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ie(),i=mn(t),s=$t(r,i);s.payload=e,n!=null&&(s.callback=n),e=fn(t,s,i),e!==null&&(lt(e,t,i,r),po(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ie(),i=mn(t),s=$t(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=fn(t,s,i),e!==null&&(lt(e,t,i,r),po(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ie(),r=mn(t),i=$t(n,r);i.tag=2,e!=null&&(i.callback=e),e=fn(t,i,r),e!==null&&(lt(e,t,r,n),po(e,t,r))}};function Kh(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Yi(n,r)||!Yi(i,s):!0}function p0(t,e,n){var r=!1,i=Sn,s=e.contextType;return typeof s=="object"&&s!==null?s=Qe(s):(i=be(e)?Qn:Ce.current,r=e.contextTypes,s=(r=r!=null)?Ur(t,i):Sn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Na,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Gh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Na.enqueueReplaceState(e,e.state,null)}function bu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Xc(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qe(s):(s=be(e)?Qn:Ce.current,i.context=Ur(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ru(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Na.enqueueReplaceState(i,i.state,null),Zo(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wr(t,e){try{var n="",r=e;do n+=C2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Nl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Gv=typeof WeakMap=="function"?WeakMap:Map;function m0(t,e,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){na||(na=!0,Wu=r),Mu(t,e)},n}function g0(t,e,n){n=$t(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Mu(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mu(t,e),typeof r!="function"&&(pn===null?pn=new Set([this]):pn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Qh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Gv;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ly.bind(null,t,e,n),e.then(t,t))}function Jh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zh(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$t(-1,1),e.tag=2,fn(n,e,1))),n.lanes|=1),t)}var Qv=Wt.ReactCurrentOwner,Oe=!1;function Ee(t,e,n,r){e.child=t===null?W1(e,null,n,r):Vr(e,t.child,n,r)}function Yh(t,e,n,r,i){n=n.render;var s=e.ref;return Ar(e,i),r=id(t,e,n,r,s,i),n=sd(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vt(t,e,i)):(K&&n&&qc(e),e.flags|=1,Ee(t,e,r,i),e.child)}function Xh(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!md(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,v0(t,e,s,r,i)):(t=_o(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Yi,n(o,r)&&t.ref===e.ref)return Vt(t,e,i)}return e.flags|=1,t=gn(s,r),t.ref=e.ref,t.return=e,e.child=t}function v0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Yi(s,r)&&t.ref===e.ref)if(Oe=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Oe=!0);else return e.lanes=t.lanes,Vt(t,e,i)}return ju(t,e,n,r,i)}function y0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(kr,je),je|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,V(kr,je),je|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,V(kr,je),je|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,V(kr,je),je|=r;return Ee(t,e,i,n),e.child}function w0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ju(t,e,n,r,i){var s=be(n)?Qn:Ce.current;return s=Ur(e,s),Ar(e,i),n=id(t,e,n,r,s,i),r=sd(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vt(t,e,i)):(K&&r&&qc(e),e.flags|=1,Ee(t,e,n,i),e.child)}function ef(t,e,n,r,i){if(be(n)){var s=!0;qo(e)}else s=!1;if(Ar(e,i),e.stateNode===null)vo(t,e),p0(e,n,r),bu(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qe(u):(u=be(n)?Qn:Ce.current,u=Ur(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Gh(e,o,r,u),Xt=!1;var p=e.memoizedState;o.state=p,Zo(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Re.current||Xt?(typeof d=="function"&&(Ru(e,n,d,r),l=e.memoizedState),(a=Xt||Kh(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,K1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Xe(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qe(l):(l=be(n)?Qn:Ce.current,l=Ur(e,l));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Gh(e,o,r,l),Xt=!1,p=e.memoizedState,o.state=p,Zo(e,r,o,i);var y=e.memoizedState;a!==h||p!==y||Re.current||Xt?(typeof _=="function"&&(Ru(e,n,_,r),y=e.memoizedState),(u=Xt||Kh(e,n,u,r,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Du(t,e,n,r,s,i)}function Du(t,e,n,r,i,s){w0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&$h(e,n,!1),Vt(t,e,s);r=e.stateNode,Qv.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Vr(e,t.child,null,s),e.child=Vr(e,null,a,s)):Ee(t,e,a,s),e.memoizedState=r.state,i&&$h(e,n,!0),e.child}function _0(t){var e=t.stateNode;e.pendingContext?Fh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fh(t,e.context,!1),ed(t,e.containerInfo)}function tf(t,e,n,r,i){return zr(),Gc(i),e.flags|=256,Ee(t,e,n,r),e.child}var Fu={dehydrated:null,treeContext:null,retryLane:0};function $u(t){return{baseLanes:t,cachePool:null,transitions:null}}function C0(t,e,n){var r=e.pendingProps,i=Q.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),V(Q,i&1),t===null)return Ou(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ra(o,r,0,null),t=Wn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=$u(n),e.memoizedState=Fu,t):ld(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Jv(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=gn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=gn(a,s):(s=Wn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?$u(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Fu,r}return s=t.child,t=s.sibling,r=gn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ld(t,e){return e=Ra({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qs(t,e,n,r){return r!==null&&Gc(r),Vr(e,t.child,null,n),t=ld(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Jv(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Nl(Error(x(422))),qs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ra({mode:"visible",children:r.children},i,0,null),s=Wn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Vr(e,t.child,null,o),e.child.memoizedState=$u(o),e.memoizedState=Fu,s);if(!(e.mode&1))return qs(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(x(419)),r=Nl(s,r,void 0),qs(t,e,o,r)}if(a=(o&t.childLanes)!==0,Oe||a){if(r=de,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,zt(t,i),lt(r,t,i,-1))}return pd(),r=Nl(Error(x(421))),qs(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uy.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,De=hn(i.nextSibling),Fe=e,K=!0,nt=null,t!==null&&(He[We++]=At,He[We++]=Rt,He[We++]=Jn,At=t.id,Rt=t.overflow,Jn=e),e=ld(e,r.children),e.flags|=4096,e)}function nf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Au(t.return,e,n)}function Ol(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function S0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ee(t,e,r.children,n),r=Q.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nf(t,n,e);else if(t.tag===19)nf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(V(Q,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Yo(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ol(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yo(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ol(e,!0,n,null,s);break;case"together":Ol(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=gn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Zv(t,e,n){switch(e.tag){case 3:_0(e),zr();break;case 5:G1(e);break;case 1:be(e.type)&&qo(e);break;case 4:ed(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;V(Qo,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(V(Q,Q.current&1),e.flags|=128,null):n&e.child.childLanes?C0(t,e,n):(V(Q,Q.current&1),t=Vt(t,e,n),t!==null?t.sibling:null);V(Q,Q.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return S0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(Q,Q.current),r)break;return null;case 22:case 23:return e.lanes=0,y0(t,e,n)}return Vt(t,e,n)}var k0,Bu,E0,x0;k0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bu=function(){};E0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Bn(yt.current);var s=null;switch(n){case"input":i=lu(t,i),r=lu(t,r),s=[];break;case"select":i=Y({},i,{value:void 0}),r=Y({},r,{value:void 0}),s=[];break;case"textarea":i=du(t,i),r=du(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ho)}fu(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wi.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&W("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};x0=function(t,e,n,r){n!==r&&(e.flags|=4)};function yi(t,e){if(!K)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Yv(t,e,n){var r=e.pendingProps;switch(Kc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(e),null;case 1:return be(e.type)&&Wo(),ve(e),null;case 3:return r=e.stateNode,Hr(),q(Re),q(Ce),nd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nt!==null&&(Gu(nt),nt=null))),Bu(t,e),ve(e),null;case 5:td(e);var i=Bn(rs.current);if(n=e.type,t!==null&&e.stateNode!=null)E0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(x(166));return ve(e),null}if(t=Bn(yt.current),Hs(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[mt]=e,r[ts]=s,t=(e.mode&1)!==0,n){case"dialog":W("cancel",r),W("close",r);break;case"iframe":case"object":case"embed":W("load",r);break;case"video":case"audio":for(i=0;i<Pi.length;i++)W(Pi[i],r);break;case"source":W("error",r);break;case"img":case"image":case"link":W("error",r),W("load",r);break;case"details":W("toggle",r);break;case"input":dh(r,s),W("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},W("invalid",r);break;case"textarea":fh(r,s),W("invalid",r)}fu(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Vs(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Vs(r.textContent,a,t),i=["children",""+a]):Wi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&W("scroll",r)}switch(n){case"input":Ms(r),hh(r,s,!0);break;case"textarea":Ms(r),ph(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ho)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mt]=e,t[ts]=r,k0(t,e,!1,!1),e.stateNode=t;e:{switch(o=pu(n,r),n){case"dialog":W("cancel",t),W("close",t),i=r;break;case"iframe":case"object":case"embed":W("load",t),i=r;break;case"video":case"audio":for(i=0;i<Pi.length;i++)W(Pi[i],t);i=r;break;case"source":W("error",t),i=r;break;case"img":case"image":case"link":W("error",t),W("load",t),i=r;break;case"details":W("toggle",t),i=r;break;case"input":dh(t,r),i=lu(t,r),W("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Y({},r,{value:void 0}),W("invalid",t);break;case"textarea":fh(t,r),i=du(t,r),W("invalid",t);break;default:i=r}fu(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?n1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&e1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qi(t,l):typeof l=="number"&&qi(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wi.hasOwnProperty(s)?l!=null&&s==="onScroll"&&W("scroll",t):l!=null&&Ac(t,s,l,o))}switch(n){case"input":Ms(t),hh(t,r,!1);break;case"textarea":Ms(t),ph(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Cn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Lr(t,!!r.multiple,s,!1):r.defaultValue!=null&&Lr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ho)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ve(e),null;case 6:if(t&&e.stateNode!=null)x0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(x(166));if(n=Bn(rs.current),Bn(yt.current),Hs(e)){if(r=e.stateNode,n=e.memoizedProps,r[mt]=e,(s=r.nodeValue!==n)&&(t=Fe,t!==null))switch(t.tag){case 3:Vs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vs(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mt]=e,e.stateNode=r}return ve(e),null;case 13:if(q(Q),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(K&&De!==null&&e.mode&1&&!(e.flags&128))V1(),zr(),e.flags|=98560,s=!1;else if(s=Hs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(x(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(x(317));s[mt]=e}else zr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ve(e),s=!1}else nt!==null&&(Gu(nt),nt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Q.current&1?oe===0&&(oe=3):pd())),e.updateQueue!==null&&(e.flags|=4),ve(e),null);case 4:return Hr(),Bu(t,e),t===null&&Xi(e.stateNode.containerInfo),ve(e),null;case 10:return Zc(e.type._context),ve(e),null;case 17:return be(e.type)&&Wo(),ve(e),null;case 19:if(q(Q),s=e.memoizedState,s===null)return ve(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)yi(s,!1);else{if(oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yo(t),o!==null){for(e.flags|=128,yi(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return V(Q,Q.current&1|2),e.child}t=t.sibling}s.tail!==null&&te()>qr&&(e.flags|=128,r=!0,yi(s,!1),e.lanes=4194304)}else{if(!r)if(t=Yo(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),yi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!K)return ve(e),null}else 2*te()-s.renderingStartTime>qr&&n!==1073741824&&(e.flags|=128,r=!0,yi(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=te(),e.sibling=null,n=Q.current,V(Q,r?n&1|2:n&1),e):(ve(e),null);case 22:case 23:return fd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?je&1073741824&&(ve(e),e.subtreeFlags&6&&(e.flags|=8192)):ve(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function Xv(t,e){switch(Kc(e),e.tag){case 1:return be(e.type)&&Wo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hr(),q(Re),q(Ce),nd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return td(e),null;case 13:if(q(Q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));zr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return q(Q),null;case 4:return Hr(),null;case 10:return Zc(e.type._context),null;case 22:case 23:return fd(),null;case 24:return null;default:return null}}var Ks=!1,we=!1,ey=typeof WeakSet=="function"?WeakSet:Set,L=null;function Sr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){X(t,e,r)}else n.current=null}function Uu(t,e,n){try{n()}catch(r){X(t,e,r)}}var rf=!1;function ty(t,e){if(Eu=Uo,t=N1(),Wc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var _;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(_=h.firstChild)!==null;)p=h,h=_;for(;;){if(h===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++d===r&&(l=o),(_=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=_}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xu={focusedElem:t,selectionRange:n},Uo=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,S=y.memoizedState,m=e.stateNode,f=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:Xe(e.type,w),S);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(C){X(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return y=rf,rf=!1,y}function Di(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Uu(e,n,s)}i=i.next}while(i!==r)}}function Oa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function I0(t){var e=t.alternate;e!==null&&(t.alternate=null,I0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mt],delete e[ts],delete e[Lu],delete e[Dv],delete e[Fv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function T0(t){return t.tag===5||t.tag===3||t.tag===4}function sf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ho));else if(r!==4&&(t=t.child,t!==null))for(Vu(t,e,n),t=t.sibling;t!==null;)Vu(t,e,n),t=t.sibling}function Hu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hu(t,e,n),t=t.sibling;t!==null;)Hu(t,e,n),t=t.sibling}var he=null,et=!1;function Qt(t,e,n){for(n=n.child;n!==null;)L0(t,e,n),n=n.sibling}function L0(t,e,n){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(ka,n)}catch{}switch(n.tag){case 5:we||Sr(n,e);case 6:var r=he,i=et;he=null,Qt(t,e,n),he=r,et=i,he!==null&&(et?(t=he,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):he.removeChild(n.stateNode));break;case 18:he!==null&&(et?(t=he,n=n.stateNode,t.nodeType===8?El(t.parentNode,n):t.nodeType===1&&El(t,n),Ji(t)):El(he,n.stateNode));break;case 4:r=he,i=et,he=n.stateNode.containerInfo,et=!0,Qt(t,e,n),he=r,et=i;break;case 0:case 11:case 14:case 15:if(!we&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Uu(n,e,o),i=i.next}while(i!==r)}Qt(t,e,n);break;case 1:if(!we&&(Sr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){X(n,e,a)}Qt(t,e,n);break;case 21:Qt(t,e,n);break;case 22:n.mode&1?(we=(r=we)||n.memoizedState!==null,Qt(t,e,n),we=r):Qt(t,e,n);break;default:Qt(t,e,n)}}function of(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ey),e.forEach(function(r){var i=cy.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ze(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:he=a.stateNode,et=!1;break e;case 3:he=a.stateNode.containerInfo,et=!0;break e;case 4:he=a.stateNode.containerInfo,et=!0;break e}a=a.return}if(he===null)throw Error(x(160));L0(s,o,i),he=null,et=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){X(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)P0(e,t),e=e.sibling}function P0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ze(e,t),dt(t),r&4){try{Di(3,t,t.return),Oa(3,t)}catch(w){X(t,t.return,w)}try{Di(5,t,t.return)}catch(w){X(t,t.return,w)}}break;case 1:Ze(e,t),dt(t),r&512&&n!==null&&Sr(n,n.return);break;case 5:if(Ze(e,t),dt(t),r&512&&n!==null&&Sr(n,n.return),t.flags&32){var i=t.stateNode;try{qi(i,"")}catch(w){X(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Zp(i,s),pu(a,o);var u=pu(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?n1(i,h):d==="dangerouslySetInnerHTML"?e1(i,h):d==="children"?qi(i,h):Ac(i,d,h,u)}switch(a){case"input":uu(i,s);break;case"textarea":Yp(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Lr(i,!!s.multiple,_,!1):p!==!!s.multiple&&(s.defaultValue!=null?Lr(i,!!s.multiple,s.defaultValue,!0):Lr(i,!!s.multiple,s.multiple?[]:"",!1))}i[ts]=s}catch(w){X(t,t.return,w)}}break;case 6:if(Ze(e,t),dt(t),r&4){if(t.stateNode===null)throw Error(x(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){X(t,t.return,w)}}break;case 3:if(Ze(e,t),dt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ji(e.containerInfo)}catch(w){X(t,t.return,w)}break;case 4:Ze(e,t),dt(t);break;case 13:Ze(e,t),dt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(dd=te())),r&4&&of(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(we=(u=we)||d,Ze(e,t),we=u):Ze(e,t),dt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(L=t,d=t.child;d!==null;){for(h=L=d;L!==null;){switch(p=L,_=p.child,p.tag){case 0:case 11:case 14:case 15:Di(4,p,p.return);break;case 1:Sr(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){X(r,n,w)}}break;case 5:Sr(p,p.return);break;case 22:if(p.memoizedState!==null){lf(h);continue}}_!==null?(_.return=p,L=_):lf(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=t1("display",o))}catch(w){X(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){X(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ze(e,t),dt(t),r&4&&of(t);break;case 21:break;default:Ze(e,t),dt(t)}}function dt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(T0(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qi(i,""),r.flags&=-33);var s=sf(t);Hu(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=sf(t);Vu(t,a,o);break;default:throw Error(x(161))}}catch(l){X(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ny(t,e,n){L=t,N0(t)}function N0(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ks;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||we;a=Ks;var u=we;if(Ks=o,(we=l)&&!u)for(L=i;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?uf(i):l!==null?(l.return=o,L=l):uf(i);for(;s!==null;)L=s,N0(s),s=s.sibling;L=i,Ks=a,we=u}af(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):af(t)}}function af(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:we||Oa(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!we)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Xe(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Hh(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hh(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ji(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}we||e.flags&512&&zu(e)}catch(p){X(e,e.return,p)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function lf(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function uf(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Oa(4,e)}catch(l){X(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){X(e,i,l)}}var s=e.return;try{zu(e)}catch(l){X(e,s,l)}break;case 5:var o=e.return;try{zu(e)}catch(l){X(e,o,l)}}}catch(l){X(e,e.return,l)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var ry=Math.ceil,ta=Wt.ReactCurrentDispatcher,ud=Wt.ReactCurrentOwner,Ge=Wt.ReactCurrentBatchConfig,F=0,de=null,re=null,fe=0,je=0,kr=In(0),oe=0,as=null,Yn=0,Aa=0,cd=0,Fi=null,Ne=null,dd=0,qr=1/0,Lt=null,na=!1,Wu=null,pn=null,Gs=!1,on=null,ra=0,$i=0,qu=null,yo=-1,wo=0;function Ie(){return F&6?te():yo!==-1?yo:yo=te()}function mn(t){return t.mode&1?F&2&&fe!==0?fe&-fe:Bv.transition!==null?(wo===0&&(wo=p1()),wo):(t=$,t!==0||(t=window.event,t=t===void 0?16:C1(t.type)),t):1}function lt(t,e,n,r){if(50<$i)throw $i=0,qu=null,Error(x(185));gs(t,n,r),(!(F&2)||t!==de)&&(t===de&&(!(F&2)&&(Aa|=n),oe===4&&tn(t,fe)),Me(t,r),n===1&&F===0&&!(e.mode&1)&&(qr=te()+500,La&&Tn()))}function Me(t,e){var n=t.callbackNode;B2(t,e);var r=Bo(t,t===de?fe:0);if(r===0)n!==null&&vh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vh(n),e===1)t.tag===0?$v(cf.bind(null,t)):B1(cf.bind(null,t)),Mv(function(){!(F&6)&&Tn()}),n=null;else{switch(m1(r)){case 1:n=Dc;break;case 4:n=h1;break;case 16:n=$o;break;case 536870912:n=f1;break;default:n=$o}n=F0(n,O0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function O0(t,e){if(yo=-1,wo=0,F&6)throw Error(x(327));var n=t.callbackNode;if(Rr()&&t.callbackNode!==n)return null;var r=Bo(t,t===de?fe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ia(t,r);else{e=r;var i=F;F|=2;var s=R0();(de!==t||fe!==e)&&(Lt=null,qr=te()+500,Hn(t,e));do try{oy();break}catch(a){A0(t,a)}while(!0);Jc(),ta.current=s,F=i,re!==null?e=0:(de=null,fe=0,e=oe)}if(e!==0){if(e===2&&(i=wu(t),i!==0&&(r=i,e=Ku(t,i))),e===1)throw n=as,Hn(t,0),tn(t,r),Me(t,te()),n;if(e===6)tn(t,r);else{if(i=t.current.alternate,!(r&30)&&!iy(i)&&(e=ia(t,r),e===2&&(s=wu(t),s!==0&&(r=s,e=Ku(t,s))),e===1))throw n=as,Hn(t,0),tn(t,r),Me(t,te()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(x(345));case 2:jn(t,Ne,Lt);break;case 3:if(tn(t,r),(r&130023424)===r&&(e=dd+500-te(),10<e)){if(Bo(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ie(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Tu(jn.bind(null,t,Ne,Lt),e);break}jn(t,Ne,Lt);break;case 4:if(tn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-at(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ry(r/1960))-r,10<r){t.timeoutHandle=Tu(jn.bind(null,t,Ne,Lt),r);break}jn(t,Ne,Lt);break;case 5:jn(t,Ne,Lt);break;default:throw Error(x(329))}}}return Me(t,te()),t.callbackNode===n?O0.bind(null,t):null}function Ku(t,e){var n=Fi;return t.current.memoizedState.isDehydrated&&(Hn(t,e).flags|=256),t=ia(t,e),t!==2&&(e=Ne,Ne=n,e!==null&&Gu(e)),t}function Gu(t){Ne===null?Ne=t:Ne.push.apply(Ne,t)}function iy(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ct(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function tn(t,e){for(e&=~cd,e&=~Aa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-at(e),r=1<<n;t[n]=-1,e&=~r}}function cf(t){if(F&6)throw Error(x(327));Rr();var e=Bo(t,0);if(!(e&1))return Me(t,te()),null;var n=ia(t,e);if(t.tag!==0&&n===2){var r=wu(t);r!==0&&(e=r,n=Ku(t,r))}if(n===1)throw n=as,Hn(t,0),tn(t,e),Me(t,te()),n;if(n===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jn(t,Ne,Lt),Me(t,te()),null}function hd(t,e){var n=F;F|=1;try{return t(e)}finally{F=n,F===0&&(qr=te()+500,La&&Tn())}}function Xn(t){on!==null&&on.tag===0&&!(F&6)&&Rr();var e=F;F|=1;var n=Ge.transition,r=$;try{if(Ge.transition=null,$=1,t)return t()}finally{$=r,Ge.transition=n,F=e,!(F&6)&&Tn()}}function fd(){je=kr.current,q(kr)}function Hn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bv(n)),re!==null)for(n=re.return;n!==null;){var r=n;switch(Kc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wo();break;case 3:Hr(),q(Re),q(Ce),nd();break;case 5:td(r);break;case 4:Hr();break;case 13:q(Q);break;case 19:q(Q);break;case 10:Zc(r.type._context);break;case 22:case 23:fd()}n=n.return}if(de=t,re=t=gn(t.current,null),fe=je=e,oe=0,as=null,cd=Aa=Yn=0,Ne=Fi=null,$n!==null){for(e=0;e<$n.length;e++)if(n=$n[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}$n=null}return t}function A0(t,e){do{var n=re;try{if(Jc(),mo.current=ea,Xo){for(var r=Z.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xo=!1}if(Zn=0,ue=se=Z=null,ji=!1,is=0,ud.current=null,n===null||n.return===null){oe=1,as=e,re=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=fe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=Jh(o);if(_!==null){_.flags&=-257,Zh(_,o,a,s,e),_.mode&1&&Qh(s,u,e),e=_,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){Qh(s,u,e),pd();break e}l=Error(x(426))}}else if(K&&a.mode&1){var S=Jh(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Zh(S,o,a,s,e),Gc(Wr(l,a));break e}}s=l=Wr(l,a),oe!==4&&(oe=2),Fi===null?Fi=[s]:Fi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=m0(s,l,e);Vh(s,m);break e;case 1:a=l;var f=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(pn===null||!pn.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=g0(s,a,e);Vh(s,C);break e}}s=s.return}while(s!==null)}M0(n)}catch(E){e=E,re===n&&n!==null&&(re=n=n.return);continue}break}while(!0)}function R0(){var t=ta.current;return ta.current=ea,t===null?ea:t}function pd(){(oe===0||oe===3||oe===2)&&(oe=4),de===null||!(Yn&268435455)&&!(Aa&268435455)||tn(de,fe)}function ia(t,e){var n=F;F|=2;var r=R0();(de!==t||fe!==e)&&(Lt=null,Hn(t,e));do try{sy();break}catch(i){A0(t,i)}while(!0);if(Jc(),F=n,ta.current=r,re!==null)throw Error(x(261));return de=null,fe=0,oe}function sy(){for(;re!==null;)b0(re)}function oy(){for(;re!==null&&!O2();)b0(re)}function b0(t){var e=D0(t.alternate,t,je);t.memoizedProps=t.pendingProps,e===null?M0(t):re=e,ud.current=null}function M0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Xv(n,e),n!==null){n.flags&=32767,re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{oe=6,re=null;return}}else if(n=Yv(n,e,je),n!==null){re=n;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);oe===0&&(oe=5)}function jn(t,e,n){var r=$,i=Ge.transition;try{Ge.transition=null,$=1,ay(t,e,n,r)}finally{Ge.transition=i,$=r}return null}function ay(t,e,n,r){do Rr();while(on!==null);if(F&6)throw Error(x(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(U2(t,s),t===de&&(re=de=null,fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gs||(Gs=!0,F0($o,function(){return Rr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ge.transition,Ge.transition=null;var o=$;$=1;var a=F;F|=4,ud.current=null,ty(t,n),P0(n,t),Tv(xu),Uo=!!Eu,xu=Eu=null,t.current=n,ny(n),A2(),F=a,$=o,Ge.transition=s}else t.current=n;if(Gs&&(Gs=!1,on=t,ra=i),s=t.pendingLanes,s===0&&(pn=null),M2(n.stateNode),Me(t,te()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(na)throw na=!1,t=Wu,Wu=null,t;return ra&1&&t.tag!==0&&Rr(),s=t.pendingLanes,s&1?t===qu?$i++:($i=0,qu=t):$i=0,Tn(),null}function Rr(){if(on!==null){var t=m1(ra),e=Ge.transition,n=$;try{if(Ge.transition=null,$=16>t?16:t,on===null)var r=!1;else{if(t=on,on=null,ra=0,F&6)throw Error(x(331));var i=F;for(F|=4,L=t.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(L=u;L!==null;){var d=L;switch(d.tag){case 0:case 11:case 15:Di(8,d,s)}var h=d.child;if(h!==null)h.return=d,L=h;else for(;L!==null;){d=L;var p=d.sibling,_=d.return;if(I0(d),d===u){L=null;break}if(p!==null){p.return=_,L=p;break}L=_}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Di(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,L=m;break e}L=s.return}}var f=t.current;for(L=f;L!==null;){o=L;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,L=v;else e:for(o=f;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Oa(9,a)}}catch(E){X(a,a.return,E)}if(a===o){L=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,L=C;break e}L=a.return}}if(F=i,Tn(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(ka,t)}catch{}r=!0}return r}finally{$=n,Ge.transition=e}}return!1}function df(t,e,n){e=Wr(n,e),e=m0(t,e,1),t=fn(t,e,1),e=Ie(),t!==null&&(gs(t,1,e),Me(t,e))}function X(t,e,n){if(t.tag===3)df(t,t,n);else for(;e!==null;){if(e.tag===3){df(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pn===null||!pn.has(r))){t=Wr(n,t),t=g0(e,t,1),e=fn(e,t,1),t=Ie(),e!==null&&(gs(e,1,t),Me(e,t));break}}e=e.return}}function ly(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ie(),t.pingedLanes|=t.suspendedLanes&n,de===t&&(fe&n)===n&&(oe===4||oe===3&&(fe&130023424)===fe&&500>te()-dd?Hn(t,0):cd|=n),Me(t,e)}function j0(t,e){e===0&&(t.mode&1?(e=Fs,Fs<<=1,!(Fs&130023424)&&(Fs=4194304)):e=1);var n=Ie();t=zt(t,e),t!==null&&(gs(t,e,n),Me(t,n))}function uy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),j0(t,n)}function cy(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(e),j0(t,n)}var D0;D0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Re.current)Oe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Oe=!1,Zv(t,e,n);Oe=!!(t.flags&131072)}else Oe=!1,K&&e.flags&1048576&&U1(e,Go,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vo(t,e),t=e.pendingProps;var i=Ur(e,Ce.current);Ar(e,n),i=id(null,e,r,t,i,n);var s=sd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,be(r)?(s=!0,qo(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xc(e),i.updater=Na,e.stateNode=i,i._reactInternals=e,bu(e,r,t,n),e=Du(null,e,r,!0,s,n)):(e.tag=0,K&&s&&qc(e),Ee(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=hy(r),t=Xe(r,t),i){case 0:e=ju(null,e,r,t,n);break e;case 1:e=ef(null,e,r,t,n);break e;case 11:e=Yh(null,e,r,t,n);break e;case 14:e=Xh(null,e,r,Xe(r.type,t),n);break e}throw Error(x(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xe(r,i),ju(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xe(r,i),ef(t,e,r,i,n);case 3:e:{if(_0(e),t===null)throw Error(x(387));r=e.pendingProps,s=e.memoizedState,i=s.element,K1(t,e),Zo(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Wr(Error(x(423)),e),e=tf(t,e,r,n,i);break e}else if(r!==i){i=Wr(Error(x(424)),e),e=tf(t,e,r,n,i);break e}else for(De=hn(e.stateNode.containerInfo.firstChild),Fe=e,K=!0,nt=null,n=W1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zr(),r===i){e=Vt(t,e,n);break e}Ee(t,e,r,n)}e=e.child}return e;case 5:return G1(e),t===null&&Ou(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Iu(r,i)?o=null:s!==null&&Iu(r,s)&&(e.flags|=32),w0(t,e),Ee(t,e,o,n),e.child;case 6:return t===null&&Ou(e),null;case 13:return C0(t,e,n);case 4:return ed(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vr(e,null,r,n):Ee(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xe(r,i),Yh(t,e,r,i,n);case 7:return Ee(t,e,e.pendingProps,n),e.child;case 8:return Ee(t,e,e.pendingProps.children,n),e.child;case 12:return Ee(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,V(Qo,r._currentValue),r._currentValue=o,s!==null)if(ct(s.value,o)){if(s.children===i.children&&!Re.current){e=Vt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=$t(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Au(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(x(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Au(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ee(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ar(e,n),i=Qe(i),r=r(i),e.flags|=1,Ee(t,e,r,n),e.child;case 14:return r=e.type,i=Xe(r,e.pendingProps),i=Xe(r.type,i),Xh(t,e,r,i,n);case 15:return v0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xe(r,i),vo(t,e),e.tag=1,be(r)?(t=!0,qo(e)):t=!1,Ar(e,n),p0(e,r,i),bu(e,r,i,n),Du(null,e,r,!0,t,n);case 19:return S0(t,e,n);case 22:return y0(t,e,n)}throw Error(x(156,e.tag))};function F0(t,e){return d1(t,e)}function dy(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(t,e,n,r){return new dy(t,e,n,r)}function md(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hy(t){if(typeof t=="function")return md(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bc)return 11;if(t===Mc)return 14}return 2}function gn(t,e){var n=t.alternate;return n===null?(n=Ke(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _o(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")md(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fr:return Wn(n.children,i,s,e);case Rc:o=8,i|=8;break;case iu:return t=Ke(12,n,e,i|2),t.elementType=iu,t.lanes=s,t;case su:return t=Ke(13,n,e,i),t.elementType=su,t.lanes=s,t;case ou:return t=Ke(19,n,e,i),t.elementType=ou,t.lanes=s,t;case Gp:return Ra(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qp:o=10;break e;case Kp:o=9;break e;case bc:o=11;break e;case Mc:o=14;break e;case Yt:o=16,r=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=Ke(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Wn(t,e,n,r){return t=Ke(7,t,r,e),t.lanes=n,t}function Ra(t,e,n,r){return t=Ke(22,t,r,e),t.elementType=Gp,t.lanes=n,t.stateNode={isHidden:!1},t}function Al(t,e,n){return t=Ke(6,t,null,e),t.lanes=n,t}function Rl(t,e,n){return e=Ke(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fy(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fl(0),this.expirationTimes=fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gd(t,e,n,r,i,s,o,a,l){return t=new fy(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ke(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xc(s),t}function py(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $0(t){if(!t)return Sn;t=t._reactInternals;e:{if(rr(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var n=t.type;if(be(n))return $1(t,n,e)}return e}function B0(t,e,n,r,i,s,o,a,l){return t=gd(n,r,!0,t,i,s,o,a,l),t.context=$0(null),n=t.current,r=Ie(),i=mn(n),s=$t(r,i),s.callback=e??null,fn(n,s,i),t.current.lanes=i,gs(t,i,r),Me(t,r),t}function ba(t,e,n,r){var i=e.current,s=Ie(),o=mn(i);return n=$0(n),e.context===null?e.context=n:e.pendingContext=n,e=$t(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fn(i,e,o),t!==null&&(lt(t,i,o,s),po(t,i,o)),o}function sa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vd(t,e){hf(t,e),(t=t.alternate)&&hf(t,e)}function my(){return null}var U0=typeof reportError=="function"?reportError:function(t){console.error(t)};function yd(t){this._internalRoot=t}Ma.prototype.render=yd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));ba(t,e,null,null)};Ma.prototype.unmount=yd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xn(function(){ba(null,t,null,null)}),e[Ut]=null}};function Ma(t){this._internalRoot=t}Ma.prototype.unstable_scheduleHydration=function(t){if(t){var e=y1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<en.length&&e!==0&&e<en[n].priority;n++);en.splice(n,0,t),n===0&&_1(t)}};function wd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ja(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ff(){}function gy(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=sa(o);s.call(u)}}var o=B0(e,r,t,0,null,!1,!1,"",ff);return t._reactRootContainer=o,t[Ut]=o.current,Xi(t.nodeType===8?t.parentNode:t),Xn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=sa(l);a.call(u)}}var l=gd(t,0,!1,null,null,!1,!1,"",ff);return t._reactRootContainer=l,t[Ut]=l.current,Xi(t.nodeType===8?t.parentNode:t),Xn(function(){ba(e,l,n,r)}),l}function Da(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=sa(o);a.call(l)}}ba(e,o,t,i)}else o=gy(n,e,t,i,r);return sa(o)}g1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Li(e.pendingLanes);n!==0&&(Fc(e,n|1),Me(e,te()),!(F&6)&&(qr=te()+500,Tn()))}break;case 13:Xn(function(){var r=zt(t,1);if(r!==null){var i=Ie();lt(r,t,1,i)}}),vd(t,1)}};$c=function(t){if(t.tag===13){var e=zt(t,134217728);if(e!==null){var n=Ie();lt(e,t,134217728,n)}vd(t,134217728)}};v1=function(t){if(t.tag===13){var e=mn(t),n=zt(t,e);if(n!==null){var r=Ie();lt(n,t,e,r)}vd(t,e)}};y1=function(){return $};w1=function(t,e){var n=$;try{return $=t,e()}finally{$=n}};gu=function(t,e,n){switch(e){case"input":if(uu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ta(r);if(!i)throw Error(x(90));Jp(r),uu(r,i)}}}break;case"textarea":Yp(t,n);break;case"select":e=n.value,e!=null&&Lr(t,!!n.multiple,e,!1)}};s1=hd;o1=Xn;var vy={usingClientEntryPoint:!1,Events:[ys,vr,Ta,r1,i1,hd]},wi={findFiberByHostInstance:Fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yy={bundleType:wi.bundleType,version:wi.version,rendererPackageName:wi.rendererPackageName,rendererConfig:wi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=u1(t),t===null?null:t.stateNode},findFiberByHostInstance:wi.findFiberByHostInstance||my,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qs.isDisabled&&Qs.supportsFiber)try{ka=Qs.inject(yy),vt=Qs}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vy;Ue.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wd(e))throw Error(x(200));return py(t,e,null,n)};Ue.createRoot=function(t,e){if(!wd(t))throw Error(x(299));var n=!1,r="",i=U0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gd(t,1,!1,null,null,n,!1,r,i),t[Ut]=e.current,Xi(t.nodeType===8?t.parentNode:t),new yd(e)};Ue.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=u1(e),t=t===null?null:t.stateNode,t};Ue.flushSync=function(t){return Xn(t)};Ue.hydrate=function(t,e,n){if(!ja(e))throw Error(x(200));return Da(null,t,e,!0,n)};Ue.hydrateRoot=function(t,e,n){if(!wd(t))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=U0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=B0(e,null,t,1,n??null,i,!1,s,o),t[Ut]=e.current,Xi(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ma(e)};Ue.render=function(t,e,n){if(!ja(e))throw Error(x(200));return Da(null,t,e,!1,n)};Ue.unmountComponentAtNode=function(t){if(!ja(t))throw Error(x(40));return t._reactRootContainer?(Xn(function(){Da(null,null,t,!1,function(){t._reactRootContainer=null,t[Ut]=null})}),!0):!1};Ue.unstable_batchedUpdates=hd;Ue.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ja(n))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return Da(t,e,n,!1,r)};Ue.version="18.3.1-next-f1338f8080-20240426";function z0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z0)}catch(t){console.error(t)}}z0(),zp.exports=Ue;var wy=zp.exports,pf=wy;nu.createRoot=pf.createRoot,nu.hydrateRoot=pf.hydrateRoot;/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ls(){return ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ls.apply(this,arguments)}var an;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(an||(an={}));const mf="popstate";function _y(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Qu("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:oa(i)}return Sy(e,n,null,t)}function ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function V0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Cy(){return Math.random().toString(36).substr(2,8)}function gf(t,e){return{usr:t.state,key:t.key,idx:e}}function Qu(t,e,n,r){return n===void 0&&(n=null),ls({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ni(e):e,{state:n,key:e&&e.key||r||Cy()})}function oa(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ni(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Sy(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=an.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ls({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=an.Pop;let S=d(),m=S==null?null:S-u;u=S,l&&l({action:a,location:w.location,delta:m})}function p(S,m){a=an.Push;let f=Qu(w.location,S,m);u=d()+1;let v=gf(f,u),C=w.createHref(f);try{o.pushState(v,"",C)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(C)}s&&l&&l({action:a,location:w.location,delta:1})}function _(S,m){a=an.Replace;let f=Qu(w.location,S,m);u=d();let v=gf(f,u),C=w.createHref(f);o.replaceState(v,"",C),s&&l&&l({action:a,location:w.location,delta:0})}function y(S){let m=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof S=="string"?S:oa(S);return f=f.replace(/ $/,"%20"),ne(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let w={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(mf,h),l=S,()=>{i.removeEventListener(mf,h),l=null}},createHref(S){return e(i,S)},createURL:y,encodeLocation(S){let m=y(S);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:_,go(S){return o.go(S)}};return w}var vf;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vf||(vf={}));function ky(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ni(e):e,i=_d(r.pathname||"/",n);if(i==null)return null;let s=H0(t);Ey(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=jy(i);o=Ry(s[a],l)}return o}function H0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ne(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=vn([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(ne(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),H0(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Oy(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of W0(s.path))i(s,o,l)}),e}function W0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=W0(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Ey(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ay(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xy=/^:[\w-]+$/,Iy=3,Ty=2,Ly=1,Py=10,Ny=-2,yf=t=>t==="*";function Oy(t,e){let n=t.split("/"),r=n.length;return n.some(yf)&&(r+=Ny),e&&(r+=Ty),n.filter(i=>!yf(i)).reduce((i,s)=>i+(xy.test(s)?Iy:s===""?Ly:Py),r)}function Ay(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Ry(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=by({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let h=a.route;s.push({params:r,pathname:vn([i,d.pathname]),pathnameBase:By(vn([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=vn([i,d.pathnameBase]))}return s}function by(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=My(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:_}=d;if(p==="*"){let w=a[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[h];return _&&!y?u[p]=void 0:u[p]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function My(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),V0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function jy(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return V0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _d(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Dy(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ni(t):t;return{pathname:n?n.startsWith("/")?n:Fy(n,e):e,search:Uy(r),hash:zy(i)}}function Fy(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bl(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $y(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cd(t,e){let n=$y(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Sd(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ni(t):(i=ls({},t),ne(!i.pathname||!i.pathname.includes("?"),bl("?","pathname","search",i)),ne(!i.pathname||!i.pathname.includes("#"),bl("#","pathname","hash",i)),ne(!i.search||!i.search.includes("#"),bl("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=Dy(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const vn=t=>t.join("/").replace(/\/\/+/g,"/"),By=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Uy=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zy=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Vy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const q0=["post","put","patch","delete"];new Set(q0);const Hy=["get",...q0];new Set(Hy);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function us(){return us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},us.apply(this,arguments)}const kd=g.createContext(null),Wy=g.createContext(null),Ln=g.createContext(null),Fa=g.createContext(null),Pn=g.createContext({outlet:null,matches:[],isDataRoute:!1}),K0=g.createContext(null);function qy(t,e){let{relative:n}=e===void 0?{}:e;ri()||ne(!1);let{basename:r,navigator:i}=g.useContext(Ln),{hash:s,pathname:o,search:a}=Q0(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:vn([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ri(){return g.useContext(Fa)!=null}function ii(){return ri()||ne(!1),g.useContext(Fa).location}function G0(t){g.useContext(Ln).static||g.useLayoutEffect(t)}function ir(){let{isDataRoute:t}=g.useContext(Pn);return t?s3():Ky()}function Ky(){ri()||ne(!1);let t=g.useContext(kd),{basename:e,future:n,navigator:r}=g.useContext(Ln),{matches:i}=g.useContext(Pn),{pathname:s}=ii(),o=JSON.stringify(Cd(i,n.v7_relativeSplatPath)),a=g.useRef(!1);return G0(()=>{a.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=Sd(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:vn([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function Q0(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(Ln),{matches:i}=g.useContext(Pn),{pathname:s}=ii(),o=JSON.stringify(Cd(i,r.v7_relativeSplatPath));return g.useMemo(()=>Sd(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Gy(t,e){return Qy(t,e)}function Qy(t,e,n,r){ri()||ne(!1);let{navigator:i}=g.useContext(Ln),{matches:s}=g.useContext(Pn),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=ii(),d;if(e){var h;let S=typeof e=="string"?ni(e):e;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||ne(!1),d=S}else d=u;let p=d.pathname||"/",_=p;if(l!=="/"){let S=l.replace(/^\//,"").split("/");_="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=ky(t,{pathname:_}),w=e3(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:vn([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:vn([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&w?g.createElement(Fa.Provider,{value:{location:us({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:an.Pop}},w):w}function Jy(){let t=i3(),e=Vy(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:i},n):null,null)}const Zy=g.createElement(Jy,null);class Yy extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Pn.Provider,{value:this.props.routeContext},g.createElement(K0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xy(t){let{routeContext:e,match:n,children:r}=t,i=g.useContext(kd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Pn.Provider,{value:e},r)}function e3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ne(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:_}=n,y=h.route.loader&&p[h.route.id]===void 0&&(!_||_[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let _,y=!1,w=null,S=null;n&&(_=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||Zy,l&&(u<0&&p===0?(y=!0,S=null):u===p&&(y=!0,S=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,p+1)),f=()=>{let v;return _?v=w:y?v=S:h.route.Component?v=g.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,g.createElement(Xy,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?g.createElement(Yy,{location:n.location,revalidation:n.revalidation,component:w,error:_,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var J0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(J0||{}),aa=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(aa||{});function t3(t){let e=g.useContext(kd);return e||ne(!1),e}function n3(t){let e=g.useContext(Wy);return e||ne(!1),e}function r3(t){let e=g.useContext(Pn);return e||ne(!1),e}function Z0(t){let e=r3(),n=e.matches[e.matches.length-1];return n.route.id||ne(!1),n.route.id}function i3(){var t;let e=g.useContext(K0),n=n3(aa.UseRouteError),r=Z0(aa.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function s3(){let{router:t}=t3(J0.UseNavigateStable),e=Z0(aa.UseNavigateStable),n=g.useRef(!1);return G0(()=>{n.current=!0}),g.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,us({fromRouteId:e},s)))},[t,e])}function o3(t){let{to:e,replace:n,state:r,relative:i}=t;ri()||ne(!1);let{future:s,static:o}=g.useContext(Ln),{matches:a}=g.useContext(Pn),{pathname:l}=ii(),u=ir(),d=Sd(e,Cd(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function Y0(t){ne(!1)}function a3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=an.Pop,navigator:s,static:o=!1,future:a}=t;ri()&&ne(!1);let l=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:l,navigator:s,static:o,future:us({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ni(r));let{pathname:d="/",search:h="",hash:p="",state:_=null,key:y="default"}=r,w=g.useMemo(()=>{let S=_d(d,l);return S==null?null:{location:{pathname:S,search:h,hash:p,state:_,key:y},navigationType:i}},[l,d,h,p,_,y,i]);return w==null?null:g.createElement(Ln.Provider,{value:u},g.createElement(Fa.Provider,{children:n,value:w}))}function l3(t){let{children:e,location:n}=t;return Gy(Ju(e),n)}new Promise(()=>{});function Ju(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,i)=>{if(!g.isValidElement(r))return;let s=[...e,i];if(r.type===g.Fragment){n.push.apply(n,Ju(r.props.children,s));return}r.type!==Y0&&ne(!1),!r.props.index||!r.props.children||ne(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ju(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zu.apply(this,arguments)}function u3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function c3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function d3(t,e){return t.button===0&&(!e||e==="_self")&&!c3(t)}function Yu(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function h3(t,e){let n=Yu(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const f3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],p3="6";try{window.__reactRouterVersion=p3}catch{}const m3="startTransition",wf=l2[m3];function g3(t){let{basename:e,children:n,future:r,window:i}=t,s=g.useRef();s.current==null&&(s.current=_y({window:i,v5Compat:!0}));let o=s.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=g.useCallback(h=>{u&&wf?wf(()=>l(h)):l(h)},[l,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.createElement(a3,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const v3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Co=g.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,p=u3(e,f3),{basename:_}=g.useContext(Ln),y,w=!1;if(typeof u=="string"&&y3.test(u)&&(y=u,v3))try{let v=new URL(window.location.href),C=u.startsWith("//")?new URL(v.protocol+u):new URL(u),E=_d(C.pathname,_);C.origin===v.origin&&E!=null?u=E+C.search+C.hash:w=!0}catch{}let S=qy(u,{relative:i}),m=w3(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:h});function f(v){r&&r(v),v.defaultPrevented||m(v)}return g.createElement("a",Zu({},p,{href:y||S,onClick:w||s?r:f,ref:n,target:l}))});var _f;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_f||(_f={}));var Cf;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Cf||(Cf={}));function w3(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=ir(),u=ii(),d=Q0(t,{relative:o});return g.useCallback(h=>{if(d3(h,n)){h.preventDefault();let p=r!==void 0?r:oa(u)===oa(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}function X0(t){let e=g.useRef(Yu(t)),n=g.useRef(!1),r=ii(),i=g.useMemo(()=>h3(r.search,n.current?null:e.current),[r.search]),s=ir(),o=g.useCallback((a,l)=>{const u=Yu(typeof a=="function"?a(i):a);n.current=!0,s("?"+u,l)},[s,i]);return[i,o]}const _3="_chat_i8kqq_1",C3="_chatGroup_i8kqq_8",Sf={chat:_3,chatGroup:C3},S3="_chatList_1joi3_1",k3="_chatListHeader_1joi3_10",E3="_chatListBody_1joi3_33",x3="_center_1joi3_40",I3="_row_1joi3_54",Rn={chatList:S3,chatListHeader:k3,chatListBody:E3,center:x3,row:I3};function em(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=em(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function G(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=em(t))&&(r&&(r+=" "),r+=e);return r}const T3="_input_744n2_1",L3="_inputLabel_744n2_9",Ml={input:T3,inputLabel:L3},tm=({extraClass:t,labelImg:e,...n})=>e?c.jsxs("label",{className:G(Ml.inputLabel,t),children:[c.jsx("div",{children:e}),c.jsx("input",{className:Ml.input,...n,autoComplete:"off"})]}):c.jsx("input",{className:G(Ml.input,t),...n,autoComplete:"off"}),P3="_button_mspjf_1",N3="_buttonBlue_mspjf_13",O3="_buttonGrey_mspjf_21",jl={button:P3,buttonBlue:N3,buttonGrey:O3},B=({children:t,extraClass:e,isBlue:n,isGrey:r,...i})=>c.jsx("button",{className:G(jl.button,e,n&&jl.buttonBlue,r&&jl.buttonGrey),...i,children:t}),A3="_chatListItem_11i1r_1",R3="_chatListItemCol_11i1r_10",b3="_chatListItemRowOpponentMsg_11i1r_42",M3="_chatListItemRowUnchecked_11i1r_45",j3="_chatListItemRow_11i1r_42",D3="_opponentTyping_11i1r_65",F3="_opponentTypingDots_11i1r_72",$3="_typingAnimation_11i1r_1",B3="_chatListItemPinned_11i1r_92",U3="_chatListItemActive_11i1r_96",Ye={chatListItem:A3,chatListItemCol:R3,chatListItemRowOpponentMsg:b3,chatListItemRowUnchecked:M3,chatListItemRow:j3,opponentTyping:D3,opponentTypingDots:F3,typingAnimation:$3,chatListItemPinned:B3,chatListItemActive:U3},z3="_frameCount_4841h_1",V3="_frameCountInner_4841h_4",kf={frameCount:z3,frameCountInner:V3},H3=({children:t,count:e})=>Number(e)?c.jsxs("div",{className:kf.frameCount,children:[c.jsx("div",{className:kf.frameCountInner,children:c.jsx("p",{children:e})}),t]}):t,W3="_theme__select_ank7l_1",q3="_theme__select__item_ank7l_20",_i={theme__select:W3,theme__select__item:q3},K3=t=>g.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"#E5B946FF",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M12 3V4M12 20V21M4 12H3M6.31412 6.31412L5.5 5.5M17.6859 6.31412L18.5 5.5M6.31412 17.69L5.5 18.5001M17.6859 17.69L18.5 18.5001M21 12H20M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z",stroke:"#E5B946FF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),G3=t=>g.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M19.9001 2.30719C19.7392 1.8976 19.1616 1.8976 19.0007 2.30719L18.5703 3.40247C18.5212 3.52752 18.4226 3.62651 18.298 3.67583L17.2067 4.1078C16.7986 4.26934 16.7986 4.849 17.2067 5.01054L18.298 5.44252C18.4226 5.49184 18.5212 5.59082 18.5703 5.71587L19.0007 6.81115C19.1616 7.22074 19.7392 7.22074 19.9001 6.81116L20.3305 5.71587C20.3796 5.59082 20.4782 5.49184 20.6028 5.44252L21.6941 5.01054C22.1022 4.849 22.1022 4.26934 21.6941 4.1078L20.6028 3.67583C20.4782 3.62651 20.3796 3.52752 20.3305 3.40247L19.9001 2.30719Z",stroke:"#1C274C"}),g.createElement("path",{d:"M16.0328 8.12967C15.8718 7.72009 15.2943 7.72009 15.1333 8.12967L14.9764 8.52902C14.9273 8.65407 14.8287 8.75305 14.7041 8.80237L14.3062 8.95987C13.8981 9.12141 13.8981 9.70107 14.3062 9.86261L14.7041 10.0201C14.8287 10.0694 14.9273 10.1684 14.9764 10.2935L15.1333 10.6928C15.2943 11.1024 15.8718 11.1024 16.0328 10.6928L16.1897 10.2935C16.2388 10.1684 16.3374 10.0694 16.462 10.0201L16.8599 9.86261C17.268 9.70107 17.268 9.12141 16.8599 8.95987L16.462 8.80237C16.3374 8.75305 16.2388 8.65407 16.1897 8.52902L16.0328 8.12967Z",stroke:"#1C274C"}),g.createElement("path",{d:"M21.0672 11.8568L20.4253 11.469L21.0672 11.8568ZM12.1432 2.93276L11.7553 2.29085V2.29085L12.1432 2.93276ZM7.37554 20.013C7.017 19.8056 6.5582 19.9281 6.3508 20.2866C6.14339 20.6452 6.26591 21.104 6.62446 21.3114L7.37554 20.013ZM2.68862 17.3755C2.89602 17.7341 3.35482 17.8566 3.71337 17.6492C4.07191 17.4418 4.19443 16.983 3.98703 16.6245L2.68862 17.3755ZM21.25 12C21.25 17.1086 17.1086 21.25 12 21.25V22.75C17.9371 22.75 22.75 17.9371 22.75 12H21.25ZM2.75 12C2.75 6.89137 6.89137 2.75 12 2.75V1.25C6.06294 1.25 1.25 6.06294 1.25 12H2.75ZM15.5 14.25C12.3244 14.25 9.75 11.6756 9.75 8.5H8.25C8.25 12.5041 11.4959 15.75 15.5 15.75V14.25ZM20.4253 11.469C19.4172 13.1373 17.5882 14.25 15.5 14.25V15.75C18.1349 15.75 20.4407 14.3439 21.7092 12.2447L20.4253 11.469ZM9.75 8.5C9.75 6.41182 10.8627 4.5828 12.531 3.57467L11.7553 2.29085C9.65609 3.5593 8.25 5.86509 8.25 8.5H9.75ZM12 2.75C11.9115 2.75 11.8077 2.71008 11.7324 2.63168C11.6686 2.56527 11.6538 2.50244 11.6503 2.47703C11.6461 2.44587 11.6482 2.35557 11.7553 2.29085L12.531 3.57467C13.0342 3.27065 13.196 2.71398 13.1368 2.27627C13.0754 1.82126 12.7166 1.25 12 1.25V2.75ZM21.7092 12.2447C21.6444 12.3518 21.5541 12.3539 21.523 12.3497C21.4976 12.3462 21.4347 12.3314 21.3683 12.2676C21.2899 12.1923 21.25 12.0885 21.25 12H22.75C22.75 11.2834 22.1787 10.9246 21.7237 10.8632C21.286 10.804 20.7293 10.9658 20.4253 11.469L21.7092 12.2447ZM12 21.25C10.3139 21.25 8.73533 20.7996 7.37554 20.013L6.62446 21.3114C8.2064 22.2265 10.0432 22.75 12 22.75V21.25ZM3.98703 16.6245C3.20043 15.2647 2.75 13.6861 2.75 12H1.25C1.25 13.9568 1.77351 15.7936 2.68862 17.3755L3.98703 16.6245Z",fill:"#1C274C"})),Q3=({value:t,setter:e,isThemeToggler:n=!1,size:r=[24,24]})=>c.jsx("div",{onClick:e,className:_i.theme__select,children:n?c.jsxs(c.Fragment,{children:[c.jsx("div",{onClick:e,className:G(!t&&_i.theme__select__item),style:{width:r[0],height:r[1]},children:c.jsx(K3,{})}),c.jsx("div",{onClick:e,className:G(t&&_i.theme__select__item),style:{width:r[0],height:r[1]},children:c.jsx(G3,{})})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{onClick:e,className:`${!t&&_i.theme__select__item}`,style:{width:r[0],height:r[1]}}),c.jsx("div",{onClick:e,className:`${t&&_i.theme__select__item}`,style:{width:r[0],height:r[1]}})]})}),J3="_avatar_1wfar_1",Z3="_avatarIndicator_1wfar_7",Y3="_avatarCustom_1wfar_15",Js={avatar:J3,avatarIndicator:Z3,avatarCustom:Y3},Ef=t=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:36,height:36,viewBox:"0 0 36 36",fill:"none",...t},g.createElement("rect",{width:36,height:36,rx:18,fill:"#686E7A"}),g.createElement("rect",{width:36,height:36,rx:18,fill:"url(#paint0_linear_12_4663)",fillOpacity:.2,style:{mixBlendMode:"overlay"}}),g.createElement("path",{d:"M18 19.35C20.396 19.35 22.575 20.0266 24.178 20.9792C24.978 21.457 25.662 22.0176 26.156 22.627C26.642 23.2276 27 23.9452 27 24.7125C27 25.5364 26.589 26.1857 25.997 26.6488C25.437 27.0876 24.698 27.3781 23.913 27.5809C22.335 27.9875 20.229 28.125 18 28.125C15.771 28.125 13.665 27.9885 12.087 27.5809C11.302 27.3781 10.563 27.0876 10.003 26.6488C9.41 26.1847 9 25.5364 9 24.7125C9 23.9452 9.358 23.2276 9.844 22.627C10.338 22.0176 11.021 21.457 11.822 20.9792C13.425 20.0266 15.605 19.35 18 19.35ZM18 7.875C19.3261 7.875 20.5979 8.38861 21.5355 9.30285C22.4732 10.2171 23 11.4571 23 12.75C23 14.0429 22.4732 15.2829 21.5355 16.1971C20.5979 17.1114 19.3261 17.625 18 17.625C16.6739 17.625 15.4021 17.1114 14.4645 16.1971C13.5268 15.2829 13 14.0429 13 12.75C13 11.4571 13.5268 10.2171 14.4645 9.30285C15.4021 8.38861 16.6739 7.875 18 7.875Z",fill:"white"}),g.createElement("defs",null,g.createElement("linearGradient",{id:"paint0_linear_12_4663",x1:18,y1:0,x2:18,y2:36,gradientUnits:"userSpaceOnUse"},g.createElement("stop",{stopColor:"white",stopOpacity:0}),g.createElement("stop",{offset:1,stopColor:"white"})))),si=({isActive:t=!1,size:e=[40,40],src:n})=>t?c.jsxs("div",{className:Js.avatar,children:[n?c.jsx("img",{src:n,alt:"avatar",className:Js.avatarCustom,style:{width:`${e&&e[0]}px`,height:`${e&&e[1]}px`}}):c.jsx(Ef,{style:{minWidth:`${e&&e[0]}px`,minHeight:`${e&&e[1]}px`}}),c.jsx("div",{className:Js.avatarIndicator})]}):c.jsx(c.Fragment,{children:n?c.jsx("img",{src:n,alt:"avatar",className:Js.avatarCustom,style:{width:`${e&&e[0]}px`,height:`${e&&e[1]}px`}}):c.jsx(Ef,{style:{minWidth:`${e&&e[0]}px`,minHeight:`${e&&e[1]}px`}})}),X3="_labelInput_ovo2n_1",e4="_inputSuccess_ovo2n_6",t4="_inputError_ovo2n_9",n4="_labelInputSuccess_ovo2n_12",r4="_labelInputError_ovo2n_15",Ci={labelInput:X3,inputSuccess:e4,inputError:t4,labelInputSuccess:n4,labelInputError:r4},pt=({label:t,status:e,...n})=>c.jsxs("label",{className:Ci.labelInput,children:[c.jsx("p",{children:t}),c.jsx(tm,{...n,extraClass:e&&(e.ok?Ci.inputSuccess:Ci.inputError)||""}),e&&c.jsx("p",{className:e.ok?Ci.labelInputSuccess:Ci.labelInputError,children:e.text})]}),i4="_divider_5lnwl_1",s4="_line_5lnwl_7",Dl={divider:i4,line:s4},nm=({text:t,...e})=>c.jsxs("div",{...e,className:Dl.divider,children:[c.jsx("hr",{className:Dl.line}),c.jsx("p",{children:t}),c.jsx("hr",{className:Dl.line})]}),o4="_textarea_1ktw3_1",a4={textarea:o4},rm=({extraClass:t,...e})=>c.jsx("textarea",{className:G(a4.textarea,t,"scroll"),...e}),l4="_hiddenLabaledInput_k13so_1",u4="_hiddenLabaledInputStatus_k13so_18",xf={hiddenLabaledInput:l4,hiddenLabaledInputStatus:u4},c4=t=>g.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M15.0007 12C15.0007 13.6569 13.6576 15 12.0007 15C10.3439 15 9.00073 13.6569 9.00073 12C9.00073 10.3431 10.3439 9 12.0007 9C13.6576 9 15.0007 10.3431 15.0007 12Z",stroke:"#A7ACB4",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12.0012 5C7.52354 5 3.73326 7.94288 2.45898 12C3.73324 16.0571 7.52354 19 12.0012 19C16.4788 19 20.2691 16.0571 21.5434 12C20.2691 7.94291 16.4788 5 12.0012 5Z",stroke:"#A7ACB4",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),d4=t=>g.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M2.99902 3L20.999 21M9.8433 9.91364C9.32066 10.4536 8.99902 11.1892 8.99902 12C8.99902 13.6569 10.3422 15 11.999 15C12.8215 15 13.5667 14.669 14.1086 14.133M6.49902 6.64715C4.59972 7.90034 3.15305 9.78394 2.45703 12C3.73128 16.0571 7.52159 19 11.9992 19C13.9881 19 15.8414 18.4194 17.3988 17.4184M10.999 5.04939C11.328 5.01673 11.6617 5 11.9992 5C16.4769 5 20.2672 7.94291 21.5414 12C21.2607 12.894 20.8577 13.7338 20.3522 14.5",stroke:"#A7ACB4",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),If=({label:t,status:e,...n})=>{const[r,i]=g.useState(!1);return c.jsxs("div",{className:G(xf.hiddenLabaledInput,(e==null?void 0:e.text)&&xf.hiddenLabaledInputStatus),...n,children:[c.jsx(pt,{label:t,name:"password",type:r?"text":"password",status:e}),c.jsx(B,{onClick:()=>i(s=>!s),type:"button",children:r?c.jsx(c4,{className:"blue-stroke-hover"}):c.jsx(d4,{className:"blue-stroke-hover"})})]})},h4="_dropdownMenu_3olgf_1",f4="_dropdownMenuItem_3olgf_10",p4="_dropdownMenuItemActive_3olgf_27",Tf={dropdownMenu:h4,dropdownMenuItem:f4,dropdownMenuItemActive:p4},im=({items:t})=>c.jsx("div",{className:Tf.dropdownMenu,children:t.map(e=>c.jsxs("div",{onClick:()=>e.onClick(),className:Tf.dropdownMenuItem,children:[c.jsx(e.icon,{}),c.jsx("p",{children:e.content})]},e.id))}),m4="_popupContainer_1saan_1",g4="_popup_1saan_1",v4="_popupShadow_1saan_19",y4="_popupCentered_1saan_23",Si={popupContainer:m4,popup:g4,popupShadow:v4,popupCentered:y4},kn=g.forwardRef(({children:t,withShadow:e,isCentered:n,extraClass:r,...i},s)=>n?c.jsx("div",{ref:s,className:G(Si.popupContainer,e&&Si.popupShadow,n&&Si.popupCentered),...i,children:c.jsx("div",{onClick:o=>o.stopPropagation(),className:r,children:t})}):c.jsx("div",{ref:s,className:G(Si.popup,e&&Si.popupShadow,r),...i,children:t})),w4=t=>g.createElement("svg",{width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("g",{clipPath:"url(#clip0_41_9995)"},g.createElement("path",{d:"M10.0753 2.6398L10.1379 2.69514L13.8046 6.3618C13.917 6.47479 13.9852 6.62429 13.9968 6.78322C14.0085 6.94215 13.9628 7.1 13.8681 7.22816C13.7734 7.35633 13.6359 7.44632 13.4805 7.48184C13.3252 7.51737 13.1623 7.49607 13.0213 7.4218L10.9066 9.5358L9.95726 12.0671C9.93225 12.1339 9.89669 12.1963 9.85192 12.2518L9.80526 12.3051L8.80526 13.3051C8.69038 13.4198 8.5376 13.4887 8.37558 13.4987C8.21357 13.5088 8.05345 13.4594 7.92526 13.3598L7.86192 13.3045L5.99992 11.4431L3.47126 13.9711C3.35128 14.0907 3.1903 14.1601 3.021 14.1653C2.8517 14.1705 2.68678 14.111 2.55974 13.999C2.43269 13.8869 2.35305 13.7308 2.33699 13.5622C2.32093 13.3935 2.36965 13.2251 2.47326 13.0911L2.52859 13.0285L5.05659 10.4998L3.19526 8.6378C3.08047 8.52301 3.01152 8.37027 3.00133 8.20826C2.99114 8.04624 3.04042 7.88607 3.13992 7.7578L3.19526 7.69514L4.19526 6.69514C4.24556 6.64465 4.30363 6.60256 4.36726 6.57047L4.43259 6.54247L6.96326 5.59247L9.07726 3.47914C9.00517 3.34436 8.98158 3.1889 9.01045 3.0388C9.03932 2.88871 9.11888 2.75309 9.23582 2.65467C9.35276 2.55624 9.49997 2.50099 9.65279 2.49816C9.80561 2.49533 9.95476 2.54577 10.0753 2.6398Z",fill:"#A7ACB4"})),g.createElement("defs",null,g.createElement("clipPath",{id:"clip0_41_9995"},g.createElement("rect",{width:16,height:16,fill:"white",transform:"translate(0 0.5)"})))),So=t=>g.createElement("svg",{width:13,height:10,viewBox:"0 0 13 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M1.33398 4.99935L4.66732 8.33268L11.334 1.66602",stroke:"#A7ACB4",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),ko=t=>g.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M4.66732 7.99935L8.00065 11.3327L14.6673 4.66602M1.33398 7.99935L4.66732 11.3327M8.00065 7.99935L11.334 4.66602",stroke:"#0969DA",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}));function H(t){var r;const n=`; ${document.cookie}`.split(`; ${t}=`);if(n.length===2)return(r=n.pop())==null?void 0:r.split(";").shift()}function Ed(t,e,n){const r=new Date;r.setDate(r.getDate()+n);var i=t+"="+encodeURIComponent(e);n&&(i+="; expires="+r.toUTCString()),document.cookie=i}function _4(t){document.cookie=t+"=; Max-Age=-99999999;"}function C4(t){const n=Date.now()-t,r=Math.floor(n/1e3),i=Math.floor(r/60),s=Math.floor(i/60),o=Math.floor(s/24);return o===1?`${o} день назад`:o>1?`${o} дней назад`:s?`${s} час. ${i%60} мин.`:i?`${i} мин.`:`${r} сек.`}function Eo(t){const e=new Date(t),n=e.getHours().toString().padStart(2,"0"),r=e.getMinutes().toString().padStart(2,"0");return`${n}:${r}`}function S4(t){const e={year:"numeric",month:"long",day:"numeric"};return new Date(t).toLocaleDateString("ru-RU",e)}function k4(t,e){return t.sort((n,r)=>n[e]-r[e])}function E4(t){const e={};return t.forEach(r=>{const i=new Date(r.createdAt),s=new Date(i.getFullYear(),i.getMonth(),i.getDate()).toISOString();e[s]||(e[s]=[]),e[s].push(r)}),Object.keys(e).sort((r,i)=>new Date(r).getTime()-new Date(i).getTime()).map(r=>({day:r,messages:e[r]}))}function x4(t,e){for(const n in t)e(t[n],n)}function st(t,e){t.forEach(e)}function Ae(t,e,n){if(!t)throw Error(`${n?n+": ":""}${e}`)}function En({node:t=[],from:e,source:n,parent:r=e||n,to:i,target:s,child:o=i||s,scope:a={},meta:l={},family:u={type:"regular"},regional:d}={}){const h=Ys(r),p=Ys(u.links),_=Ys(u.owners),y=[];st(t,S=>S&&bt(y,S));const w={id:D4(),seq:y,next:Ys(o),meta:l,scope:a,family:{type:u.type||"crosslink",links:p,owners:_}};return st(p,S=>bt($a(S),w)),st(_,S=>bt(Ba(S),w)),st(h,S=>bt(S.next,w)),d&&br&&Id(Ui(br),[w]),w}function cs(t,e,n){let r,i=gt,s=null,o=z;if(t.target&&(e=t.params,n=t.defer,r=t.meta,i="page"in t?t.page:i,t.stack&&(s=t.stack),o=Er(t)||o,t=t.target),o&&z&&o!==z&&(z=null),Array.isArray(t))for(let y=0;y<t.length;y++)bn("pure",i,Ct(t[y]),s,e[y],o,r);else bn("pure",i,Ct(t),s,e,o,r);if(n&&!Xs)return;const a={isRoot:Xs,currentPage:gt,scope:z,isWatch:Io,isPure:To};let l,u,d,h,p,_;Xs=0;e:for(;h=G4();){const{idx:y,stack:w,type:S}=h;d=w.node,gt=p=w.page,z=Er(w),p?_=p.reg:z&&(_=z.reg);const m=!!p,f=!!z,v={fail:0,scope:d.scope};l=u=0;for(let C=y;C<d.seq.length&&!l;C++){const E=d.seq[C];if(E.order){const{priority:I,barrierID:k}=E.order,T=k?p?`${p.fullID}_${k}`:k:0;if(C!==y||S!==I){k?$l.has(T)||($l.add(T),ec(C,w,I,k)):ec(C,w,I,0);continue e}k&&$l.delete(T)}switch(E.type){case"mov":{const k=E.data;let T;switch(k.from){case"stack":T=Ui(w);break;case"a":case"b":T=w[k.from];break;case"value":T=k.store;break;case"store":if(_&&!_[k.store.id])if(m){const A=dm(p,k.store.id);w.page=p=A,A?_=A.reg:f?(Gr(z,k.store,0,1,k.softRead),_=z.reg):_=void 0}else f&&Gr(z,k.store,0,1,k.softRead);T=cm(_&&_[k.store.id]||k.store)}switch(k.to){case"stack":w.value=T;break;case"a":case"b":w[k.to]=T;break;case"store":Q4(p,z,k.target,0).current=T}break}case"compute":const I=E.data;if(I.fn){Io=d.meta.op==="watch",To=I.pure;const k=I.safe?(0,I.fn)(Ui(w),v.scope,w):Z4(v,I.fn,w);I.filter?u=!k:w.value=k,Io=a.isWatch,To=a.isPure}}l=v.fail||u}if(!l){const C=Ui(w),E=Er(w);if(st(d.next,I=>{bn("child",p,I,w,C,E)}),E){d.meta.needFxCounter&&bn("child",p,E.fxCount,w,C,E),d.meta.storeChange&&bn("child",p,E.storeChange,w,C,E),d.meta.warnSerialize&&bn("child",p,E.warnSerializeNode,w,C,E);const I=E.additionalLinks[d.id];I&&st(I,k=>{bn("child",p,k,w,C,E)})}}}Xs=a.isRoot,gt=a.currentPage,z=Er(a)}function I4(t,e){let n,r;const i=t;if(e){const s=A4(e);t.length===0?(n=s.path,r=s.fullName):(n=s.path.concat([t]),r=s.fullName.length===0?t:s.fullName+"/"+t)}else n=t.length===0?[]:[t],r=t;return{shortName:i,fullName:r,path:n}}function xd(t,e){if(!e||!e.name&&!e.named&&!e.loc)return t;let n=`[${t}]`;const r=e.named||e.name;r&&(n+=` unit '${r}'`);const i=e.loc;return!r&&i&&(n+=` (${i.file}:${i.line}:${i.column})`),n}function Xu(t){const e=()=>t();return e.unsubscribe=()=>t(),e}function Bi(t,...e){const n=lm();if(n){const r=n.handlers[t];if(r)return r(n,...e)}}function Be(t,e){const n=Qr({or:e,and:typeof t=="string"?{name:t}:t}),r=xd("event",n),i=(a,...l)=>(Ae(!qn(i,"derived"),"call of derived event is not supported, use createEvent instead",r),Ae(!To,"unit call from pure function is not supported, use operators like sample instead",r),gt?((u,d,h,p)=>{const _=gt;let y=null;if(d)for(y=gt;y&&y.template!==d;)y=Kr(y);Af(y);const w=u.create(h,p);return Af(_),w})(i,s,a,l):i.create(a,l)),s=lm(),o=Object.assign(i,{graphite:En({meta:pm(n.actualOp||"event",i,n),regional:1}),create:a=>(cs({target:i,params:a,scope:z}),a),watch:a=>fm(i,a),map:a=>Bl(i,"map",a,[xr()]),filter:a=>Bl(i,"filter",a.fn?a:a.fn,[xr(Va,1)]),filterMap:a=>Bl(i,"filterMap",a,[xr(),Mr(l=>!zi(l),1)]),prepend(a){Ae(i.targetable,".prepend of derived event is not supported, call source event instead",r);const l=Be("* → "+i.shortName,{parent:Kr(i)});return Bi("eventPrepend",Ct(l)),Nd(l,i,[xr()],"prepend",a),Y4(i,l),l}});return n!=null&&n.domain&&n.domain.hooks.event(o),ln(o,"id",o.graphite.id),am(o.graphite),o}function Lf(t,e,n,r,i){return U4(n,`${i} ${e}`,"first argument"),Ae(ot(r),"second argument should be a function",i),ca(!qn(t,"derived"),`${e} in derived store`,`${e} in store created via createStore`,i),st(Array.isArray(n)?n:[n],s=>{t.off(s),ua(t).set(s,hm(mm(s,t,"on",V4,r)))}),t}function Ve(t,e){const n=Qr(e),r=q4(t),i=xd("store",n),s=Be({named:"updates",derived:1});Bi("storeBase",r);const o=r.id,a="skipVoid"in n,l=a&&!n.skipVoid;ca(!(a&&n.skipVoid),"{skipVoid: true}","updateFilter",i);const u={subscribers:new Map,updates:s,defaultState:t,stateRef:r,getState(){let m,f=r;if(gt){let v=gt;for(;v&&!v.reg[o];)v=Kr(v);v&&(m=v)}return!m&&z&&(Gr(z,r,1),m=z),m&&(f=m.reg[o]),cm(f)},setState:m=>cs({target:u,params:m,defer:1,scope:z}),reset:(...m)=>(Ae(u.targetable,".reset of derived store is not supported",i),st(m,f=>Lf(u,".reset",f,()=>u.defaultState,i)),u),on:(m,f)=>(Ae(u.targetable,".on of derived store is not supported",i),Lf(u,".on",m,f,i)),off(m){const f=ua(u).get(m);return f&&(f(),ua(u).delete(m)),u},map(m,f){let v,C;sr(m)&&(v=m,m=m.fn);const E=u.getState(),I=zi(E);(!I||I&&l)&&(C=m(E));const k=Ve(C,{name:`${u.shortName} → *`,derived:1,...f,and:v}),T=mm(u,k,"map",Va,m);return K4(la(k),{type:"map",fn:m,from:r}),la(k).noInit=1,Bi("storeMap",r,T),k},watch(m,f){if(ca(!f,"watch second argument","sample",i),!f||!Ua(m)){const v=fm(u,m);return Bi("storeWatch",r,m)||m(u.getState()),v}return Ae(ot(f),"second argument should be a function",i),m.watch(v=>f(u.getState(),v))}},d=pm("store",u,n),h=u.defaultConfig.updateFilter;u.graphite=En({scope:{state:r,fn:h},node:[Mr((m,f,v)=>(v.scope&&!v.scope.reg[r.id]&&(v.b=1),m)),W4(r),Mr((m,f,{a:v,b:C})=>{const E=zi(m);return E&&!a&&console.error(`${i}: ${Ul}`),(E&&l||!E)&&(m!==v||C)},1),h&&xr(z4,1),Ha({from:"stack",target:r})],child:s,meta:{...d,defaultState:t},regional:1}),ln(u,"id",u.graphite.id),ln(u,"rootStateRefId",o);const p=qn(u,"serialize"),_=qn(u,"derived"),y=p==="ignore",w=qn(u,"sid");w&&(ln(u,"storeChange",1),r.sid=w),w||y||_||ln(u,"warnSerialize",1);const S=zi(t);return Ae(_||!S||S&&l,Ul,i),_&&S&&!a&&console.error(`${i}: ${Ul}`),Id(u,[s]),n!=null&&n.domain&&n.domain.hooks.store(u),_||(u.reinit=Be({named:"reinit"}),u.reset(u.reinit)),r.meta=u.graphite.meta,am(u.graphite),u}function T4(){const t={};return t.req=new Promise((e,n)=>{t.rs=e,t.rj=n}),t.req.catch(()=>{}),t}function _s(t,e={}){const n=Qr(ot(t)?{handler:t}:t,e),r=xd("effect",n),i=Be(ot(t)?{handler:t}:t,{...e,actualOp:"effect"}),s=Ct(i);ln(s,"op",i.kind="effect"),i.use=y=>(Ae(ot(y),".use argument should be a function",r),h.scope.handler=y,i),i.use.getCurrent=()=>h.scope.handler;const o=i.finally=Be({named:"finally",derived:1}),a=i.done=o.filterMap({named:"done",fn({status:y,params:w,result:S}){if(y==="done")return{params:w,result:S}}}),l=i.fail=o.filterMap({named:"fail",fn({status:y,params:w,error:S}){if(y==="fail")return{params:w,error:S}}}),u=i.doneData=a.map({named:"doneData",fn:({result:y})=>y}),d=i.failData=l.map({named:"failData",fn:({error:y})=>y}),h=En({scope:{handler:i.defaultConfig.handler||(()=>Ae(0,`no handler used in ${i.compositeName.fullName}`))},node:[Mr((y,w,S)=>{let m=w.handler;const f=Er(S);if(f){const v=f.handlers.unitMap.get(i)||f.handlers.sidMap[i.sid];v&&(m=v)}return y.handler=m,y},0,1),Mr((y,w,S)=>{if(w.runnerFn&&!w.runnerFn(y,null,S))return;const{params:m,req:f,handler:v,args:C=[m]}=y,E=bf(m,f,1,o,S),I=bf(m,f,0,o,S),[k,T]=X4(v,I,C);k&&(sr(T)&&ot(T.then)?T.then(E,I):E(T))},0,1)],meta:{op:"fx",fx:"runner"}});s.scope.runner=h,bt(s.seq,Mr((y,{runner:w},S)=>{const m=Kr(S)?{params:y,req:{rs(f){},rj(f){}}}:y;return S.meta||(S.meta={fxID:F4()}),cs({target:w,params:m,defer:1,scope:Er(S),meta:S.meta}),m.params})),i.create=y=>{const w=T4(),S={params:y,req:w};if(z&&!Io){const m=z;w.req.finally(()=>{nc(m)}).catch(()=>{})}return cs({target:i,params:S,scope:z}),w.req};const p=i.inFlight=Ve(0,{serialize:"ignore",named:(qn(i,"name")||i.graphite.id)+".inFlight"}).on(i,y=>y+1).on(o,y=>y-1).map({fn:y=>y,named:"inFlight"});ln(o,"needFxCounter","dec"),ln(i,"needFxCounter",1);const _=i.pending=p.map({fn:y=>y>0,named:"pending"});return Id(i,[o,a,l,u,d,_,p]),n!=null&&n.domain&&n.domain.hooks.effect(i),i}function L4(t,{scope:e,safe:n}={}){Ae(e||z||n,"scopeBind: scope not found");const r=e||z;return i=>{function s(){nc(l)}let o,a=0;const l=z;nc(r);try{o=t(i)}catch(u){o=u,a=1}if(s(),a)throw o;return o instanceof Promise&&o.then(s,s),o}}function P4({unit:t,fn:e,scope:n,batch:r}){const i=[xo.run({fn:o=>e(o)})];r&&i.unshift(xo.compute({priority:"sampler",batch:1})),Ss(t)&&i.unshift(xo.mov({store:t.stateRef,to:"stack"}));const s=Array.isArray(t)?t:[t];if(n){const o=[],a=n.additionalLinks;return s.forEach(l=>{const u=a[l.graphite.id]||[];a[l.graphite.id]=u;const d=En({node:N4(i,l),meta:{watchOp:l.kind}});u.push(d),o.push(()=>{const h=u.indexOf(d);h!==-1&&u.splice(h,1),ic(d)})}),Xu(()=>{o.forEach(l=>l())})}{const o=En({node:i,parent:s,family:{owners:s}});return Xu(()=>{ic(o)})}}function N4(t,e){return Ss(e)?[xo.mov({store:e.stateRef,to:"stack"}),...t]:t}const O4=typeof Symbol<"u"&&Symbol.observable||"@@observable",Ct=t=>t.graphite||t,$a=t=>t.family.owners,Ba=t=>t.family.links,la=t=>t.stateRef,Ui=t=>t.value,ua=t=>t.subscribers,Kr=t=>t.parent,Er=t=>t.scope,qn=(t,e)=>Ct(t).meta[e],ln=(t,e,n)=>Ct(t).meta[e]=n,A4=t=>t.compositeName,Ua=t=>(ot(t)||sr(t))&&"kind"in t,Cs=t=>e=>Ua(e)&&e.kind===t,Ss=Cs("store"),R4=Cs("event"),Pf=Cs("effect"),b4=t=>Ua(t)&&!!t.targetable,sm=Cs("domain"),M4=Cs("scope");var Zs={__proto__:null,unit:Ua,store:Ss,event:R4,effect:Pf,targetable:b4,domain:sm,scope:M4,attached:t=>Pf(t)&&qn(t,"attached")==1};const Fl=(t,e)=>{const n=t.indexOf(e);n!==-1&&t.splice(n,1)},bt=(t,e)=>t.push(e),ca=(t,e,n,r)=>!t&&console.error(`${r?r+": ":""}${e} is deprecated${n?`, use ${n} instead`:""}`),za=()=>{let t=0;return()=>""+ ++t},j4=za(),om=za(),D4=za(),F4=za();let br=null;const am=t=>{},lm=()=>br,$4=t=>(t&&br&&br.sidRoot&&(t=`${br.sidRoot}|${t}`),t),Id=(t,e)=>{const n=Ct(t);st(e,r=>{const i=Ct(r);n.family.type!=="domain"&&(i.family.type="crosslink"),bt($a(i),n),bt(Ba(n),i)})},Ys=(t=[])=>(Array.isArray(t)?t:[t]).flat().map(Ct),sr=t=>typeof t=="object"&&t!==null,ot=t=>typeof t=="function",zi=t=>t===void 0,B4=t=>Ae(sr(t)||ot(t),"expect first argument be an object"),Nf=(t,e,n,r)=>Ae(!(!sr(t)&&!ot(t)||!("family"in t)&&!("graphite"in t)),`${e}: expect ${n} to be a unit (store, event or effect)${r}`),U4=(t,e,n)=>{Array.isArray(t)?st(t,(r,i)=>Nf(r,e,`${i} item of ${n}`,"")):Nf(t,e,n," or array of units")},z4=(t,{fn:e},{a:n})=>e(t,n),V4=(t,{fn:e},{a:n})=>e(n,t),Va=(t,{fn:e})=>e(t),um=(t,e,n,r)=>{const i={id:om(),type:t,data:e};return n&&(i.order={priority:n},r&&(i.order.barrierID=++H4)),i};let H4=0;const Ha=({from:t="store",store:e,target:n,to:r=n?"store":"stack",batch:i,priority:s})=>um("mov",{from:t,store:e,to:r,target:n},s,i),ds=({fn:t,batch:e,priority:n,safe:r=0,filter:i=0,pure:s=0})=>um("compute",{fn:t,safe:r,filter:i,pure:s},n,e),Td=({fn:t})=>ds({fn:t,priority:"effect"}),Mr=(t,e,n)=>ds({fn:t,safe:1,filter:e,priority:n&&"effect"}),W4=(t,e,n)=>Ha({store:t,to:"a",priority:n,batch:1}),xr=(t=Va,e)=>ds({fn:t,pure:1,filter:e}),xo={mov:Ha,compute:ds,filter:({fn:t,pure:e})=>ds({fn:t,filter:1,pure:e}),run:Td},q4=t=>({id:om(),current:t,initial:t}),cm=({current:t})=>t,K4=(t,e)=>{t.before||(t.before=[]),bt(t.before,e)};let Ir=null;const Ld=(t,e)=>{if(!t)return e;if(!e)return t;let n;return(t.v.type===e.v.type&&t.v.id>e.v.id||tc(t.v.type)>tc(e.v.type))&&(n=t,t=e,e=n),n=Ld(t.r,e),t.r=t.l,t.l=n,t},Pd=[];let Of=0;for(;Of<6;)bt(Pd,{first:null,last:null,size:0}),Of+=1;const G4=()=>{for(let t=0;t<6;t++){const e=Pd[t];if(e.size>0){if(t===3||t===4){e.size-=1;const r=Ir.v;return Ir=Ld(Ir.l,Ir.r),r}e.size===1&&(e.last=null);const n=e.first;return e.first=n.r,e.size-=1,n.v}}},bn=(t,e,n,r,i,s,o)=>ec(0,{a:null,b:null,node:n,parent:r,value:i,page:e,scope:s,meta:o},t,0),ec=(t,e,n,r)=>{const i=tc(n),s=Pd[i],o={v:{idx:t,stack:e,type:n,id:r},l:null,r:null};i===3||i===4?Ir=Ld(Ir,o):(s.size===0?s.first=o:s.last.r=o,s.last=o),s.size+=1},tc=t=>{switch(t){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},$l=new Set;let z,Xs=1,Io=0,To=0,gt=null;const nc=t=>{z=t},Af=t=>{gt=t},dm=(t,e)=>{if(t){for(;t&&!t.reg[e];)t=t.parent;if(t)return t}return null},Q4=(t,e,n,r)=>{const i=dm(t,n.id);return i?i.reg[n.id]:e?(Gr(e,n,r),e.reg[n.id]):n},J4=t=>t,Gr=(t,e,n,r,i)=>{const s=t.reg;if(s[e.id])return;const o=e.sid,a={id:e.id,current:e.initial,meta:e.meta};if(a.id in t.values.idMap)a.current=t.values.idMap[a.id];else if(o&&o in t.values.sidMap&&!(o in t.sidIdMap)){var l;const u=e==null||(l=e.meta)===null||l===void 0?void 0:l.serialize;a.current=(t.fromSerialize&&u!=="ignore"&&(u==null?void 0:u.read)||J4)(t.values.sidMap[o])}else if(e.before&&!i){let u=0;const d=n||!e.noInit||r;st(e.before,h=>{switch(h.type){case"map":{const p=h.from;if((p||h.fn)&&(p&&Gr(t,p,n,r),d)){const _=p&&s[p.id].current;a.current=h.fn?h.fn(_):_}break}case"field":Gr(t,h.from,n,r),u||(u=1,a.current=Array.isArray(a.current)?[...a.current]:{...a.current}),d&&(a.current[h.field]=s[s[h.from.id].id].current)}})}o&&(t.sidIdMap[o]=e.id),s[e.id]=a},Z4=(t,e,n)=>{try{return e(Ui(n),t.scope,n)}catch(r){console.error(r),t.fail=1,t.failReason=r}},Qr=(t,e={})=>(sr(t)&&(Qr(t.or,e),x4(t,(n,r)=>{zi(n)||r==="or"||r==="and"||(e[r]=n)}),Qr(t.and,e)),e),Rf=(t,e)=>{Fl(t.next,e),Fl($a(t),e),Fl(Ba(t),e)},rc=(t,e,n)=>{let r;t.next.length=0,t.seq.length=0,t.scope=null;let i=Ba(t);for(;r=i.pop();)Rf(r,t),(e||n&&t.meta.op!=="sample"||r.family.type==="crosslink")&&rc(r,e,r.meta.op!=="on"&&n);for(i=$a(t);r=i.pop();)Rf(r,t),n&&r.family.type==="crosslink"&&rc(r,e,r.meta.op!=="on"&&n)},ki=t=>t.clear(),ic=(t,{deep:e}={})=>{let n=0;if(t.ownerSet&&t.ownerSet.delete(t),Ss(t))ki(ua(t));else if(sm(t)){n=1;const r=t.history;ki(r.events),ki(r.effects),ki(r.stores),ki(r.domains)}rc(Ct(t),!!e,n)},hm=t=>Xu(()=>ic(t)),Nd=(t,e,n,r,i)=>En({node:n,parent:t,child:e,scope:{fn:i},meta:{op:r},family:{owners:[t,e],links:e},regional:1}),fm=(t,e)=>(Ae(ot(e),".watch argument should be a function"),hm(En({scope:{fn:e},node:[Td({fn:Va})],parent:t,meta:{op:"watch"},family:{owners:t},regional:1}))),Y4=(t,e,n="event")=>{Kr(t)&&Kr(t).hooks[n](e)},pm=(t,e,n)=>{const r=Qr(n),i=t==="domain",s=j4(),{sid:o=null,named:a=null,domain:l=null,parent:u=l}=r,d=a||r.name||(i?"":s),h=I4(d,u),p={op:e.kind=t,name:e.shortName=d,sid:e.sid=$4(o),named:a,unitId:e.id=s,serialize:r.serialize,derived:r.derived,config:r};return e.targetable=!r.derived,e.parent=u,e.compositeName=h,e.defaultConfig=r,e.getType=()=>(ca(0,"getType","compositeName.fullName"),h.fullName),!i&&(e.subscribe=_=>(B4(_),e.watch(ot(_)?_:y=>_.next&&_.next(y))),e[O4]=()=>e),p},Bl=(t,e,n,r)=>{let i;sr(n)&&(i=n,n=n.fn);const s=Be({name:`${t.shortName} → *`,derived:1,and:i});return Nd(t,s,r,e,n),s},Ul="undefined is used to skip updates. To allow undefined as a value provide explicit { skipVoid: false } option",mm=(t,e,n,r,i)=>{const s=la(e),o=Ha({store:s,to:"a",priority:"read"});n==="map"&&(o.data.softRead=1);const a=[o,xr(r)];return Bi("storeOnMap",s,a,Ss(t)&&la(t)),Nd(t,e,a,n,i)},X4=(t,e,n)=>{try{return[1,t(...n)]}catch(r){return e(r),[0,null]}},bf=(t,e,n,r,i)=>s=>{cs({target:[r,ew],params:[n?{status:"done",params:t,result:s}:{status:"fail",params:t,error:s},{value:s,fn:n?e.rs:e.rj}],defer:1,page:i.page,scope:i.scope,meta:i.meta})},ew=En({node:[Td({fn:({fn:t,value:e})=>t(e)})],meta:{op:"fx",fx:"sidechain"}});async function Se(t,e){return await(await fetch(t,{headers:{"Content-Type":"application/json"},...e})).json()}const Vi=_s(async function(){const t=Wa.getState();return await Se("http://localhost:5000/api/chats/search-users",{method:"POST",body:JSON.stringify({query:t,token:H("token")})})}),ks=Be(),tw=Ve(null).on(Vi.doneData,(t,e)=>e.data),nw=Ve(!1).on(Vi,()=>!0).on(Vi.done,()=>!1).on(Vi.fail,()=>!1),Wa=Ve("");Wa.on(ks,(t,e)=>e);Wa.watch(async()=>{await Vi()});const St=Object.create(null);St.open="0";St.close="1";St.ping="2";St.pong="3";St.message="4";St.upgrade="5";St.noop="6";const Lo=Object.create(null);Object.keys(St).forEach(t=>{Lo[St[t]]=t});const sc={type:"error",data:"parser error"},gm=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",vm=typeof ArrayBuffer=="function",ym=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Od=({type:t,data:e},n,r)=>gm&&e instanceof Blob?n?r(e):Mf(e,r):vm&&(e instanceof ArrayBuffer||ym(e))?n?r(e):Mf(new Blob([e]),r):r(St[t]+(e||"")),Mf=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function jf(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let zl;function rw(t,e){if(gm&&t.data instanceof Blob)return t.data.arrayBuffer().then(jf).then(e);if(vm&&(t.data instanceof ArrayBuffer||ym(t.data)))return e(jf(t.data));Od(t,!1,n=>{zl||(zl=new TextEncoder),e(zl.encode(n))})}const Df="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ni=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Df.length;t++)Ni[Df.charCodeAt(t)]=t;const iw=t=>{let e=t.length*.75,n=t.length,r,i=0,s,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(r=0;r<n;r+=4)s=Ni[t.charCodeAt(r)],o=Ni[t.charCodeAt(r+1)],a=Ni[t.charCodeAt(r+2)],l=Ni[t.charCodeAt(r+3)],d[i++]=s<<2|o>>4,d[i++]=(o&15)<<4|a>>2,d[i++]=(a&3)<<6|l&63;return u},sw=typeof ArrayBuffer=="function",Ad=(t,e)=>{if(typeof t!="string")return{type:"message",data:wm(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:ow(t.substring(1),e)}:Lo[n]?t.length>1?{type:Lo[n],data:t.substring(1)}:{type:Lo[n]}:sc},ow=(t,e)=>{if(sw){const n=iw(t);return wm(n,e)}else return{base64:!0,data:t}},wm=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},_m="",aw=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((s,o)=>{Od(s,!1,a=>{r[o]=a,++i===n&&e(r.join(_m))})})},lw=(t,e)=>{const n=t.split(_m),r=[];for(let i=0;i<n.length;i++){const s=Ad(n[i],e);if(r.push(s),s.type==="error")break}return r};function uw(){return new TransformStream({transform(t,e){rw(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let Vl;function eo(t){return t.reduce((e,n)=>e+n.length,0)}function to(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function cw(t,e){Vl||(Vl=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(eo(n)<1)break;const l=to(n,1);s=(l[0]&128)===128,i=l[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(eo(n)<2)break;const l=to(n,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(eo(n)<8)break;const l=to(n,8),u=new DataView(l.buffer,l.byteOffset,l.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(sc);break}i=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(eo(n)<i)break;const l=to(n,i);a.enqueue(Ad(s?l:Vl.decode(l),e)),r=0}if(i===0||i>t){a.enqueue(sc);break}}}})}const Cm=4;function ie(t){if(t)return dw(t)}function dw(t){for(var e in ie.prototype)t[e]=ie.prototype[e];return t}ie.prototype.on=ie.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};ie.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};ie.prototype.off=ie.prototype.removeListener=ie.prototype.removeAllListeners=ie.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};ie.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};ie.prototype.emitReserved=ie.prototype.emit;ie.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};ie.prototype.hasListeners=function(t){return!!this.listeners(t).length};const qe=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Sm(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const hw=qe.setTimeout,fw=qe.clearTimeout;function qa(t,e){e.useNativeTimers?(t.setTimeoutFn=hw.bind(qe),t.clearTimeoutFn=fw.bind(qe)):(t.setTimeoutFn=qe.setTimeout.bind(qe),t.clearTimeoutFn=qe.clearTimeout.bind(qe))}const pw=1.33;function mw(t){return typeof t=="string"?gw(t):Math.ceil((t.byteLength||t.size)*pw)}function gw(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function vw(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function yw(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class ww extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class Rd extends ie{constructor(e){super(),this.writable=!1,qa(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,r){return super.emitReserved("error",new ww(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Ad(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=vw(e);return n.length?"?"+n:""}}const km="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),oc=64,_w={};let Ff=0,no=0,$f;function Bf(t){let e="";do e=km[t%oc]+e,t=Math.floor(t/oc);while(t>0);return e}function Em(){const t=Bf(+new Date);return t!==$f?(Ff=0,$f=t):t+"."+Bf(Ff++)}for(;no<oc;no++)_w[km[no]]=no;let xm=!1;try{xm=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Cw=xm;function Im(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Cw))return new XMLHttpRequest}catch{}if(!e)try{return new qe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Sw(){}const kw=function(){return new Im({xdomain:!1}).responseType!=null}();class Ew extends Rd{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}const n=e&&e.forceBase64;this.supportsBinary=kw&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};lw(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,aw(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Em()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new wt(this.uri(),e)}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class wt extends ie{constructor(e,n){super(),qa(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.data=n.data!==void 0?n.data:null,this.create()}create(){var e;const n=Sm(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new Im(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=wt.requestsCount++,wt.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Sw,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete wt.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}wt.requestsCount=0;wt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Uf);else if(typeof addEventListener=="function"){const t="onpagehide"in qe?"pagehide":"unload";addEventListener(t,Uf,!1)}}function Uf(){for(let t in wt.requests)wt.requests.hasOwnProperty(t)&&wt.requests[t].abort()}const bd=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),ro=qe.WebSocket||qe.MozWebSocket,zf=!0,xw="arraybuffer",Vf=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Iw extends Rd{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,r=Vf?{}:Sm(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=zf&&!Vf?n?new ro(e,n):new ro(e):new ro(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;Od(r,this.supportsBinary,s=>{const o={};try{zf&&this.ws.send(s)}catch{}i&&bd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Em()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}check(){return!!ro}}class Tw extends Rd{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const n=cw(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=uw();i.readable.pipeTo(e.writable),this.writer=i.writable.getWriter();const s=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this.writer.write(r).then(()=>{i&&bd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const Lw={websocket:Iw,webtransport:Tw,polling:Ew},Pw=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Nw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ac(t){if(t.length>2e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=Pw.exec(t||""),s={},o=14;for(;o--;)s[Nw[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Ow(s,s.path),s.queryKey=Aw(s,s.query),s}function Ow(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Aw(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}let Tm=class dr extends ie{constructor(e,n={}){super(),this.binaryType=xw,this.writeBuffer=[],e&&typeof e=="object"&&(n=e,e=null),e?(e=ac(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=ac(n.host).host),qa(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=yw(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Cm,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Lw[e](r)}open(){let e;if(this.opts.rememberUpgrade&&dr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),r=!1;dr.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;dr.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function s(){r||(r=!0,d(),n.close(),n=null)}const o=h=>{const p=new Error("probe error: "+h);p.transport=n.name,s(),this.emitReserved("upgradeError",p)};function a(){o("transport closed")}function l(){o("socket closed")}function u(h){n&&h.name!==n.name&&s()}const d=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};n.once("open",i),n.once("error",o),n.once("close",a),this.once("close",l),this.once("upgrading",u),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",dr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=mw(i)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(e,n,r){return this.sendPacket("message",e,n,r),this}send(e,n,r){return this.sendPacket("message",e,n,r),this}sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){dr.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let r=0;const i=e.length;for(;r<i;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}};Tm.protocol=Cm;function Rw(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=ac(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const bw=typeof ArrayBuffer=="function",Mw=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Lm=Object.prototype.toString,jw=typeof Blob=="function"||typeof Blob<"u"&&Lm.call(Blob)==="[object BlobConstructor]",Dw=typeof File=="function"||typeof File<"u"&&Lm.call(File)==="[object FileConstructor]";function Md(t){return bw&&(t instanceof ArrayBuffer||Mw(t))||jw&&t instanceof Blob||Dw&&t instanceof File}function Po(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Po(t[n]))return!0;return!1}if(Md(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Po(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Po(t[n]))return!0;return!1}function Fw(t){const e=[],n=t.data,r=t;return r.data=lc(n,e),r.attachments=e.length,{packet:r,buffers:e}}function lc(t,e){if(!t)return t;if(Md(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=lc(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=lc(t[r],e));return n}return t}function $w(t,e){return t.data=uc(t.data,e),delete t.attachments,t}function uc(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=uc(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=uc(t[n],e));return t}const Bw=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Uw=5;var j;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(j||(j={}));class zw{constructor(e){this.replacer=e}encode(e){return(e.type===j.EVENT||e.type===j.ACK)&&Po(e)?this.encodeAsBinary({type:e.type===j.EVENT?j.BINARY_EVENT:j.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===j.BINARY_EVENT||e.type===j.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Fw(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function Hf(t){return Object.prototype.toString.call(t)==="[object Object]"}class jd extends ie{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===j.BINARY_EVENT;r||n.type===j.BINARY_ACK?(n.type=r?j.EVENT:j.ACK,this.reconstructor=new Vw(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Md(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(j[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===j.BINARY_EVENT||r.type===j.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(s,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(s,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(jd.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case j.CONNECT:return Hf(n);case j.DISCONNECT:return n===void 0;case j.CONNECT_ERROR:return typeof n=="string"||Hf(n);case j.EVENT:case j.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Bw.indexOf(n[0])===-1);case j.ACK:case j.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Vw{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=$w(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Hw=Object.freeze(Object.defineProperty({__proto__:null,Decoder:jd,Encoder:zw,get PacketType(){return j},protocol:Uw},Symbol.toStringTag,{value:"Module"}));function tt(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Ww=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Pm extends ie{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[tt(e,"open",this.onopen.bind(this)),tt(e,"packet",this.onpacket.bind(this)),tt(e,"error",this.onerror.bind(this)),tt(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(Ww.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:j.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,a=n.pop();this._registerAckCallback(o,a),r.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,i)=>{const s=(o,a)=>o?i(o):r(a);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:j.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case j.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case j.EVENT:case j.BINARY_EVENT:this.onevent(e);break;case j.ACK:case j.BINARY_ACK:this.onack(e);break;case j.DISCONNECT:this.ondisconnect();break;case j.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:j.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:j.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function oi(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}oi.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};oi.prototype.reset=function(){this.attempts=0};oi.prototype.setMin=function(t){this.ms=t};oi.prototype.setMax=function(t){this.max=t};oi.prototype.setJitter=function(t){this.jitter=t};class cc extends ie{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,qa(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new oi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||Hw;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Tm(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=tt(n,"open",function(){r.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=tt(n,"error",s);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(tt(e,"ping",this.onping.bind(this)),tt(e,"data",this.ondata.bind(this)),tt(e,"error",this.onerror.bind(this)),tt(e,"close",this.onclose.bind(this)),tt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){bd(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Pm(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ei={};function No(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Rw(t,e.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=Ei[i]&&s in Ei[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new cc(r,e):(Ei[i]||(Ei[i]=new cc(r,e)),l=Ei[i]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(No,{Manager:cc,Socket:Pm,io:No,connect:No});const qt=g.createContext(null),qw=({children:t})=>{const e=g.useRef(null),[n,r]=g.useState(!1);return g.useEffect(()=>{const i=No("http://localhost:5000");return e.current=i,r(!0),()=>{e.current&&e.current.disconnect()}},[]),c.jsx(qt.Provider,{value:e.current,children:n&&t})},Nm=g.createContext(null),Kw=({children:t})=>{const e=g.useRef(null),[n,r]=g.useState(!1);return g.useEffect(()=>{Se("http://localhost:5000/api/users/get-user",{method:"POST",body:JSON.stringify({token:H("token")})}).then(i=>{e.current=i.data,r(!0)})},[]),c.jsx(Nm.Provider,{value:e.current,children:n&&t})},Kt=()=>g.useContext(Nm),Wf=g.memo(({chat:t,isActive:e,isOnline:n,opponentTyping:r})=>{var p;const[i,s]=g.useState(null),[o,a]=X0(),l=g.useContext(qt),u=t.messages.length,d=Kt();g.useEffect(()=>{(async()=>{const{data:y}=await Se("http://localhost:5000/api/users/get-user",{method:"POST",body:JSON.stringify({id:t.opponentId===(d==null?void 0:d.uid)?t.creatorId:t.opponentId,token:H("token")})});s(y)})()},[]);const h=()=>{(d==null?void 0:d.uid)!==t.messages[u-1].senderId&&(l==null||l.emit("select-chat",{token:H("token"),chatId:t.id}))};return c.jsxs("div",{className:G(Ye.chatListItem,e&&Ye.chatListItemActive,t.isPinned&&Ye.chatListItemPinned),onClick:()=>{a({chat:t.id}),h(),ks("")},children:[c.jsx(si,{size:[40,40],isActive:n,src:i==null?void 0:i.avatar}),c.jsxs("div",{className:Ye.chatListItemCol,children:[c.jsxs("div",{className:Ye.chatListItemRow,children:[c.jsx("h6",{children:i==null?void 0:i.login}),c.jsxs("span",{children:[u?c.jsx("li",{children:Eo(t.messages[u-1].createdAt)}):null,t.isPinned&&c.jsx(w4,{})]})]}),c.jsxs("div",{className:Ye.chatListItemRow,children:[r?c.jsxs("div",{className:Ye.opponentTyping,children:[c.jsx("p",{className:Ye.opponentTypingText,children:"Печатает"}),c.jsxs("span",{className:Ye.opponentTypingDots,children:[c.jsx("span",{}),c.jsx("span",{}),c.jsx("span",{})]})]}):u?c.jsxs("p",{className:G(t.messages[u-1].senderId!==(d==null?void 0:d.uid)&&Ye.chatListItemRowOpponentMsg),children:[t.messages[u-1].type==="text"&&t.messages[u-1].content,t.messages[u-1].type==="media"&&"Фотографии"]}):c.jsx("p",{children:"Новый чат"}),u&&!r?c.jsx(c.Fragment,{children:t.unread>0&&t.messages[u-1].senderId===(i==null?void 0:i.uid)?c.jsx("span",{className:Ye.chatListItemRowUnchecked,children:t.unread}):((p=t.messages[u-1])==null?void 0:p.status)==="send"?c.jsx(So,{}):c.jsx(ko,{})}):null]})]})]})}),Gw=t=>g.createElement("svg",{width:18,height:20,viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M16.534 10.6045C16.387 10.4372 16.306 10.2221 16.306 9.99946C16.306 9.77679 16.387 9.56174 16.534 9.39446L17.7073 8.07446C17.8366 7.93024 17.9169 7.74877 17.9366 7.55609C17.9564 7.36341 17.9146 7.16942 17.8173 7.00196L15.984 3.83029C15.8876 3.66302 15.7409 3.53043 15.5648 3.45142C15.3887 3.37241 15.1921 3.35102 15.0031 3.39029L13.2798 3.73862C13.0605 3.78393 12.8322 3.74741 12.638 3.63596C12.4438 3.5245 12.2971 3.34582 12.2256 3.13362L11.6665 1.45612C11.605 1.27405 11.4878 1.11592 11.3315 1.00406C11.1753 0.892207 10.9878 0.832294 10.7956 0.83279H7.12897C6.92908 0.822356 6.73126 0.877639 6.56574 0.990194C6.40022 1.10275 6.27609 1.26639 6.2123 1.45612L5.69897 3.13362C5.62747 3.34582 5.48078 3.5245 5.28657 3.63596C5.09237 3.74741 4.86409 3.78393 4.6448 3.73862L2.87564 3.39029C2.69648 3.36497 2.51383 3.39324 2.35071 3.47154C2.18758 3.54984 2.05128 3.67467 1.95897 3.83029L0.125637 7.00196C0.0258674 7.16755 -0.0189924 7.36045 -0.00252863 7.55308C0.0139352 7.7457 0.0908794 7.92819 0.217304 8.07446L1.38147 9.39446C1.52843 9.56174 1.60948 9.77679 1.60948 9.99946C1.60948 10.2221 1.52843 10.4372 1.38147 10.6045L0.217304 11.9245C0.0908794 12.0707 0.0139352 12.2532 -0.00252863 12.4458C-0.0189924 12.6385 0.0258674 12.8314 0.125637 12.997L1.95897 16.1686C2.05531 16.3359 2.202 16.4685 2.37812 16.5475C2.55424 16.6265 2.75081 16.6479 2.9398 16.6086L4.66314 16.2603C4.88242 16.215 5.1107 16.2515 5.30491 16.363C5.49911 16.4744 5.64581 16.6531 5.7173 16.8653L6.27647 18.5428C6.34025 18.7325 6.46438 18.8962 6.62991 19.0087C6.79543 19.1213 6.99324 19.1766 7.19314 19.1661H10.8598C11.052 19.1666 11.2394 19.1067 11.3957 18.9949C11.552 18.883 11.6691 18.7249 11.7306 18.5428L12.2898 16.8653C12.3613 16.6531 12.508 16.4744 12.7022 16.363C12.8964 16.2515 13.1247 16.215 13.344 16.2603L15.0673 16.6086C15.2563 16.6479 15.4529 16.6265 15.629 16.5475C15.8051 16.4685 15.9518 16.3359 16.0481 16.1686L17.8815 12.997C17.9788 12.8295 18.0206 12.6355 18.0008 12.4428C17.9811 12.2501 17.9008 12.0687 17.7715 11.9245L16.534 10.6045ZM15.1681 11.8328L15.9015 12.6578L14.7281 14.6928L13.6465 14.4728C12.9863 14.3378 12.2995 14.45 11.7165 14.7879C11.1335 15.1259 10.6949 15.6661 10.484 16.3061L10.1356 17.3328H7.78897L7.45897 16.2878C7.248 15.6478 6.8094 15.1076 6.22643 14.7696C5.64345 14.4317 4.95667 14.3195 4.29647 14.4545L3.2148 14.6745L2.02314 12.6486L2.75647 11.8236C3.20743 11.3194 3.45674 10.6667 3.45674 9.99029C3.45674 9.31385 3.20743 8.66114 2.75647 8.15696L2.02314 7.33196L3.19647 5.31529L4.27814 5.53529C4.93834 5.67024 5.62511 5.5581 6.20809 5.22014C6.79107 4.88218 7.22967 4.34194 7.44064 3.70196L7.78897 2.66612H10.1356L10.484 3.71112C10.6949 4.3511 11.1335 4.89135 11.7165 5.2293C12.2995 5.56726 12.9863 5.67941 13.6465 5.54446L14.7281 5.32446L15.9015 7.35946L15.1681 8.18446C14.7222 8.68749 14.476 9.33642 14.476 10.0086C14.476 10.6808 14.7222 11.3298 15.1681 11.8328ZM8.96231 6.33279C8.23711 6.33279 7.52819 6.54784 6.92521 6.95073C6.32223 7.35363 5.85227 7.92629 5.57475 8.59628C5.29722 9.26628 5.22461 10.0035 5.36609 10.7148C5.50757 11.4261 5.85679 12.0794 6.36958 12.5922C6.88237 13.105 7.53571 13.4542 8.24697 13.5957C8.95824 13.7371 9.69548 13.6645 10.3655 13.387C11.0355 13.1095 11.6081 12.6395 12.011 12.0365C12.4139 11.4336 12.629 10.7247 12.629 9.99946C12.629 9.027 12.2427 8.09436 11.555 7.40673C10.8674 6.7191 9.93477 6.33279 8.96231 6.33279ZM8.96231 11.8328C8.59971 11.8328 8.24525 11.7253 7.94376 11.5238C7.64227 11.3224 7.40729 11.036 7.26853 10.701C7.12976 10.366 7.09346 9.99742 7.1642 9.64179C7.23494 9.28616 7.40955 8.95949 7.66594 8.70309C7.92234 8.4467 8.24901 8.27209 8.60464 8.20135C8.96027 8.13061 9.32889 8.16692 9.66389 8.30568C9.99889 8.44444 10.2852 8.67942 10.4867 8.98091C10.6881 9.2824 10.7956 9.63686 10.7956 9.99946C10.7956 10.4857 10.6025 10.952 10.2587 11.2958C9.91485 11.6396 9.44853 11.8328 8.96231 11.8328Z",fill:"#A7ACB4"})),Qw=t=>g.createElement("svg",{width:"32px",height:"32px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M15 16L20 21M20 16L15 21M4 21C4 17.134 7.13401 14 11 14M15 7C15 9.20914 13.2091 11 11 11C8.79086 11 7 9.20914 7 7C7 4.79086 8.79086 3 11 3C13.2091 3 15 4.79086 15 7Z",stroke:"#000000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Om=t=>g.createElement("svg",{fill:"#000000",width:"100px",height:"100px",viewBox:"0 0 32 32",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t},g.createElement("style",{type:"text/css"},`
	.st0{display:none;}
`),g.createElement("g",{className:"st0",id:"etc"}),g.createElement("g",{id:"knife"}),g.createElement("g",{id:"emergency_meeting"}),g.createElement("g",{id:"Suspicious"}),g.createElement("g",{id:"report"}),g.createElement("g",{id:"killed"}),g.createElement("g",{id:"Die_1_"}),g.createElement("g",{id:"Pets"}),g.createElement("g",{id:"Vent"}),g.createElement("g",{id:"Die_2"},g.createElement("path",{d:"M29,26.5c0,0.8284-0.8954,1.5-2,1.5s-2-0.6716-2-1.5s0.8954-1.5,2-1.5S29,25.6716,29,26.5z M22.5,27   c-0.8284,0-1.5,0.4477-1.5,1c0,0.5522,0.6716,1,1.5,1s1.5-0.4478,1.5-1C24,27.4477,23.3284,27,22.5,27z M27.145,14.1104   c0,2.9241-1.1008,4.4212-2.179,5.3781C24.616,23.6719,19.8387,27,14,27c-6.0654,0-11-3.5889-11-8   c0-2.0281,1.0516-3.8766,2.7681-5.2883C4.9628,11.6728,4.6155,8.316,7.7441,6.439c4.5986-2.7598,10.043-2.7769,12.0483-1.7334   c2.181,1.1348,2.8776,3.1837,3.101,4.3697c0.7875,0.1215,1.926,0.4449,2.8385,1.3251   C26.6694,11.3047,27.145,12.5532,27.145,14.1104z M7.4861,12.5684C9.3121,11.5875,11.5608,11,14,11   c1.6444,0,3.2,0.2712,4.6023,0.7436c0.0226-0.025,0.0333-0.0565,0.0588-0.0795l2.2964-2.0708   c-0.1143-0.749-0.5366-2.3062-2.0879-3.1133c-1.3271-0.6895-6.0952-0.7271-10.0962,1.6738   C6.8196,9.3262,7.0989,11.3668,7.4861,12.5684z M14.6646,22.9365c-0.0127-0.3413-0.1758-0.6528-0.4517-0.8599   c-0.3838-0.2886-0.5083-0.8096-0.2964-1.2407l0.4038-0.8203c0.0718-0.2861-0.0435-0.5913-0.2915-0.7568l-0.1313-0.0869   c-0.3013-0.2017-0.7061-0.1387-0.9404,0.146C11.9829,20.4971,11.2646,21,10.5552,21H10.231c-0.5762,0-1.0786,0.3511-1.1953,0.8345   c-0.1172,0.4878,0.0786,0.8315,0.2056,0.9927c0.2163,0.2744,0.54,0.4316,0.8882,0.4316c0.3467,0,0.5977-0.1597,0.7471-0.2935   c0.1855-0.166,0.4238-0.2549,0.667-0.2549c0.0811,0,0.1621,0.0098,0.2422,0.0298c0.3218,0.0806,0.5825,0.3149,0.6968,0.626   c0.1753,0.4795,0.7017,0.8755,1.3696,0.7031C14.3096,23.9512,14.6455,23.4795,14.6646,22.9365z M16.3378,19.7885   c0.0067,0.3035-0.0352,0.6111-0.1351,0.9108c-0.0032,0.0096-0.008,0.0186-0.0115,0.028C17.8322,20.296,19,19.3977,19,18.5   c0-1.1826-2.0532-2.5-5-2.5s-5,1.3174-5,2.5c0,0.2065,0.0826,0.4141,0.2028,0.6212C9.4583,19.0502,9.7222,19,10,19   c0.0356,0,0.0687,0.0093,0.1039,0.0105c0.0251-0.001,0.0492-0.0058,0.0743-0.0062c0.0834-0.0342,0.1699-0.063,0.2621-0.0737   c0.0898-0.0518,0.3975-0.2627,0.9766-0.9639c0.8901-1.0767,2.4341-1.3062,3.5894-0.5356l0.1309,0.0869   C15.9084,18.0326,16.3431,18.8964,16.3378,19.7885z M23,19c0-3.3086-4.0376-6-9-6c-2.5664,0-4.8795,0.7236-6.5206,1.8764   c-0.0019,0.001-0.0029,0.0029-0.0048,0.004c-0.0004,0.0002-0.0009,0.0003-0.0013,0.0005C5.9448,15.9567,5,17.4047,5,19   c0,1.4573,0.7847,2.7941,2.0854,3.8347c-0.059-0.2558-0.0868-0.5182-0.0803-0.7846C7.0048,22.033,7,22.0172,7,22   c0-0.643,0.2074-1.2359,0.5531-1.7248C7.1952,19.7205,7,19.1165,7,18.5c0-2.5234,3.0747-4.5,7-4.5s7,1.9766,7,4.5   c0,1.8168-1.5834,3.3786-4.0412,4.0925C16.9774,22.727,17,22.8605,17,23c0,0.6668-0.226,1.2773-0.5953,1.7759   C20.2016,24.0722,23,21.7527,23,19z M25.145,14.1104c0-0.9878-0.2666-1.7485-0.792-2.2612   c-0.6284-0.6133-1.5122-0.7847-1.9878-0.8315l-1.7693,1.5954c1.9016,1.0413,3.3234,2.5161,3.9847,4.225   C24.9164,16.2065,25.145,15.351,25.145,14.1104z"})),g.createElement("g",{id:"ghost"}),g.createElement("g",{id:"Hats"}),g.createElement("g",{id:"Crewmates"}),g.createElement("g",{id:"ejection"}),g.createElement("g",{id:"sabotage"}),g.createElement("g",{id:"Die"}),g.createElement("g",{id:"impostor"}),g.createElement("g",{id:"pets"}),g.createElement("g",{id:"crewmates"}),g.createElement("g",{id:"Guides"})),Jw=t=>g.createElement("svg",{width:"32px",height:"32px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M18.5 19.5L20 21M11 21H5.6C5.03995 21 4.75992 21 4.54601 20.891C4.35785 20.7951 4.20487 20.6422 4.10899 20.454C4 20.2401 4 19.9601 4 19.4V17.6841C4 17.0485 4 16.7306 4.04798 16.4656C4.27087 15.2344 5.23442 14.2709 6.46558 14.048C6.5425 14.0341 6.6237 14.0242 6.71575 14.0172C6.94079 14 7.05331 13.9914 7.20361 14.0026C7.35983 14.0143 7.4472 14.0297 7.59797 14.0722C7.74302 14.1131 8.00429 14.2315 8.52682 14.4682C9.13692 14.7446 9.8015 14.9218 10.5 14.9795M19 17.5C19 18.8807 17.8807 20 16.5 20C15.1193 20 14 18.8807 14 17.5C14 16.1193 15.1193 15 16.5 15C17.8807 15 19 16.1193 19 17.5ZM15 7C15 9.20914 13.2091 11 11 11C8.79086 11 7 9.20914 7 7C7 4.79086 8.79086 3 11 3C13.2091 3 15 4.79086 15 7Z",stroke:"#000000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Zw=t=>g.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M16.5 16.5L11.5 11.5M1.5 7.33333C1.5 8.09938 1.65088 8.85792 1.94404 9.56565C2.23719 10.2734 2.66687 10.9164 3.20854 11.4581C3.75022 11.9998 4.39328 12.4295 5.10101 12.7226C5.80875 13.0158 6.56729 13.1667 7.33333 13.1667C8.09938 13.1667 8.85792 13.0158 9.56565 12.7226C10.2734 12.4295 10.9164 11.9998 11.4581 11.4581C11.9998 10.9164 12.4295 10.2734 12.7226 9.56565C13.0158 8.85792 13.1667 8.09938 13.1667 7.33333C13.1667 6.56729 13.0158 5.80875 12.7226 5.10101C12.4295 4.39328 11.9998 3.75022 11.4581 3.20854C10.9164 2.66687 10.2734 2.23719 9.56565 1.94404C8.85792 1.65088 8.09938 1.5 7.33333 1.5C6.56729 1.5 5.80875 1.65088 5.10101 1.94404C4.39328 2.23719 3.75022 2.66687 3.20854 3.20854C2.66687 3.75022 2.23719 4.39328 1.94404 5.10101C1.65088 5.80875 1.5 6.56729 1.5 7.33333Z",stroke:"#A7ACB4",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Yw=t=>g.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M8.00016 1.5835V14.4168M1.5835 8.00016H14.4168",stroke:"#A7ACB4",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"}));var Xw={},Am={exports:{}},Rm={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jr=g;function e5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var t5=typeof Object.is=="function"?Object.is:e5,n5=Jr.useState,r5=Jr.useEffect,i5=Jr.useLayoutEffect,s5=Jr.useDebugValue;function o5(t,e){var n=e(),r=n5({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return i5(function(){i.value=n,i.getSnapshot=e,Hl(i)&&s({inst:i})},[t,n,e]),r5(function(){return Hl(i)&&s({inst:i}),t(function(){Hl(i)&&s({inst:i})})},[t]),s5(n),n}function Hl(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!t5(t,n)}catch{return!0}}function a5(t,e){return e()}var l5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?a5:o5;Rm.useSyncExternalStore=Jr.useSyncExternalStore!==void 0?Jr.useSyncExternalStore:l5;Am.exports=Rm;var bm=Am.exports;const u5=xc(bm);/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ka=g,c5=bm;function d5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var h5=typeof Object.is=="function"?Object.is:d5,f5=c5.useSyncExternalStore,p5=Ka.useRef,m5=Ka.useEffect,g5=Ka.useMemo,v5=Ka.useDebugValue;Xw.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=p5(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=g5(function(){function l(_){if(!u){if(u=!0,d=_,_=r(_),i!==void 0&&o.hasValue){var y=o.value;if(i(y,_))return h=y}return h=_}if(y=h,h5(d,_))return y;var w=r(_);return i!==void 0&&i(y,w)?y:(d=_,h=w)}var u=!1,d,h,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,i]);var a=f5(t,s[0],s[1]);return m5(function(){o.hasValue=!0,o.value=a},[a]),v5(a),a};function y5(t,e){const n=Zs.unit(t);let r={};n?r={unit:t}:"@@unitShape"in t?typeof t["@@unitShape"]=="function"?r=t["@@unitShape"]():qf("expect @@unitShape to be a function"):r=t;const i=Array.isArray(r),s=it.useRef({stale:1,justSubscribed:0,scope:e}),[o,a,l,u,d]=it.useMemo(()=>{s.current.stale=1;const y=Array.isArray(r)?[]:{},w=[],S=[],m=[],f=[];for(const v in r){if(!{}.hasOwnProperty.call(r,v))continue;const C=r[v];Zs.unit(C)||qf(`expect useUnit ${n?"argument":`value in key "${v}"`} to be a unit`),Zs.event(C)||Zs.effect(C)?(y[v]=e?L4(C,{scope:e}):C,m.push(v),f.push(C)):(y[v]=null,w.push(v),S.push(C))}return[y,w,S,m,f]},[s,e,...Object.keys(r),...Object.values(r)]),h=it.useRef({value:o,storeKeys:a,eventKeys:u,eventValues:d}),p=it.useCallback(y=>{const w=s.current;return w.justSubscribed=1,P4({unit:l,fn:()=>{w.stale||(w.stale=1,y())},scope:e,batch:1})},[l,e,h,s]),_=it.useCallback(()=>{const y=h.current,w=s.current;let S,m=0;const f=y.value,v=y.storeKeys,C=y.eventKeys,E=y.eventValues,I=e!==w.scope;if(w.stale||w.justSubscribed||I){m=!w.justSubscribed||I,S=i?[...o]:{...o},v.length===a.length&&C.length===u.length||(m=1);for(let k=0;k<a.length;k++){const T=C5(l[k],e),A=a[k];m||(m=v.includes(A)?f[A]!==T:1),S[A]=T}for(let k=0;k<u.length;k++){const T=d[k],A=u[k];m||(m=C.includes(A)?E[C.indexOf(A)]!==T:1)}}return m&&(y.value=S),y.storeKeys=a,y.eventKeys=u,y.eventValues=d,w.stale=0,w.justSubscribed=!m,w.scope=e,n?y.value.unit:y.value},[p,l,d,e,h,s]);return _5(p,_,_)}function w5(t){return it.useContext(S5)}function J(t,e){return y5(t,w5())}const qf=t=>{throw Error(t)};typeof window<"u"?it.useLayoutEffect:it.useEffect;const{useSyncExternalStore:_5}=u5,C5=(t,e)=>e?e.getState(t):t.getState(),S5=it.createContext(null),k5="_chatListItem_dyj0o_1",E5="_chatListItemCol_dyj0o_10",x5="_chatListItemRow_dyj0o_42",io={chatListItem:k5,chatListItemCol:E5,chatListItemRow:x5},Mm=_s(async()=>await Se("http://localhost:5000/api/users/get-user",{method:"POST",body:JSON.stringify({token:H("token")})})),Dd=Ve(null).on(Mm.doneData,(t,e)=>e.data);Mm();const jm=Be(),ai=_s(async function(){return await Se("http://localhost:5000/api/chats/get-chats",{method:"POST",body:JSON.stringify({token:H("token")})})}),Dm=_s(async function(t){return await Se("http://localhost:5000/api/chats/create-chat",{method:"POST",body:JSON.stringify({opponentId:t,token:H("token")})})}),Fd=_s(async function(t){return await Se("http://localhost:5000/api/users/get-user",{method:"POST",body:JSON.stringify({id:t,token:H("token")})})}),li=Ve([]).on(ai.doneData,(t,e)=>e.data).on(jm,(t,e)=>t.map(n=>n.id===e.chatId?{...n,messages:[...n.messages,e.message]}:n)),I5=Ve(null).on(Dm.doneData,(t,e)=>e.data),Ga=Ve(null).on(Fd.doneData,(t,e)=>e.data);I5.watch(async t=>{var e;await ai(),t&&await Fd(t.opponentId===((e=Dd.getState())==null?void 0:e.uid)?t.creatorId:t.opponentId)});li.watch(t=>{Array.isArray(t)&&t.map(e=>{e.messages=k4(e.messages,"createdAt")})});ai();const T5=({user:t,isOnline:e})=>{const n=ir(),r=async()=>{const i=await Dm(t.uid);i.success&&(await ai(),n(`/?chat=${i.data.id}`),ks(""))};return c.jsxs("div",{className:io.chatListItem,onClick:r,children:[c.jsx(si,{size:[40,40],isActive:e,src:t.avatar}),c.jsxs("div",{className:io.chatListItemCol,children:[c.jsxs("div",{className:io.chatListItemRow,children:[c.jsx("h6",{children:t.login}),c.jsx("span",{children:c.jsx("li",{children:"17:22"})})]}),c.jsx("div",{className:io.chatListItemRow,children:c.jsx("p",{children:"Новый чат"})})]})]})},da=Be(),xe=Be(),Qa=Be(),ha=Be(),xt=Ve(null).on(da,(t,e)=>e?li.getState().find(n=>n.id===e):null),L5=Ve(null).on(xe,(t,e)=>e),Fm=Ve(null).on(Qa,(t,e)=>({type:e,data:e===(t==null?void 0:t.type)?t.data:[]})).on(ha,(t,e)=>({type:(t==null?void 0:t.type)||"media",data:e}));li.watch(()=>{var e;const t=(e=xt.getState())==null?void 0:e.id;t&&da(t)});xt.watch(async t=>{var e;t&&(await Fd(t.opponentId===((e=Dd.getState())==null?void 0:e.uid)?t.creatorId:t.opponentId),ha([]),Qa(null))});const Wl=({onlineUsers:t,typingUsers:e})=>{const n=J(li),r=Kt(),i=J(nw),s=J(Wa),o=J(xt),a=J(tw),l=!!(a!=null&&a.existingChats.length),u=!!(a!=null&&a.searchResults.length);return c.jsxs("div",{className:Rn.chatList,children:[c.jsxs("header",{className:Rn.chatListHeader,children:[c.jsxs("div",{children:[c.jsxs("span",{children:[c.jsx("h1",{children:"чаты"}),c.jsx("h3",{children:n.length})]}),c.jsxs("ul",{children:[c.jsx(B,{children:c.jsx(Gw,{className:"blue-fill-hover"})}),c.jsx(B,{children:c.jsx(Yw,{className:"blue-stroke-hover"})})]})]}),c.jsx(tm,{placeholder:"Поиск",labelImg:c.jsx(Zw,{}),value:s,onChange:d=>ks(d.target.value)})]}),c.jsx("div",{className:G(Rn.chatListBody,"scroll"),children:u||l?c.jsxs(c.Fragment,{children:[u&&c.jsxs("div",{children:[c.jsxs("div",{className:Rn.row,children:[c.jsx(Jw,{className:"theme-stroke"}),c.jsxs("p",{children:[a.searchResults.length," ",a.searchResults.length===1?"user":"users"," found"]})]}),a.searchResults.map(d=>c.jsx(T5,{user:d,isOnline:t.includes(d.uid)},d.uid))]}),l&&c.jsxs("div",{children:[c.jsx("p",{children:"Existing chats"}),a.existingChats.map(d=>c.jsx(Wf,{chat:d,isOnline:t.includes(d.creatorId===(r==null?void 0:r.uid)?d.opponentId:d.creatorId)},d.id))]})]}):s.length?c.jsx(c.Fragment,{children:i?c.jsx("div",{className:Rn.center,children:c.jsx("p",{children:"Ищем пользователей"})}):c.jsxs("div",{className:Rn.center,children:[c.jsx(Qw,{className:"theme-stroke"}),c.jsx("p",{children:"Нет пользователей с таким именем"})]})}):n.length?n.sort((d,h)=>d.isPinned&&!h.isPinned?-1:!d.isPinned&&h.isPinned?1:0).map(d=>c.jsx(Wf,{chat:d,opponentTyping:e.includes(d.id),isActive:(o==null?void 0:o.id)===d.id,isOnline:t.includes(d.creatorId===(r==null?void 0:r.uid)?d.opponentId:d.creatorId)},d.id)):c.jsxs("div",{className:Rn.center,children:[c.jsx(Om,{className:"theme-fill"}),c.jsx("p",{children:"Нет чатов"})]})})]})},P5="_chatFrame_mlz9d_1",N5="_chatFrameHeader_mlz9d_8",O5="_chatFrameHeaderInfo_mlz9d_15",A5="_chatFrameHeaderInfoOnline_mlz9d_28",R5="_chatFrameHeaderOptions_mlz9d_31",b5="_chatFrameHeaderOptionsPopup_mlz9d_40",M5="_chatFrameBody_mlz9d_44",j5="_chatFrameBodyMessages_mlz9d_53",D5="_chatFrameBodyTyping_mlz9d_58",F5="_chatFrameBodyTypingDots_mlz9d_61",$5="_typingAnimation_mlz9d_1",B5="_chatFrameControl_mlz9d_83",U5="_chatFrameControlInput_mlz9d_88",z5="_chatFrameControlNoPaddings_mlz9d_91",V5="_chatFrameSelect_mlz9d_95",H5="_chatFrameAttachPopup_mlz9d_109",W5="_chatFrameAttachPopupMedia_mlz9d_113",q5="_chatFrameHeaderOptionsNote_mlz9d_152",le={chatFrame:P5,chatFrameHeader:N5,chatFrameHeaderInfo:O5,chatFrameHeaderInfoOnline:A5,chatFrameHeaderOptions:R5,chatFrameHeaderOptionsPopup:b5,chatFrameBody:M5,chatFrameBodyMessages:j5,chatFrameBodyTyping:D5,chatFrameBodyTypingDots:F5,typingAnimation:$5,chatFrameControl:B5,chatFrameControlInput:U5,chatFrameControlNoPaddings:z5,chatFrameSelect:V5,chatFrameAttachPopup:H5,chatFrameAttachPopupMedia:W5,chatFrameHeaderOptionsNote:q5},Kf=t=>g.createElement("svg",{width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.05619 19.8504C1.93733 19.7136 1.86169 19.5446 1.83885 19.3648C1.81601 19.185 1.84698 19.0024 1.92785 18.8402L10.1779 2.34021C10.2539 2.18767 10.3709 2.05935 10.5159 1.96965C10.6608 1.87996 10.8278 1.83244 10.9983 1.83244C11.1687 1.83244 11.3358 1.87996 11.4807 1.96965C11.6256 2.05935 11.7427 2.18767 11.8187 2.34021L20.0687 18.8402C20.1498 19.0024 20.1811 19.185 20.1584 19.365C20.1357 19.5449 20.0602 19.7141 19.9414 19.8511C19.8225 19.9881 19.6657 20.0867 19.4908 20.1346C19.3158 20.1824 19.1306 20.1773 18.9586 20.1199L11.9149 17.7714L11.9149 12.8333C11.9149 12.5902 11.8184 12.357 11.6465 12.1851C11.4745 12.0132 11.2414 11.9166 10.9983 11.9166C10.7552 11.9166 10.522 12.0132 10.3501 12.1851C10.1782 12.357 10.0816 12.5902 10.0816 12.8333L10.0816 17.7714L3.03794 20.1208C2.86598 20.1779 2.68095 20.1828 2.50621 20.1349C2.33147 20.0869 2.17487 19.9873 2.05619 19.8504Z",fill:"#0969DA"})),K5=t=>g.createElement("svg",{width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M13.7505 6.41716L7.79213 12.3755C7.42745 12.7402 7.22258 13.2348 7.22258 13.7505C7.22258 14.2662 7.42745 14.7608 7.79213 15.1255C8.1568 15.4902 8.6514 15.695 9.16713 15.695C9.68285 15.695 10.1775 15.4902 10.5421 15.1255L16.5005 9.16716C17.2298 8.43782 17.6395 7.44861 17.6395 6.41716C17.6395 5.38571 17.2298 4.39651 16.5005 3.66716C15.7711 2.93782 14.7819 2.52808 13.7505 2.52808C12.719 2.52808 11.7298 2.93782 11.0005 3.66716L5.04213 9.6255C3.94811 10.7195 3.3335 12.2033 3.3335 13.7505C3.3335 15.2977 3.94811 16.7815 5.04213 17.8755C6.13614 18.9695 7.61995 19.5841 9.16713 19.5841C10.7143 19.5841 12.1981 18.9695 13.2921 17.8755L19.2505 11.9172",stroke:"#686E7A",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"})),G5=t=>g.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M15 8H15.01M3 6C3 5.20435 3.31607 4.44129 3.87868 3.87868C4.44129 3.31607 5.20435 3 6 3H18C18.7956 3 19.5587 3.31607 20.1213 3.87868C20.6839 4.44129 21 5.20435 21 6V18C21 18.7956 20.6839 19.5587 20.1213 20.1213C19.5587 20.6839 18.7956 21 18 21H6C5.20435 21 4.44129 20.6839 3.87868 20.1213C3.31607 19.5587 3 18.7956 3 18V6Z",stroke:"#0969DA",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3 15.9998L8 10.9998C8.928 10.1068 10.072 10.1068 11 10.9998L16 15.9998",stroke:"#0969DA",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M14 13.9998L15 12.9998C15.928 12.1068 17.072 12.1068 18 12.9998L21 15.9998",stroke:"#0969DA",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Q5=t=>g.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M14 3V7C14 7.26522 14.1054 7.51957 14.2929 7.70711C14.4804 7.89464 14.7348 8 15 8H19",stroke:"#0969DA",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M17 21H7C6.46957 21 5.96086 20.7893 5.58579 20.4142C5.21071 20.0391 5 19.5304 5 19V5C5 4.46957 5.21071 3.96086 5.58579 3.58579C5.96086 3.21071 6.46957 3 7 3H14L19 8V19C19 19.5304 18.7893 20.0391 18.4142 20.4142C18.0391 20.7893 17.5304 21 17 21Z",stroke:"#0969DA",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),J5="_chatPopup_11w7l_1",Z5="_chatPopupHeader_11w7l_9",Y5="_chatPopupNotice_11w7l_18",X5="_chatPopupControl_11w7l_23",e6="_chatPopupButtons_11w7l_37",t6="_chatPopupMedia_11w7l_57",n6="_chatPopupMediaContent_11w7l_62",r6="_chatPopupMediaActive_11w7l_74",i6="_center_11w7l_84",ce={chatPopup:J5,chatPopupHeader:Z5,chatPopupNotice:Y5,chatPopupControl:X5,chatPopupButtons:e6,chatPopupMedia:t6,chatPopupMediaContent:n6,chatPopupMediaActive:r6,center:i6},Ja=t=>g.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M18 6L6 18M6 6L18 18",stroke:"#A7ACB4",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),s6=()=>{const[t,e]=g.useState(!1),n=g.useContext(qt),r=J(xt),i=J(Ga);async function s(){n==null||n.emit("delete-chat",{forBoth:t,chatId:r==null?void 0:r.id,token:H("token")}),xe(null)}return c.jsxs(kn,{extraClass:ce.chatPopup,onClick:()=>xe(null),isCentered:!0,withShadow:!0,children:[c.jsxs("div",{className:ce.chatPopupHeader,children:[c.jsx("h2",{children:"Удалить чат"}),c.jsx(B,{onClick:()=>xe(null),children:c.jsx(Ja,{})})]}),c.jsxs("div",{className:ce.chatPopupNotice,children:[c.jsxs("p",{children:["Вы точно хотите удалить чат с ",i==null?void 0:i.login,"?"]}),c.jsx("p",{children:"Это действие нельзя будет отменить."})]}),c.jsxs("label",{className:ce.chatPopupControl,children:[c.jsx("input",{type:"checkbox",checked:t,onChange:o=>e(o.target.checked)}),c.jsxs("p",{children:["Удалить у меня и у ",i==null?void 0:i.login]})]}),c.jsxs("div",{className:ce.chatPopupButtons,children:[c.jsx(B,{onClick:()=>xe(null),isGrey:!0,children:c.jsx("p",{children:"Отмена"})}),c.jsx(B,{onClick:s,children:c.jsx("p",{children:"Удалить"})})]})]})},o6=()=>{const[t,e]=g.useState(!1),n=J(Ga),r=J(xt),i=g.useContext(qt);function s(){i==null||i.emit("clear-chat",{forBoth:t,chatId:r==null?void 0:r.id,token:H("token")}),xe(null)}return c.jsxs(kn,{extraClass:ce.chatPopup,onClick:()=>xe(null),isCentered:!0,withShadow:!0,children:[c.jsxs("div",{className:ce.chatPopupHeader,onClick:o=>o.stopPropagation(),children:[c.jsx("h2",{children:"Очистить чат"}),c.jsx(B,{onClick:()=>xe(null),children:c.jsx(Ja,{})})]}),c.jsxs("div",{className:ce.chatPopupNotice,children:[c.jsxs("p",{children:["Очистить чат с ",n==null?void 0:n.login,"?"]}),c.jsx("p",{children:"Это действие нельзя будет отменить."})]}),c.jsxs("label",{className:ce.chatPopupControl,children:[c.jsx("input",{type:"checkbox",checked:t,onChange:o=>e(o.target.checked)}),c.jsxs("p",{children:["Очистить у меня и у ",n==null?void 0:n.login]})]}),c.jsxs("div",{className:ce.chatPopupButtons,children:[c.jsx(B,{onClick:()=>xe(null),children:c.jsx("p",{children:"Отмена"})}),c.jsx(B,{onClick:s,children:c.jsx("p",{children:"Очистить"})})]})]})},a6=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!1),[i,s]=g.useState(null),o=J(xt);return g.useEffect(()=>{(async()=>{r(!0);const{data:l}=await Se("http://localhost:5000/api/chats/get-chat-media",{method:"POST",body:JSON.stringify({chatId:o==null?void 0:o.id,token:H("token")})});e(l),r(!1)})()},[]),c.jsxs(kn,{extraClass:G(ce.chatPopup,ce.chatPopupMedia,"scroll"),onClick:()=>xe(null),isCentered:!0,withShadow:!0,children:[c.jsxs("div",{className:ce.chatPopupHeader,onClick:a=>a.stopPropagation(),children:[c.jsx("h2",{children:"Медиа"}),c.jsx(B,{onClick:()=>xe(null),children:c.jsx(Ja,{})})]}),i&&c.jsx(kn,{onClick:()=>s(null),extraClass:ce.chatPopupMediaActive,isCentered:!0,withShadow:!0,children:c.jsx("img",{src:i,alt:"active photo"})}),c.jsx("div",{className:ce.chatPopupMediaContent,children:n?c.jsx("div",{className:ce.center,children:c.jsx("p",{children:"Загружаем..."})}):t.length?t==null?void 0:t.map(a=>{var l;return c.jsx("div",{children:(l=a.attach)==null?void 0:l.map(u=>c.jsx("img",{src:u,alt:u,onClick:()=>s(u)},u))},a.messageId)}):c.jsxs("div",{className:ce.center,children:[c.jsx(Om,{className:"theme-fill"}),c.jsx("p",{children:"Нет медиа"})]})}),c.jsx("div",{className:ce.chatPopupButtons,children:c.jsx(B,{onClick:()=>xe(null),children:c.jsx("p",{children:"Отмена"})})})]})},Za=(t,e)=>{const n=g.useRef();g.useEffect(()=>{n.current=e},[e]),g.useEffect(()=>{const r=i=>{t.current&&!t.current.contains(i.target)&&n.current()};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[t])},l6=t=>g.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M21 21L15 15M3 10C3 10.9193 3.18106 11.8295 3.53284 12.6788C3.88463 13.5281 4.40024 14.2997 5.05025 14.9497C5.70026 15.5998 6.47194 16.1154 7.32122 16.4672C8.1705 16.8189 9.08075 17 10 17C10.9193 17 11.8295 16.8189 12.6788 16.4672C13.5281 16.1154 14.2997 15.5998 14.9497 14.9497C15.5998 14.2997 16.1154 13.5281 16.4672 12.6788C16.8189 11.8295 17 10.9193 17 10C17 9.08075 16.8189 8.1705 16.4672 7.32122C16.1154 6.47194 15.5998 5.70026 14.9497 5.05025C14.2997 4.40024 13.5281 3.88463 12.6788 3.53284C11.8295 3.18106 10.9193 3 10 3C9.08075 3 8.1705 3.18106 7.32122 3.53284C6.47194 3.88463 5.70026 4.40024 5.05025 5.05025C4.40024 5.70026 3.88463 6.47194 3.53284 7.32122C3.18106 8.1705 3 9.08075 3 10Z",stroke:"#A7ACB4",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),u6=t=>g.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M9 5H7C6.46957 5 5.96086 5.21071 5.58579 5.58579C5.21071 5.96086 5 6.46957 5 7V19C5 19.5304 5.21071 20.0391 5.58579 20.4142C5.96086 20.7893 6.46957 21 7 21H17C17.5304 21 18.0391 20.7893 18.4142 20.4142C18.7893 20.0391 19 19.5304 19 19V7C19 6.46957 18.7893 5.96086 18.4142 5.58579C18.0391 5.21071 17.5304 5 17 5H15M9 5C9 4.46957 9.21071 3.96086 9.58579 3.58579C9.96086 3.21071 10.4696 3 11 3H13C13.5304 3 14.0391 3.21071 14.4142 3.58579C14.7893 3.96086 15 4.46957 15 5M9 5C9 5.53043 9.21071 6.03914 9.58579 6.41421C9.96086 6.78929 10.4696 7 11 7H13C13.5304 7 14.0391 6.78929 14.4142 6.41421C14.7893 6.03914 15 5.53043 15 5M9 12H15M9 16H15",stroke:"#A7ACB4",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),c6=t=>g.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M11 12C11 12.2652 11.1054 12.5196 11.2929 12.7071C11.4804 12.8946 11.7348 13 12 13C12.2652 13 12.5196 12.8946 12.7071 12.7071C12.8946 12.5196 13 12.2652 13 12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12ZM11 19C11 19.2652 11.1054 19.5196 11.2929 19.7071C11.4804 19.8946 11.7348 20 12 20C12.2652 20 12.5196 19.8946 12.7071 19.7071C12.8946 19.5196 13 19.2652 13 19C13 18.7348 12.8946 18.4804 12.7071 18.2929C12.5196 18.1054 12.2652 18 12 18C11.7348 18 11.4804 18.1054 11.2929 18.2929C11.1054 18.4804 11 18.7348 11 19ZM11 5C11 5.26522 11.1054 5.51957 11.2929 5.70711C11.4804 5.89464 11.7348 6 12 6C12.2652 6 12.5196 5.89464 12.7071 5.70711C12.8946 5.51957 13 5.26522 13 5C13 4.73478 12.8946 4.48043 12.7071 4.29289C12.5196 4.10536 12.2652 4 12 4C11.7348 4 11.4804 4.10536 11.2929 4.29289C11.1054 4.48043 11 4.73478 11 5Z",stroke:"#A7ACB4",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),d6=t=>g.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M9 15H6C5.20435 15 4.44129 14.6839 3.87868 14.1213C3.31607 13.5587 3 12.7956 3 12V6C3 5.20435 3.31607 4.44129 3.87868 3.87868C4.44129 3.31607 5.20435 3 6 3H12C12.7956 3 13.5587 3.31607 14.1213 3.87868C14.6839 4.44129 15 5.20435 15 6V9",stroke:"#0969DA",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3 12L5.296 9.70404C5.74795 9.25215 6.36089 8.99829 7 8.99829C7.63911 8.99829 8.25205 9.25215 8.704 9.70404L9 10M9 12C9 11.2044 9.31607 10.4413 9.87868 9.87872C10.4413 9.31611 11.2044 9.00004 12 9.00004H18C18.7956 9.00004 19.5587 9.31611 20.1213 9.87872C20.6839 10.4413 21 11.2044 21 12V18C21 18.7957 20.6839 19.5587 20.1213 20.1214C19.5587 20.684 18.7956 21 18 21H12C11.2044 21 10.4413 20.684 9.87868 20.1214C9.31607 19.5587 9 18.7957 9 18V12Z",stroke:"#0969DA",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7 6V6.01M14 13.5V16.5L16.5 15L14 13.5Z",stroke:"#0969DA",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),h6=t=>g.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M15 4.5L11 8.5L7 10L5.5 11.5L12.5 18.5L14 17L15.5 13L19.5 9M9 15L4.5 19.5M14.5 4L20 9.5",stroke:"#0969DA",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),f6=t=>g.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M19.0008 19.9998H8.50079L4.29079 15.6998C4.10454 15.5125 4 15.259 4 14.9948C4 14.7306 4.10454 14.4772 4.29079 14.2898L14.2908 4.28982C14.4782 4.10357 14.7316 3.99902 14.9958 3.99902C15.26 3.99902 15.5134 4.10357 15.7008 4.28982L20.7008 9.28982C20.887 9.47718 20.9916 9.73063 20.9916 9.99482C20.9916 10.259 20.887 10.5125 20.7008 10.6998L11.5008 19.9998M18.0008 13.2998L11.7008 6.99982",stroke:"#0969DA",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),p6=t=>g.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M4 7H20M10 11V17M14 11V17M5 7L6 19C6 19.5304 6.21071 20.0391 6.58579 20.4142C6.96086 20.7893 7.46957 21 8 21H16C16.5304 21 17.0391 20.7893 17.4142 20.4142C17.7893 20.0391 18 19.5304 18 19L19 7M9 7V4C9 3.73478 9.10536 3.48043 9.29289 3.29289C9.48043 3.10536 9.73478 3 10 3H14C14.2652 3 14.5196 3.10536 14.7071 3.29289C14.8946 3.48043 15 3.73478 15 4V7",stroke:"#D83030",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),m6="_note_1uwh7_1",g6="_noteTextarea_1uwh7_20",Gf={note:m6,noteTextarea:g6},v6=({setIsNotePopup:t,setIsControlPopup:e})=>{const n=J(Dd),r=J(xt),[i,s]=g.useState((r==null?void 0:r.note)&&(r==null?void 0:r.note[n==null?void 0:n.uid])||""),o=g.useRef(null);Za(o,()=>t(!1));const a=async()=>{await Se("http://localhost:5000/api/chats/manage-chat",{method:"POST",body:JSON.stringify({node:{note:{[n==null?void 0:n.uid]:i}},chatId:r==null?void 0:r.id,token:H("token")})}),t(!1)};return c.jsx(kn,{onClick:()=>e(!1),extraClass:Gf.note,ref:o,children:c.jsxs("div",{children:[c.jsx("h3",{children:"Создание заметки"}),c.jsx(rm,{extraClass:Gf.noteTextarea,placeholder:`Заметка будет видна только вам 
(100 символов)`,onChange:l=>s(l.target.value),maxLength:100,value:i}),c.jsxs("div",{children:[c.jsx(B,{isGrey:!0,onClick:()=>t(!1),children:"Отмена"}),c.jsx(B,{isBlue:!0,onClick:a,children:"Сохранить"})]})]})})},y6=({onlineUsers:t})=>{const[e,n]=g.useState(!1),[r,i]=g.useState(!1),s=J(Ga),o=J(xt),a=g.useRef(null),l=[{id:1,content:o!=null&&o.isPinned?"Открепить":"Закрепить",onClick:async()=>{await Se("http://localhost:5000/api/chats/manage-chat",{method:"POST",body:JSON.stringify({node:{isPinned:!(o!=null&&o.isPinned)},chatId:o==null?void 0:o.id,token:H("token")})}),await ai(),n(!1)},icon:h6},{id:2,content:"Вложения",onClick:()=>xe("media"),icon:d6},{id:3,content:"Очистить переписку",onClick:()=>xe("clear"),icon:f6},{id:4,content:"Удалить чат",onClick:()=>xe("delete"),icon:p6}];return Za(a,()=>n(!1)),s&&c.jsxs("header",{className:le.chatFrameHeader,children:[c.jsxs("div",{className:le.chatFrameHeaderInfo,children:[c.jsx(si,{isActive:t.includes(s.uid),src:s.avatar}),c.jsxs("div",{children:[c.jsx("h6",{children:s.login}),s.uid&&t.includes(s.uid)?c.jsx("p",{className:le.chatFrameHeaderInfoOnline,children:"Онлайн"}):c.jsx("p",{children:C4(s.lastLoginAt)})]})]}),c.jsxs("div",{className:le.chatFrameHeaderOptions,children:[c.jsx(B,{children:c.jsx(l6,{className:"blue-stroke-hover"})}),c.jsx(B,{onClick:()=>i(u=>!u),children:c.jsx(u6,{className:"blue-stroke-hover"})}),c.jsx(B,{onClick:()=>n(u=>!u),children:c.jsx(c6,{className:"blue-stroke-hover"})}),e&&c.jsx(kn,{onClick:()=>n(!1),extraClass:le.chatFrameHeaderOptionsPopup,ref:a,children:c.jsx(im,{items:l})}),r&&c.jsx(v6,{setIsControlPopup:n,setIsNotePopup:i})]})]})},$m=()=>{const[t,e]=g.useState(window.innerWidth);return g.useEffect(()=>{const n=()=>{e(window.innerWidth)};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),t},w6=t=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",...t},g.createElement("path",{d:"M7 12H6.606C6.21094 11.9999 5.82469 12.1168 5.496 12.336L3 14V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H12C12.5304 3 13.0391 3.21071 13.4142 3.58579C13.7893 3.96086 14 4.46957 14 5V7",stroke:"#A7ACB4",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M19 10H12C11.4696 10 10.9609 10.2107 10.5858 10.5858C10.2107 10.9609 10 11.4696 10 12V17C10 17.5304 10.2107 18.0391 10.5858 18.4142C10.9609 18.7893 11.4696 19 12 19H17.394C17.7891 18.9999 18.1753 19.1168 18.504 19.336L21 21V12C21 11.4696 20.7893 10.9609 20.4142 10.5858C20.0391 10.2107 19.5304 10 19 10Z",stroke:"#A7ACB4",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),_6=()=>{const t=J(li),e=Kt(),n=location.pathname==="/",i=(Array.isArray(t)?t:[]).reduce((s,o)=>{var a;return(e==null?void 0:e.uid)!==((a=o.messages[o.messages.length-1])==null?void 0:a.senderId)&&o.unread&&(s+=1),s},0);return c.jsx(H3,{count:i,children:c.jsx(w6,{className:G(n&&"blue-stroke","blue-stroke-hover")})})},C6="_chatMessage_zeq6g_1",S6="_chatMessageText_zeq6g_6",k6="_chatMessageDate_zeq6g_10",E6="_chatMessageMedia_zeq6g_22",x6="_chatMessageMediaPopup_zeq6g_28",I6="_mediaBox_zeq6g_37",T6="_mediaBoxImg_zeq6g_37",L6="_mediaBoxOne_zeq6g_41",P6="_mediaBoxTwo_zeq6g_45",N6="_mediaBoxThree_zeq6g_53",O6="_mediaBoxFour_zeq6g_72",A6="_mediaBoxFive_zeq6g_82",R6="_chatMessageInner_zeq6g_103",b6="_chatMessageDateMedia_zeq6g_128",ye={chatMessage:C6,chatMessageText:S6,chatMessageDate:k6,chatMessageMedia:E6,chatMessageMediaPopup:x6,mediaBox:I6,mediaBoxImg:T6,mediaBoxOne:L6,mediaBoxTwo:P6,mediaBoxThree:N6,mediaBoxFour:O6,mediaBoxFive:A6,chatMessageInner:R6,chatMessageDateMedia:b6},M6="_message_hthrw_1",j6="_messageOpponent_hthrw_11",D6="_messageSmall_hthrw_18",F6="_messageMedium_hthrw_22",$6="_messageLarge_hthrw_26",xi={message:M6,messageOpponent:j6,messageSmall:D6,messageMedium:F6,messageLarge:$6},dc=({children:t,extraClass:e,isOpponent:n,padding:r="large",...i})=>{const s=r==="small",o=r==="medium",a=r==="large";return c.jsx("div",{className:G(xi.message,n&&xi.messageOpponent,s&&xi.messageSmall,o&&xi.messageMedium,a&&xi.messageLarge,e),...i,children:t})},B6=({message:t,...e})=>{var o,a;const n=Kt(),[r,i]=g.useState(null),s=(o=t.attach)==null?void 0:o.length;return t.type==="text"?c.jsxs(dc,{isOpponent:t.senderId!==(n==null?void 0:n.uid),extraClass:ye.chatMessage,...e,children:[c.jsx("p",{className:ye.chatMessageText,children:t.content}),c.jsxs("div",{className:ye.chatMessageDate,children:[c.jsx("p",{children:Eo(t.createdAt)}),t.status==="send"&&c.jsx(So,{})||c.jsx(ko,{})]})]}):t.type==="media"?c.jsxs(dc,{isOpponent:t.senderId!==(n==null?void 0:n.uid),extraClass:ye.chatMessageMedia,padding:"small",...e,children:[r&&c.jsx(kn,{onClick:()=>i(null),extraClass:ye.chatMessageMediaPopup,isCentered:!0,withShadow:!0,children:c.jsx("img",{src:r,alt:"active photo"})}),c.jsx("div",{className:G(ye.mediaBox,s===1&&ye.mediaBoxOne,s===2&&ye.mediaBoxTwo,s===3&&ye.mediaBoxThree,s===4&&ye.mediaBoxFour,s===5&&ye.mediaBoxFive),children:t.type==="media"&&((a=t.attach)==null?void 0:a.map(l=>c.jsx("div",{onClick:()=>i(l),children:c.jsx("img",{className:ye.mediaBoxImg,src:l,alt:l})},l)))}),t.content?c.jsxs("div",{className:ye.chatMessageInner,children:[c.jsx("p",{className:ye.chatMessageText,children:t.content}),c.jsxs("div",{className:ye.chatMessageDate,children:[c.jsx("p",{children:Eo(t.createdAt)}),t.status==="send"&&c.jsx(So,{})||c.jsx(ko,{})]})]}):c.jsxs("div",{className:ye.chatMessageDateMedia,children:[c.jsx("p",{children:Eo(t.createdAt)}),t.status==="send"&&c.jsx(So,{})||c.jsx(ko,{})]})]}):null},U6="_settings_x53qh_1",z6="_settingsButtons_x53qh_9",V6="_settingsAvatar_x53qh_23",H6="_settingsAvatarCustom_x53qh_36",W6="_settingsError_x53qh_42",q6="_settingsRow_x53qh_55",K6="_settingsCol_x53qh_65",rt={settings:U6,settingsButtons:z6,settingsAvatar:V6,settingsAvatarCustom:H6,settingsError:W6,settingsRow:q6,settingsCol:K6},Qf=t=>g.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M17.5 9.16667V6.66667C17.5 6.22464 17.3244 5.80072 17.0118 5.48816C16.6993 5.17559 16.2754 5 15.8333 5H10.8333M10.8333 5L13.3333 7.5M10.8333 5L13.3333 2.5M2.5 10.8333V13.3333C2.5 13.7754 2.67559 14.1993 2.98816 14.5118C3.30072 14.8244 3.72464 15 4.16667 15H9.16667M9.16667 15L6.66667 12.5M9.16667 15L6.66667 17.5M2.5 3.33333C2.5 3.11232 2.5878 2.90036 2.74408 2.74408C2.90036 2.5878 3.11232 2.5 3.33333 2.5H6.66667C6.88768 2.5 7.09964 2.5878 7.25592 2.74408C7.4122 2.90036 7.5 3.11232 7.5 3.33333V6.66667C7.5 6.88768 7.4122 7.09964 7.25592 7.25592C7.09964 7.4122 6.88768 7.5 6.66667 7.5H3.33333C3.11232 7.5 2.90036 7.4122 2.74408 7.25592C2.5878 7.09964 2.5 6.88768 2.5 6.66667V3.33333ZM12.5 13.3333C12.5 13.1123 12.5878 12.9004 12.7441 12.7441C12.9004 12.5878 13.1123 12.5 13.3333 12.5H16.6667C16.8877 12.5 17.0996 12.5878 17.2559 12.7441C17.4122 12.9004 17.5 13.1123 17.5 13.3333V16.6667C17.5 16.8877 17.4122 17.0996 17.2559 17.2559C17.0996 17.4122 16.8877 17.5 16.6667 17.5H13.3333C13.1123 17.5 12.9004 17.4122 12.7441 17.2559C12.5878 17.0996 12.5 16.8877 12.5 16.6667V13.3333Z",stroke:"#A7ACB4",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),G6=({imageUrl:t,handleTriggerInput:e,error:n})=>{const r=Kt();return c.jsxs("div",{children:[r!=null&&r.avatar?c.jsxs("div",{className:rt.settingsAvatar,children:[c.jsx("img",{src:t||r.avatar,alt:"avatar",className:rt.settingsAvatarCustom}),c.jsx(B,{onClick:e,type:"button",children:c.jsx(Qf,{className:"blue-stroke"})})]}):c.jsxs("div",{className:rt.settingsAvatar,children:[t?c.jsx("img",{src:t,alt:"avatar",className:rt.settingsAvatarCustom}):c.jsx(si,{size:[150,150]}),c.jsx(B,{onClick:e,type:"button",children:c.jsx(Qf,{className:"blue-stroke"})})]}),n&&c.jsx("div",{className:rt.settingsError,children:c.jsx("p",{children:n})})]})},Q6="_attach_1xrib_1",J6="_media_1xrib_4",Z6="_mediaItem_1xrib_8",Y6="_mediaItemImg_1xrib_14",X6="_mediaItemHovered_1xrib_20",ur={attach:Q6,media:J6,mediaItem:Z6,mediaItemImg:Y6,mediaItemHovered:X6},e_=({mediaInputRef:t,fileInputRef:e})=>{const n=J(Fm),[r,i]=g.useState(1),s=a=>{const l=a.target.files;if(l&&l.length>0){const h=5-(n!=null&&n.data?n.data.length:0),p=Array.from(l).slice(0,h).filter(_=>_.size<30*1024*1024);ha(n!=null&&n.data?[...n.data,...p]:p)}else Qa(null)};function o(a){if(n!=null&&n.data){const l=[...n==null?void 0:n.data];l.splice(a,1),ha(l),i(null)}}return c.jsxs("div",{className:ur.attach,children:[c.jsx("input",{hidden:!0,ref:t,type:"file",onChange:s}),c.jsx("input",{hidden:!0,ref:e,type:"file",onChange:s}),(n==null?void 0:n.type)==="media"&&n.data.length?c.jsx("div",{className:ur.media,children:n.data.map((a,l)=>c.jsxs("div",{className:ur.mediaItem,onMouseEnter:()=>i(l),onMouseLeave:()=>i(null),children:[c.jsx("img",{className:ur.mediaItemImg,src:URL.createObjectURL(a),alt:"file"}),l===r&&c.jsx(B,{extraClass:ur.mediaItemHovered,onClick:()=>o(l),children:c.jsx(Ja,{className:"blue-stroke-hover"})})]},l))}):null,(n==null?void 0:n.type)==="file"&&n.data.length?c.jsx("div",{className:ur.media,children:n.data.map(a=>c.jsx("img",{src:URL.createObjectURL(a),alt:"file"}))}):null]})},so=({onlineUsers:t,typingUsers:e})=>{const n=J(L5),r=J(Ga),i=J(xt),s=J(Fm),o=g.useRef(null),[a,l]=g.useState(!1),u=g.useContext(qt),d=g.useRef(null),h=E4((i==null?void 0:i.messages)||[]),[p,_]=g.useState(""),[y,w]=g.useState(p),[S,m]=g.useState(50),f=g.useRef(null),v=g.useRef(null),C=s==null?void 0:s.data.length,E=$m(),I=[{id:1,content:"Фото или видео",onClick:()=>{var N;Qa("media"),f.current&&(f.current.accept="image/*,video/*",f.current.multiple=!0,(N=f.current)==null||N.click())},icon:G5},{id:2,content:"Файл",onClick:()=>{},icon:Q5}],k=async()=>{!p.trim().length&&!C||(_(""),m(50),u==null||u.emit("stop-typing-chat",{token:H("token"),chatId:i==null?void 0:i.id}),u==null||u.emit("create-message",{message:p,chatId:i==null?void 0:i.id,token:H("token"),...s!=null&&s.data.length?{attach:s}:null}))},T=async N=>{N.key==="Enter"&&!N.shiftKey?(N.preventDefault(),await k()):N.key==="Enter"&&N.shiftKey&&m(S+14)};g.useEffect(()=>{p||m(50),p.length>145&&m(S+14*(p.length/70)),y.length>p.length&&(y.split(p)[1]===`
`&&m(S-14),w(p))},[p]),g.useEffect(()=>{const N=d.current;N&&(N.scrollTop=N.scrollHeight)},[i]);const A=N=>{_(N.target.value),N.target.value?u==null||u.emit("typing-chat",{token:H("token"),chatId:i==null?void 0:i.id}):u==null||u.emit("stop-typing-chat",{token:H("token"),chatId:i==null?void 0:i.id})};return Za(o,()=>l(!1)),c.jsx("div",{className:le.chatFrame,children:r?c.jsxs(c.Fragment,{children:[n==="delete"&&c.jsx(s6,{}),n==="clear"&&c.jsx(o6,{}),n==="media"&&c.jsx(a6,{}),c.jsx(y6,{onlineUsers:t}),c.jsx("div",{className:G(le.chatFrameBody,"scroll"),ref:d,children:h.map((N,D)=>c.jsxs(g.Fragment,{children:[c.jsx(nm,{text:S4(N.day)}),c.jsxs("div",{className:le.chatFrameBodyMessages,children:[N==null?void 0:N.messages.map(me=>c.jsx(B6,{message:me},me.messageId)),e.includes(i==null?void 0:i.id)&&c.jsxs(dc,{isOpponent:!0,extraClass:le.chatFrameBodyTyping,children:[c.jsx("p",{children:"Печатает"}),c.jsxs("span",{className:le.chatFrameBodyTypingDots,children:[c.jsx("span",{}),c.jsx("span",{}),c.jsx("span",{})]})]})]})]},D))}),c.jsxs("div",{className:le.chatFrameControlWrapper,children:[c.jsxs("div",{className:G(le.chatFrameControl,C&&le.chatFrameControlNoPaddings),children:[c.jsx(B,{onClick:()=>l(N=>!N),children:c.jsx(K5,{})}),c.jsx(rm,{extraClass:le.chatFrameControlInput,placeholder:E<=500?"Написать...":"Написать сообщение...",value:p,onChange:A,style:{height:`${S}px`,maxHeight:"100px"},onKeyDown:T}),p||C?c.jsx(B,{onClick:k,children:c.jsx(Kf,{})}):null,a&&c.jsx(kn,{onClick:()=>l(!1),ref:o,extraClass:G(le.chatFrameAttachPopup,(s==null?void 0:s.type)==="media"&&C&&le.chatFrameAttachPopupMedia,(s==null?void 0:s.type)==="file"&&C&&le.chatFrameAttachPopupFile),children:c.jsx(im,{items:I})})]}),s&&c.jsx(e_,{mediaInputRef:f,fileInputRef:v})]})]}):c.jsxs("div",{className:le.chatFrameSelect,children:[c.jsx("div",{children:c.jsx(Kf,{})}),c.jsx("p",{children:"Выберите, кому хотите написать"})]})})},t_="_chatSidebar_14vdl_1",n_="_chatSidebarSwitch_14vdl_18",r_="_chatSidebarSwitchActive_14vdl_23",i_="_chatSidebarContent_14vdl_26",s_="_chatListItem_14vdl_31",o_="_chatListItemActive_14vdl_37",a_="_chatListItemPinned_14vdl_40",Un={chatSidebar:t_,chatSidebarSwitch:n_,chatSidebarSwitchActive:r_,chatSidebarContent:i_,chatListItem:s_,chatListItemActive:o_,chatListItemPinned:a_},l_=t=>g.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{d:"M9 6L15 12L9 18",stroke:"#A7ACB4",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),u_=({onlineUsers:t,chat:e,setIsChatList:n})=>{const r=Kt(),i=g.useContext(qt),s=J(xt),[o,a]=g.useState(null),l=u=>{i==null||i.emit("select-chat",{token:H("token"),chatId:u.id})};return g.useEffect(()=>{(async()=>{const{data:d}=await Se("http://localhost:5000/api/users/get-user",{method:"POST",body:JSON.stringify({id:e.opponentId===(r==null?void 0:r.uid)?e.creatorId:e.opponentId,token:H("token")})});a(d)})()},[]),c.jsx(Co,{className:G(Un.chatListItem,(s==null?void 0:s.id)===e.id&&Un.chatListItemActive,e.isPinned&&Un.chatListItemPinned),to:`/?chat=${e.id}`,onClick:()=>{l(e),n(!1),ks("")},children:c.jsx(si,{size:[40,40],src:o==null?void 0:o.avatar,isActive:t.includes(e.creatorId===(r==null?void 0:r.uid)?e.opponentId:e.creatorId)})},e.id)},c_=({onlineUsers:t,isChatList:e,setIsChatList:n})=>{const r=J(li);return c.jsxs("aside",{className:Un.chatSidebar,children:[c.jsx(B,{className:G(Un.chatSidebarSwitch,e&&Un.chatSidebarSwitchActive),onClick:()=>n(i=>!i),children:c.jsx(l_,{className:"blue-stroke-hover"})}),c.jsx("span",{}),c.jsx("div",{className:Un.chatSidebarContent,children:r.sort((i,s)=>i.isPinned&&!s.isPinned?-1:!i.isPinned&&s.isPinned?1:0).map(i=>c.jsx(u_,{chat:i,onlineUsers:t,setIsChatList:n},i.id))})]})};function Jt(t,e){const n=g.useContext(qt);g.useEffect(()=>(n==null||n.on(t,r=>e(r)),()=>{n==null||n.off(t,r=>e(r))}),[n])}const d_=()=>{const[t]=X0(),e=ir(),n=t.get("chat"),r=g.useRef(n),i=g.useContext(qt),s=g.useRef([]),[o,a]=g.useState([]),[l,u]=g.useState(!1),d=g.useRef(null),h=Kt(),p=$m(),_=p<=1e3&&p>500,y=p<=500;n&&da(n),g.useEffect(()=>{n&&u(!1),r.current=n},[n]);async function w(){await ai()}const S=f=>{s.current=[...s.current,f]},m=f=>{f.message&&(jm(f),r.current===f.chatId&&(h==null?void 0:h.uid)!==f.message.senderId&&(i==null||i.emit("select-chat",{token:H("token"),chatId:n})))};return Jt("incoming-message",async f=>{m(f),await w()}),Jt("profile-owner-connect",({uid:f})=>{S(f)}),Jt("profile-owner-disconnect",({uid:f})=>{s.current=s.current.filter(v=>v!==f)}),Jt("chat-selected",w),Jt("chat-cleared",w),Jt("chat-deleted",async()=>{e("/"),da(null),await w()}),Jt("chat-typing-receive",f=>{a(v=>[...v,f.chatId])}),Jt("chat-typing-stop",f=>{a(v=>v.filter(C=>C!==f.chatId))}),Za(d,()=>u(!1)),c.jsxs("div",{className:Sf.chat,children:[(_||y)&&c.jsx(c_,{onlineUsers:s.current,setIsChatList:u,isChatList:l}),_?l&&c.jsxs("div",{className:Sf.chatGroup,children:[c.jsx(so,{onlineUsers:s.current,typingUsers:o}),c.jsx(Wl,{onlineUsers:s.current,typingUsers:o})]})||c.jsx(so,{onlineUsers:s.current,typingUsers:o}):y?l&&c.jsx(Wl,{onlineUsers:s.current,typingUsers:o})||c.jsx(so,{onlineUsers:s.current,typingUsers:o}):c.jsxs(c.Fragment,{children:[c.jsx(Wl,{onlineUsers:s.current,typingUsers:o}),c.jsx(so,{onlineUsers:s.current,typingUsers:o})]})]})},h_=()=>c.jsx(d_,{});function or(t){this._maxSize=t,this.clear()}or.prototype.clear=function(){this._size=0,this._values=Object.create(null)};or.prototype.get=function(t){return this._values[t]};or.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var f_=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Bm=/^\d+$/,p_=/^\d/,m_=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,g_=/^\s*(['"]?)(.*?)(\1)\s*$/,$d=512,Jf=new or($d),Zf=new or($d),Yf=new or($d),Kn={Cache:or,split:hc,normalizePath:ql,setter:function(t){var e=ql(t);return Zf.get(t)||Zf.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=ql(t);return Yf.get(t)||Yf.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(Bd(n)||Bm.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){v_(Array.isArray(t)?t:hc(t),e,n)}};function ql(t){return Jf.get(t)||Jf.set(t,hc(t).map(function(e){return e.replace(g_,"$2")}))}function hc(t){return t.match(f_)||[""]}function v_(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(__(i)&&(i='"'+i+'"'),a=Bd(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function Bd(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function y_(t){return t.match(p_)&&!t.match(Bm)}function w_(t){return m_.test(t)}function __(t){return!Bd(t)&&(y_(t)||w_(t))}const C_=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Ya=t=>t.match(C_)||[],Xa=t=>t[0].toUpperCase()+t.slice(1),Ud=(t,e)=>Ya(t).join(e).toLowerCase(),Um=t=>Ya(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),S_=t=>Xa(Um(t)),k_=t=>Ud(t,"_"),E_=t=>Ud(t,"-"),x_=t=>Xa(Ud(t," ")),I_=t=>Ya(t).map(Xa).join(" ");var Kl={words:Ya,upperFirst:Xa,camelCase:Um,pascalCase:S_,snakeCase:k_,kebabCase:E_,sentenceCase:x_,titleCase:I_},zd={exports:{}};zd.exports=function(t){return zm(T_(t),t)};zd.exports.array=zm;function zm(t,e){var n=t.length,r=new Array(n),i={},s=n,o=L_(e),a=P_(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(u,d,h){if(h.has(u)){var p;try{p=", node was:"+JSON.stringify(u)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[d]){i[d]=!0;var _=o.get(u)||new Set;if(_=Array.from(_),d=_.length){h.add(u);do{var y=_[--d];l(y,a.get(y),h)}while(d);h.delete(u)}r[--n]=u}}}function T_(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function L_(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function P_(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var N_=zd.exports;const O_=xc(N_),A_=Object.prototype.toString,R_=Error.prototype.toString,b_=RegExp.prototype.toString,M_=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",j_=/^Symbol\((.*)\)(.*)$/;function D_(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function Xf(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return D_(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return M_.call(t).replace(j_,"Symbol($1)");const r=A_.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+R_.call(t)+"]":r==="RegExp"?b_.call(t):null}function yn(t,e){let n=Xf(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=Xf(this[r],e);return s!==null?s:i},2)}function Vm(t){return t==null?[]:[].concat(t)}let Hm,Wm,qm,F_=/\$\{\s*(\w+)\s*\}/g;Hm=Symbol.toStringTag;class ep{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Hm]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],Vm(e).forEach(s=>{if(_e.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Wm=Symbol.hasInstance;qm=Symbol.toStringTag;class _e extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(F_,(i,s)=>yn(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const o=new ep(e,n,r,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[qm]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,_e)}static[Wm](e){return ep[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let ft={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${yn(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${yn(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${yn(n,!0)}\``+i}},Pe={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},$_={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},fc={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},B_={isValue:"${path} field must be ${value}"},pc={noUnknown:"${path} field has unspecified keys: ${unknown}"},U_={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},z_={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${yn(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${yn(n,!0)}\``}return _e.formatError(ft.notType,t)}};Object.assign(Object.create(null),{mixed:ft,string:Pe,number:$_,date:fc,object:pc,array:U_,boolean:B_,tuple:z_});const Vd=t=>t&&t.__isYupSchema__;class fa{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new fa(e,(a,l)=>{var u;let d=o(...a)?i:s;return(u=d==null?void 0:d(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!Vd(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const oo={context:"$",value:"."};class ar{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===oo.context,this.isValue=this.key[0]===oo.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?oo.context:this.isValue?oo.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Kn.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ar.prototype.__isYupRef=!0;const zn=t=>t==null;function cr(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:u,test:d,params:h,message:p,skipAbsent:_}=t;let{parent:y,context:w,abortEarly:S=o.spec.abortEarly,disableStackTrace:m=o.spec.disableStackTrace}=i;function f(D){return ar.isRef(D)?D.getValue(n,y,w):D}function v(D={}){const me=Object.assign({value:n,originalValue:s,label:o.spec.label,path:D.path||r,spec:o.spec,disableStackTrace:D.disableStackTrace||m},h,D.params);for(const di of Object.keys(me))me[di]=f(me[di]);const Gt=new _e(_e.formatError(D.message||p,me),n,me.path,D.type||u,me.disableStackTrace);return Gt.params=me,Gt}const C=S?a:l;let E={path:r,parent:y,type:u,from:i.from,createError:v,resolve:f,options:i,originalValue:s,schema:o};const I=D=>{_e.isError(D)?C(D):D?l(null):C(v())},k=D=>{_e.isError(D)?C(D):a(D)};if(_&&zn(n))return I(!0);let A;try{var N;if(A=d.call(E,n,E),typeof((N=A)==null?void 0:N.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${E.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(A).then(I,k)}}catch(D){k(D);return}I(A)}return e.OPTIONS=t,e}function V_(t,e,n,r=n){let i,s,o;return e?(Kn.forEach(e,(a,l,u)=>{let d=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let h=t.type==="tuple",p=u?parseInt(d,10):0;if(t.innerType||h){if(h&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[p],t=h?t.spec.types[p]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[d],t=t.fields[d]}s=d,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class pa extends Set{describe(){const e=[];for(const n of this.values())e.push(ar.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new pa(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Tr(t,e=new Map){if(Vd(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Tr(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,Tr(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Tr(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=Tr(i,e)}else throw Error(`Unable to clone ${t}`);return n}class kt{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new pa,this._blacklist=new pa,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ft.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Tr(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&zn(s))return s;let o=yn(e),a=yn(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},r,d=>{if(d.length)return i(d,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=e,d=w=>{i||(i=!0,n(w,o))},h=w=>{i||(i=!0,r(w,o))},p=s.length,_=[];if(!p)return h([]);let y={value:o,originalValue:a,path:l,options:u,schema:this};for(let w=0;w<s.length;w++){const S=s[w];S(y,d,function(f){f&&(Array.isArray(f)?_.push(...f):_.push(f)),--p<=0&&h(_)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const d=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(h,p,_)=>this.resolve(d)._validate(u,d,p,_)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,u)=>{_e.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new _e(l,u,void 0,void 0,s)):o(u)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw _e.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new _e(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(_e.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(_e.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Tr(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=cr({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=cr({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=ft.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=ft.notNull){return this.nullability(!1,e)}required(e=ft.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=ft.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=cr(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=Vm(e).map(s=>new ar(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new fa(i,n):fa.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=cr({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=ft.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=cr({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=ft.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=cr({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,d)=>d.findIndex(h=>h.name===l.name)===u)}}}kt.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])kt.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=V_(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])kt.prototype[t]=kt.prototype.oneOf;for(const t of["not","nope"])kt.prototype[t]=kt.prototype.notOneOf;const H_=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function W_(t){const e=mc(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function mc(t){var e,n;const r=H_.exec(t);return r?{year:It(r[1]),month:It(r[2],1)-1,day:It(r[3],1),hour:It(r[4]),minute:It(r[5]),second:It(r[6]),millisecond:r[7]?It(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:It(r[10]),minuteOffset:It(r[11])}:null}function It(t,e=0){return Number(t)||e}let q_=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,K_=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,G_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Q_="^\\d{4}-\\d{2}-\\d{2}",J_="\\d{2}:\\d{2}:\\d{2}",Z_="(([+-]\\d{2}(:?\\d{2})?)|Z)",Y_=new RegExp(`${Q_}T${J_}(\\.\\d+)?${Z_}$`),X_=t=>zn(t)||t===t.trim(),e9={}.toString();function Es(){return new Km}class Km extends kt{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===e9?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||ft.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Pe.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Pe.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Pe.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Pe.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Pe.email){return this.matches(q_,{name:"email",message:e,excludeEmptyString:!0})}url(e=Pe.url){return this.matches(K_,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Pe.uuid){return this.matches(G_,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(Y_,{name:"datetime",message:n||Pe.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Pe.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const o=mc(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||Pe.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=mc(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Pe.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:X_})}lowercase(e=Pe.lowercase){return this.transform(n=>zn(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>zn(n)||n===n.toLowerCase()})}uppercase(e=Pe.uppercase){return this.transform(n=>zn(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>zn(n)||n===n.toUpperCase()})}}Es.prototype=Km.prototype;let t9=new Date(""),n9=t=>Object.prototype.toString.call(t)==="[object Date]";class el extends kt{constructor(){super({type:"date",check(e){return n9(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=W_(e),isNaN(e)?el.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(ar.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=fc.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=fc.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}el.INVALID_DATE=t9;el.prototype;function r9(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=Kn.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),ar.isRef(a)&&a.isSibling?s(a.path,o):Vd(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return O_.array(Array.from(r),n).reverse()}function tp(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function Gm(t){return(e,n)=>tp(t,e)-tp(t,n)}const i9=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Oo(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Oo(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Oo(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Oo)}):"optional"in t?t.optional():t}const s9=(t,e)=>{const n=[...Kn.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=Kn.getter(Kn.join(n),!0)(t);return!!(i&&r in i)};let np=t=>Object.prototype.toString.call(t)==="[object Object]";function o9(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const a9=Gm([]);function Hd(t){return new Qm(t)}class Qm extends kt{constructor(e){super({type:"object",check(n){return np(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=a9,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(h=>!this._nodes.includes(h))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),d=!1;for(const h of a){let p=s[h],_=h in i;if(p){let y,w=i[h];u.path=(n.path?`${n.path}.`:"")+h,p=p.resolve({value:w,context:n.context,parent:l});let S=p instanceof kt?p.spec:void 0,m=S==null?void 0:S.strict;if(S!=null&&S.strip){d=d||h in i;continue}y=!n.__validating||!m?p.cast(i[h],u):i[h],y!==void 0&&(l[h]=y)}else _&&!o&&(l[h]=i[h]);(_!==h in l||l[h]!==i[h])&&(d=!0)}return d?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,u)=>{if(!a||!np(u)){i(l,u);return}o=o||u;let d=[];for(let h of this._nodes){let p=this.fields[h];!p||ar.isRef(p)||d.push(p.asNestedTest({options:n,key:h,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:d,value:u,originalValue:o,options:n},r,h=>{i(h.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=r9(e,n),r._sortErrors=Gm(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Oo(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=Kn.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return s9(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(i9)}noUnknown(e=!0,n=pc.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=o9(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=pc.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(Kl.camelCase)}snakeCase(){return this.transformKeys(Kl.snakeCase)}constantCase(){return this.transformKeys(e=>Kl.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}Hd.prototype=Qm.prototype;const l9=Es().required("Email is required").email("Must be the correct email"),Jm=Es().trim().matches(/^[A-Za-z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff]*$/gi,"Login can only contain Latin letters.").min(3).max(16).required("Login is required"),u9=Es().trim().transform(t=>t===""?void 0:t).required("Password is required").matches(/^[A-Za-z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff]*$/gi,"Password can only contain Latin letters.").matches(/^(?=.*[0-9])/,"Password must contain at least one digit").matches(/^(?=.*[a-zA-Z])/,"Password must contain at least one letter").min(6,"Password must be at least 6 characters long").max(16,"Password must be less than 16 characters long"),Gl=function(t){return Es().trim().nullable().matches(/^[A-Za-z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff]*$/gi,`${t} can only contain Latin letters.`).transform((e,n)=>n===""?null:e).min(2,`${t} must be at least 2 characters`).max(16,`${t} must be less than 16 characters`)},c9=async(t,e)=>{t.preventDefault();const n=new FormData(t.currentTarget),r=n.get("login"),i=n.get("lastname"),s=n.get("name"),o=n.get("surname"),a=n.get("avatar"),l=Hd({login:Jm,lastname:Gl("lastname"),name:Gl("name"),surname:Gl("surname")});try{await l.validate({login:r,lastname:i,name:s,surname:o},{abortEarly:!1});const u=!!a&&await Se("http://localhost:5000/api/users/set-avatar",{method:"POST",headers:{Authorization:`Bearer ${H("token")}`},body:n}),d=await Se("http://localhost:5000/api/users/manage-user",{method:"POST",body:JSON.stringify({token:H("token"),node:{login:r,...u.data&&u.success&&{avatar:u.data},fullname:{lastname:i,name:s,surname:o}}})});d.success?e(h=>({...h,login:{text:"",ok:!0},lastname:{text:"",ok:!0},surname:{text:"",ok:!0},name:{text:"",ok:!0}})):e(()=>Object.keys(d.data).reduce((h,p)=>(h[p]=d.data[p],h),{}))}catch(u){if(u instanceof _e)e(d=>{const h={...d};return u.inner.forEach(p=>{h[p.path]={text:p.message,ok:!1}}),Object.keys(h).forEach(p=>{u.inner.some(_=>_.path===p)||(h[p]={text:"",ok:!0})}),h});else throw new Error("unhandled error while validating")}},d9=()=>{var _,y,w;const t=Kt(),[e,n]=g.useState(null),[r,i]=g.useState(!1),[s,o]=g.useState(null),[a,l]=g.useState(null),u=g.useRef(null),d=S=>{var v;const m=(v=S.target.files)==null?void 0:v[0],f=3*1024*1024;if(m&&m.size>f){l("The file size is too large. Select a file less than 3 MB in size.");return}if(m){const C=URL.createObjectURL(m);l(null),o(C)}},h=async S=>{a||(i(!0),await c9(S,n),i(!1))},p=()=>{var S;u.current&&((S=u.current)==null||S.click())};return c.jsxs("form",{className:rt.settings,onSubmit:h,children:[c.jsxs("div",{className:rt.settingsCol,children:[c.jsx("h2",{children:"Вид профиля"}),c.jsx("input",{name:"avatar",type:"file",ref:u,onChange:d,accept:"image/png, image/jpeg, image/gif",hidden:!0})]}),c.jsx(G6,{imageUrl:s,error:a,handleTriggerInput:p}),c.jsxs("div",{className:rt.settingsCol,children:[c.jsx("h2",{children:"Основная информация"}),c.jsxs("div",{className:rt.settingsRow,children:[c.jsx(pt,{name:"lastname",label:"Фамилия",status:e==null?void 0:e.lastname,defaultValue:(_=t==null?void 0:t.fullname)==null?void 0:_.lastname}),c.jsx(pt,{name:"name",label:"Имя",status:e==null?void 0:e.name,defaultValue:(y=t==null?void 0:t.fullname)==null?void 0:y.name}),c.jsx(pt,{name:"surname",label:"Отчество",status:e==null?void 0:e.surname,defaultValue:(w=t==null?void 0:t.fullname)==null?void 0:w.surname})]})]}),c.jsxs("div",{className:rt.settingsRow,children:[c.jsx(pt,{name:"login",label:"Логин",status:e==null?void 0:e.login,defaultValue:t==null?void 0:t.login}),c.jsx(pt,{label:"Почта",value:t==null?void 0:t.email}),c.jsx(pt,{label:"URL",value:"turbo-chat/"+(t==null?void 0:t.login)})]}),c.jsxs("div",{className:rt.settingsButtons,children:[c.jsx(B,{isBlue:!0,children:r?"Сохраняем...":"Сохранить"}),c.jsx(B,{type:"button",onClick:()=>{_4("token"),window.location.reload()},children:"Выйти"})]})]})},h9=()=>c.jsx(d9,{}),f9="_registrationFormWrapper_14t22_1",p9="_registrationForm_14t22_1",m9="_registrationFormButton_14t22_22",g9="_registrationFormSwitch_14t22_25",v9="_registrationFormSwitchActive_14t22_42",y9="_registrationFormProviders_14t22_46",w9="_registrationFormError_14t22_74",Tt={registrationFormWrapper:f9,registrationForm:p9,registrationFormButton:m9,registrationFormSwitch:g9,registrationFormSwitchActive:v9,registrationFormProviders:y9,registrationFormError:w9},Zm=Ve("signup"),gc=Be();Zm.on(gc,(t,e)=>e);const _9=t=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px",...t},g.createElement("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),g.createElement("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),g.createElement("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),g.createElement("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})),C9=t=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px",...t},g.createElement("path",{d:"M17.791,46.836C18.502,46.53,19,45.823,19,45v-5.4c0-0.197,0.016-0.402,0.041-0.61C19.027,38.994,19.014,38.997,19,39 c0,0-3,0-3.6,0c-1.5,0-2.8-0.6-3.4-1.8c-0.7-1.3-1-3.5-2.8-4.7C8.9,32.3,9.1,32,9.7,32c0.6,0.1,1.9,0.9,2.7,2c0.9,1.1,1.8,2,3.4,2 c2.487,0,3.82-0.125,4.622-0.555C21.356,34.056,22.649,33,24,33v-0.025c-5.668-0.182-9.289-2.066-10.975-4.975 c-3.665,0.042-6.856,0.405-8.677,0.707c-0.058-0.327-0.108-0.656-0.151-0.987c1.797-0.296,4.843-0.647,8.345-0.714 c-0.112-0.276-0.209-0.559-0.291-0.849c-3.511-0.178-6.541-0.039-8.187,0.097c-0.02-0.332-0.047-0.663-0.051-0.999 c1.649-0.135,4.597-0.27,8.018-0.111c-0.079-0.5-0.13-1.011-0.13-1.543c0-1.7,0.6-3.5,1.7-5c-0.5-1.7-1.2-5.3,0.2-6.6 c2.7,0,4.6,1.3,5.5,2.1C21,13.4,22.9,13,25,13s4,0.4,5.6,1.1c0.9-0.8,2.8-2.1,5.5-2.1c1.5,1.4,0.7,5,0.2,6.6c1.1,1.5,1.7,3.2,1.6,5 c0,0.484-0.045,0.951-0.11,1.409c3.499-0.172,6.527-0.034,8.204,0.102c-0.002,0.337-0.033,0.666-0.051,0.999 c-1.671-0.138-4.775-0.28-8.359-0.089c-0.089,0.336-0.197,0.663-0.325,0.98c3.546,0.046,6.665,0.389,8.548,0.689 c-0.043,0.332-0.093,0.661-0.151,0.987c-1.912-0.306-5.171-0.664-8.879-0.682C35.112,30.873,31.557,32.75,26,32.969V33 c2.6,0,5,3.9,5,6.6V45c0,0.823,0.498,1.53,1.209,1.836C41.37,43.804,48,35.164,48,25C48,12.318,37.683,2,25,2S2,12.318,2,25 C2,35.164,8.63,43.804,17.791,46.836z"}));var rp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},S9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Xm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,_=u&63;l||(_=64,o||(p=64)),r.push(n[d],n[h],n[p],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ym(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):S9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new k9;const p=s<<2|a>>4;if(r.push(p),u!==64){const _=a<<4&240|u>>2;if(r.push(_),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class k9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E9=function(t){const e=Ym(t);return Xm.encodeByteArray(e,!0)},eg=function(t){return E9(t).replace(/\./g,"")},tg=function(t){try{return Xm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=()=>x9().__FIREBASE_DEFAULTS__,T9=()=>{if(typeof process>"u"||typeof rp>"u")return;const t=rp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},L9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tg(t[1]);return e&&JSON.parse(e)},Wd=()=>{try{return I9()||T9()||L9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},P9=t=>{var e,n;return(n=(e=Wd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ng=()=>{var t;return(t=Wd())===null||t===void 0?void 0:t.config},rg=t=>{var e;return(e=Wd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function A9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function R9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b9(){const t=ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function M9(){try{return typeof indexedDB=="object"}catch{return!1}}function j9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9="FirebaseError";class Nn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=D9,Object.setPrototypeOf(this,Nn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xs.prototype.create)}}class xs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?F9(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Nn(i,a,r)}}function F9(t,e){return t.replace($9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $9=/\{\$([^}]+)}/g;function B9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ma(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ip(s)&&ip(o)){if(!ma(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ip(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function U9(t,e){const n=new z9(t,e);return n.subscribe.bind(n)}class z9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");V9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ql),i.error===void 0&&(i.error=Ql),i.complete===void 0&&(i.complete=Ql);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ql(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t){return t&&t._delegate?t._delegate:t}class Zr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new N9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q9(e))try{this.getOrInitializeService({instanceIdentifier:Dn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Dn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Dn){return this.instances.has(e)}getOptions(e=Dn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:W9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Dn){return this.component?this.component.multipleInstances?e:Dn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function W9(t){return t===Dn?void 0:t}function q9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new H9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(U||(U={}));const G9={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},Q9=U.INFO,J9={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},Z9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=J9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ig{constructor(e){this.name=e,this._logLevel=Q9,this._logHandler=Z9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in U))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...e),this._logHandler(this,U.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...e),this._logHandler(this,U.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,U.INFO,...e),this._logHandler(this,U.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,U.WARN,...e),this._logHandler(this,U.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...e),this._logHandler(this,U.ERROR,...e)}}const Y9=(t,e)=>e.some(n=>t instanceof n);let sp,op;function X9(){return sp||(sp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e8(){return op||(op=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sg=new WeakMap,vc=new WeakMap,og=new WeakMap,Jl=new WeakMap,qd=new WeakMap;function t8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(wn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sg.set(n,t)}).catch(()=>{}),qd.set(e,t),e}function n8(t){if(vc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vc.set(t,e)}let yc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||og.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function r8(t){yc=t(yc)}function i8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zl(this),e,...n);return og.set(r,e.sort?e.sort():[e]),wn(r)}:e8().includes(t)?function(...e){return t.apply(Zl(this),e),wn(sg.get(this))}:function(...e){return wn(t.apply(Zl(this),e))}}function s8(t){return typeof t=="function"?i8(t):(t instanceof IDBTransaction&&n8(t),Y9(t,X9())?new Proxy(t,yc):t)}function wn(t){if(t instanceof IDBRequest)return t8(t);if(Jl.has(t))return Jl.get(t);const e=s8(t);return e!==t&&(Jl.set(t,e),qd.set(e,t)),e}const Zl=t=>qd.get(t);function o8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=wn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(wn(o.result),l.oldVersion,l.newVersion,wn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const a8=["get","getKey","getAll","getAllKeys","count"],l8=["put","add","delete","clear"],Yl=new Map;function ap(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yl.get(e))return Yl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=l8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||a8.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Yl.set(e,s),s}r8(t=>({...t,get:(e,n,r)=>ap(e,n)||t.get(e,n,r),has:(e,n)=>!!ap(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(c8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function c8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wc="@firebase/app",lp="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new ig("@firebase/app"),d8="@firebase/app-compat",h8="@firebase/analytics-compat",f8="@firebase/analytics",p8="@firebase/app-check-compat",m8="@firebase/app-check",g8="@firebase/auth",v8="@firebase/auth-compat",y8="@firebase/database",w8="@firebase/database-compat",_8="@firebase/functions",C8="@firebase/functions-compat",S8="@firebase/installations",k8="@firebase/installations-compat",E8="@firebase/messaging",x8="@firebase/messaging-compat",I8="@firebase/performance",T8="@firebase/performance-compat",L8="@firebase/remote-config",P8="@firebase/remote-config-compat",N8="@firebase/storage",O8="@firebase/storage-compat",A8="@firebase/firestore",R8="@firebase/firestore-compat",b8="firebase",M8="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c="[DEFAULT]",j8={[wc]:"fire-core",[d8]:"fire-core-compat",[f8]:"fire-analytics",[h8]:"fire-analytics-compat",[m8]:"fire-app-check",[p8]:"fire-app-check-compat",[g8]:"fire-auth",[v8]:"fire-auth-compat",[y8]:"fire-rtdb",[w8]:"fire-rtdb-compat",[_8]:"fire-fn",[C8]:"fire-fn-compat",[S8]:"fire-iid",[k8]:"fire-iid-compat",[E8]:"fire-fcm",[x8]:"fire-fcm-compat",[I8]:"fire-perf",[T8]:"fire-perf-compat",[L8]:"fire-rc",[P8]:"fire-rc-compat",[N8]:"fire-gcs",[O8]:"fire-gcs-compat",[A8]:"fire-fst",[R8]:"fire-fst-compat","fire-js":"fire-js",[b8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Map,D8=new Map,Cc=new Map;function up(t,e){try{t.container.addComponent(e)}catch(n){er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hs(t){const e=t.name;if(Cc.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;Cc.set(e,t);for(const n of ga.values())up(n,t);for(const n of D8.values())up(n,t);return!0}function ag(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mt(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_n=new xs("app","Firebase",F8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=M8;function lg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_c,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw _n.create("bad-app-name",{appName:String(i)});if(n||(n=ng()),!n)throw _n.create("no-options");const s=ga.get(i);if(s){if(ma(n,s.options)&&ma(r,s.config))return s;throw _n.create("duplicate-app",{appName:i})}const o=new K9(i);for(const l of Cc.values())o.addComponent(l);const a=new $8(n,r,o);return ga.set(i,a),a}function B8(t=_c){const e=ga.get(t);if(!e&&t===_c&&ng())return lg();if(!e)throw _n.create("no-app",{appName:t});return e}function jr(t,e,n){var r;let i=(r=j8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(a.join(" "));return}hs(new Zr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8="firebase-heartbeat-database",z8=1,fs="firebase-heartbeat-store";let Xl=null;function ug(){return Xl||(Xl=o8(U8,z8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fs)}catch(n){console.warn(n)}}}}).catch(t=>{throw _n.create("idb-open",{originalErrorMessage:t.message})})),Xl}async function V8(t){try{const n=(await ug()).transaction(fs),r=await n.objectStore(fs).get(cg(t));return await n.done,r}catch(e){if(e instanceof Nn)er.warn(e.message);else{const n=_n.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});er.warn(n.message)}}}async function cp(t,e){try{const r=(await ug()).transaction(fs,"readwrite");await r.objectStore(fs).put(e,cg(t)),await r.done}catch(n){if(n instanceof Nn)er.warn(n.message);else{const r=_n.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});er.warn(r.message)}}}function cg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=1024,W8=30*24*60*60*1e3;class q8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new G8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dp();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=W8}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dp(),{heartbeatsToSend:r,unsentEntries:i}=K8(this._heartbeatsCache.heartbeats),s=eg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function dp(){return new Date().toISOString().substring(0,10)}function K8(t,e=H8){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),hp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class G8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return M9()?j9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await V8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hp(t){return eg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(t){hs(new Zr("platform-logger",e=>new u8(e),"PRIVATE")),hs(new Zr("heartbeat",e=>new q8(e),"PRIVATE")),jr(wc,lp,t),jr(wc,lp,"esm2017"),jr("fire-js","")}Q8("");function Kd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function dg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J8=dg,hg=new xs("auth","Firebase",dg());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new ig("@firebase/auth");function Z8(t,...e){va.logLevel<=U.WARN&&va.warn(`Auth (${Ts}): ${t}`,...e)}function Ao(t,...e){va.logLevel<=U.ERROR&&va.error(`Auth (${Ts}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t,...e){throw Qd(t,...e)}function ut(t,...e){return Qd(t,...e)}function Gd(t,e,n){const r=Object.assign(Object.assign({},J8()),{[e]:n});return new xs("auth","Firebase",r).create(e,{appName:t.name})}function Gn(t){return Gd(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Y8(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Et(t,"argument-error"),Gd(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qd(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hg.create(t,...e)}function O(t,e,...n){if(!t)throw Qd(e,...n)}function jt(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ao(e),new Error(e)}function Ht(t,e){t||jt(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function X8(){return fp()==="http:"||fp()==="https:"}function fp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X8()||A9()||"connection"in navigator)?navigator.onLine:!0}function t7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ht(n>e,"Short delay should be less than long delay!"),this.isMobile=O9()||R9()}get(){return e7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t,e){Ht(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=new Ls(3e4,6e4);function Zd(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ci(t,e,n,r,i={}){return pg(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Is(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),fg.fetch()(mg(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function pg(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},n7),e);try{const i=new s7(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ao(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ao(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ao(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ao(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Gd(t,d,u);Et(t,d)}}catch(i){if(i instanceof Nn)throw i;Et(t,"network-request-failed",{message:String(i)})}}async function i7(t,e,n,r,i={}){const s=await ci(t,e,n,r,i);return"mfaPendingCredential"in s&&Et(t,"multi-factor-auth-required",{_serverResponse:s}),s}function mg(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Jd(t.config,i):`${t.config.apiScheme}://${i}`}class s7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ut(this.auth,"network-request-failed")),r7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ao(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ut(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o7(t,e){return ci(t,"POST","/v1/accounts:delete",e)}async function gg(t,e){return ci(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function a7(t,e=!1){const n=ui(t),r=await n.getIdToken(e),i=Yd(r);O(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Hi(eu(i.auth_time)),issuedAtTime:Hi(eu(i.iat)),expirationTime:Hi(eu(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function eu(t){return Number(t)*1e3}function Yd(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ao("JWT malformed, contained fewer than 3 sections"),null;try{const i=tg(n);return i?JSON.parse(i):(Ao("Failed to decode base64 JWT payload"),null)}catch(i){return Ao("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pp(t){const e=Yd(t);return O(e,"internal-error"),O(typeof e.exp<"u","internal-error"),O(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ps(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nn&&l7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function l7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hi(this.lastLoginAt),this.creationTime=Hi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ps(t,gg(n,{idToken:r}));O(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?vg(s.providerUserInfo):[],a=d7(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new kc(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function c7(t){const e=ui(t);await ya(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function d7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vg(t){return t.map(e=>{var{providerId:n}=e,r=Kd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h7(t,e){const n=await pg(t,{},async()=>{const r=Is({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=mg(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fg.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function f7(t,e){return ci(t,"POST","/v2/accounts:revokeToken",Zd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){O(e.idToken,"internal-error"),O(typeof e.idToken<"u","internal-error"),O(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){O(e.length!==0,"internal-error");const n=pp(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(O(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await h7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Dr;return r&&(O(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(O(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(O(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dr,this.toJSON())}_performRefresh(){return jt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t,e){O(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dt{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Kd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new u7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new kc(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ps(this,this.stsTokenManager.getToken(this.auth,e));return O(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return a7(this,e)}reload(){return c7(this)}_assign(e){this!==e&&(O(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ya(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mt(this.auth.app))return Promise.reject(Gn(this.auth));const e=await this.getIdToken();return await ps(this,o7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,f=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:v,emailVerified:C,isAnonymous:E,providerData:I,stsTokenManager:k}=n;O(v&&k,e,"internal-error");const T=Dr.fromJSON(this.name,k);O(typeof v=="string",e,"internal-error"),Zt(h,e.name),Zt(p,e.name),O(typeof C=="boolean",e,"internal-error"),O(typeof E=="boolean",e,"internal-error"),Zt(_,e.name),Zt(y,e.name),Zt(w,e.name),Zt(S,e.name),Zt(m,e.name),Zt(f,e.name);const A=new Dt({uid:v,auth:e,email:p,emailVerified:C,displayName:h,isAnonymous:E,photoURL:y,phoneNumber:_,tenantId:w,stsTokenManager:T,createdAt:m,lastLoginAt:f});return I&&Array.isArray(I)&&(A.providerData=I.map(N=>Object.assign({},N))),S&&(A._redirectEventId=S),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Dr;i.updateFromServerResponse(n);const s=new Dt({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ya(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];O(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?vg(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Dr;a.updateFromIdToken(r);const l=new Dt({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new kc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=new Map;function Ft(t){Ht(t instanceof Function,"Expected a class definition");let e=mp.get(t);return e?(Ht(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mp.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yg.type="NONE";const gp=yg;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t,e,n){return`firebase:${t}:${e}:${n}`}class Fr{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ro(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ro("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dt._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fr(Ft(gp),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ft(gp);const o=Ro(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Dt._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Fr(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Fr(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Cg(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wg(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kg(e))return"Blackberry";if(Eg(e))return"Webos";if(Xd(e))return"Safari";if((e.includes("chrome/")||_g(e))&&!e.includes("edge/"))return"Chrome";if(Sg(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wg(t=ke()){return/firefox\//i.test(t)}function Xd(t=ke()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _g(t=ke()){return/crios\//i.test(t)}function Cg(t=ke()){return/iemobile/i.test(t)}function Sg(t=ke()){return/android/i.test(t)}function kg(t=ke()){return/blackberry/i.test(t)}function Eg(t=ke()){return/webos/i.test(t)}function tl(t=ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function p7(t=ke()){var e;return tl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function m7(){return b9()&&document.documentMode===10}function xg(t=ke()){return tl(t)||Sg(t)||Eg(t)||kg(t)||/windows phone/i.test(t)||Cg(t)}function g7(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t,e=[]){let n;switch(t){case"Browser":n=vp(ke());break;case"Worker":n=`${vp(ke())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ts}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y7(t,e={}){return ci(t,"GET","/v2/passwordPolicy",Zd(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=6;class _7{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:w7,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yp(this),this.idTokenSubscription=new yp(this),this.beforeStateQueue=new v7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ft(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Fr.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gg(this,{idToken:e}),r=await Dt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return O(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ya(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mt(this.app))return Promise.reject(Gn(this));const n=e?ui(e):null;return n&&O(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&O(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mt(this.app)?Promise.reject(Gn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mt(this.app)?Promise.reject(Gn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ft(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await y7(this),n=new _7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await f7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ft(e)||this._popupRedirectResolver;O(n,this,"argument-error"),this.redirectPersistenceManager=await Fr.create(this,[Ft(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(O(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ig(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Z8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function nl(t){return ui(t)}class yp{constructor(e){this.auth=e,this.observer=null,this.addObserver=U9(n=>this.observer=n)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S7(t){eh=t}function k7(t){return eh.loadJS(t)}function E7(){return eh.gapiScript}function x7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I7(t,e){const n=ag(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ma(s,e??{}))return i;Et(i,"already-initialized")}return n.initialize({options:e})}function T7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ft);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function L7(t,e,n){const r=nl(t);O(r._canInitEmulator,r,"emulator-config-failed"),O(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Tg(e),{host:o,port:a}=P7(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),N7()}function Tg(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function P7(t){const e=Tg(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:wp(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:wp(o)}}}function wp(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function N7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jt("not implemented")}_getIdTokenResponse(e){return jt("not implemented")}_linkToIdToken(e,n){return jt("not implemented")}_getReauthenticationResolver(e){return jt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $r(t,e){return i7(t,"POST","/v1/accounts:signInWithIdp",Zd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7="http://localhost";class tr extends Lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new tr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Et("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Kd(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new tr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return $r(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$r(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$r(e,n)}buildRequest(){const e={requestUri:O7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Is(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends th{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn extends Ps{constructor(){super("facebook.com")}static credential(e){return tr._fromParams({providerId:nn.PROVIDER_ID,signInMethod:nn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nn.credentialFromTaggedObject(e)}static credentialFromError(e){return nn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nn.credential(e.oauthAccessToken)}catch{return null}}}nn.FACEBOOK_SIGN_IN_METHOD="facebook.com";nn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt extends Ps{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return tr._fromParams({providerId:Nt.PROVIDER_ID,signInMethod:Nt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Nt.credentialFromTaggedObject(e)}static credentialFromError(e){return Nt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Nt.credential(n,r)}catch{return null}}}Nt.GOOGLE_SIGN_IN_METHOD="google.com";Nt.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot extends Ps{constructor(){super("github.com")}static credential(e){return tr._fromParams({providerId:Ot.PROVIDER_ID,signInMethod:Ot.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ot.credentialFromTaggedObject(e)}static credentialFromError(e){return Ot.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ot.credential(e.oauthAccessToken)}catch{return null}}}Ot.GITHUB_SIGN_IN_METHOD="github.com";Ot.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn extends Ps{constructor(){super("twitter.com")}static credential(e,n){return tr._fromParams({providerId:rn.PROVIDER_ID,signInMethod:rn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rn.credentialFromTaggedObject(e)}static credentialFromError(e){return rn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return rn.credential(n,r)}catch{return null}}}rn.TWITTER_SIGN_IN_METHOD="twitter.com";rn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Dt._fromIdTokenResponse(e,r,i),o=_p(r);return new Yr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=_p(r);return new Yr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function _p(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Nn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wa.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new wa(e,n,r,i)}}function Pg(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wa._fromErrorAndOperation(t,s,e,r):s})}async function A7(t,e,n=!1){const r=await ps(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yr._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R7(t,e,n=!1){const{auth:r}=t;if(Mt(r.app))return Promise.reject(Gn(r));const i="reauthenticate";try{const s=await ps(t,Pg(r,i,e,t),n);O(s.idToken,r,"internal-error");const o=Yd(s.idToken);O(o,r,"internal-error");const{sub:a}=o;return O(t.uid===a,r,"user-mismatch"),Yr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Et(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b7(t,e,n=!1){if(Mt(t.app))return Promise.reject(Gn(t));const r="signIn",i=await Pg(t,r,e),s=await Yr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function M7(t,e,n,r){return ui(t).onIdTokenChanged(e,n,r)}function j7(t,e,n){return ui(t).beforeAuthStateChanged(e,n)}const _a="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_a,"1"),this.storage.removeItem(_a),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(){const t=ke();return Xd(t)||tl(t)}const F7=1e3,$7=10;class Og extends Ng{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=D7()&&g7(),this.fallbackToPolling=xg(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);m7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},F7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Og.type="LOCAL";const B7=Og;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends Ng{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ag.type="SESSION";const Rg=Ag;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new rl(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await U7(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=nh("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(){return window}function V7(t){_t().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(){return typeof _t().WorkerGlobalScope<"u"&&typeof _t().importScripts=="function"}async function H7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function q7(){return bg()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="firebaseLocalStorageDb",K7=1,Ca="firebaseLocalStorage",jg="fbase_key";class Ns{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function il(t,e){return t.transaction([Ca],e?"readwrite":"readonly").objectStore(Ca)}function G7(){const t=indexedDB.deleteDatabase(Mg);return new Ns(t).toPromise()}function Ec(){const t=indexedDB.open(Mg,K7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ca,{keyPath:jg})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ca)?e(r):(r.close(),await G7(),e(await Ec()))})})}async function Cp(t,e,n){const r=il(t,!0).put({[jg]:e,value:n});return new Ns(r).toPromise()}async function Q7(t,e){const n=il(t,!1).get(e),r=await new Ns(n).toPromise();return r===void 0?null:r.value}function Sp(t,e){const n=il(t,!0).delete(e);return new Ns(n).toPromise()}const J7=800,Z7=3;class Dg{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ec(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Z7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rl._getInstance(q7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await H7(),!this.activeServiceWorker)return;this.sender=new z7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ec();return await Cp(e,_a,"1"),await Sp(e,_a),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Cp(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Q7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sp(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=il(i,!1).getAll();return new Ns(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Dg.type="LOCAL";const Y7=Dg;new Ls(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e){return e?Ft(e):(O(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends Lg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $r(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $r(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $r(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X7(t){return b7(t.auth,new rh(t),t.bypassAuthState)}function eC(t){const{auth:e,user:n}=t;return O(n,e,"internal-error"),R7(n,new rh(t),t.bypassAuthState)}async function tC(t){const{auth:e,user:n}=t;return O(n,e,"internal-error"),A7(n,new rh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X7;case"linkViaPopup":case"linkViaRedirect":return tC;case"reauthViaPopup":case"reauthViaRedirect":return eC;default:Et(this.auth,"internal-error")}}resolve(e){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new Ls(2e3,1e4);async function Bg(t,e,n){if(Mt(t.app))return Promise.reject(ut(t,"operation-not-supported-in-this-environment"));const r=nl(t);Y8(t,e,th);const i=Fg(r,n);return new Vn(r,"signInViaPopup",e,i).executeNotNull()}class Vn extends $g{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Vn.currentPopupAction&&Vn.currentPopupAction.cancel(),Vn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return O(e,this.auth,"internal-error"),e}async onExecution(){Ht(this.filter.length===1,"Popup operations only handle one event");const e=nh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ut(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ut(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ut(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nC.get())};e()}}Vn.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="pendingRedirect",bo=new Map;class iC extends $g{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bo.get(this.auth._key());if(!e){try{const r=await sC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bo.set(this.auth._key(),e)}return this.bypassAuthState||bo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sC(t,e){const n=lC(e),r=aC(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function oC(t,e){bo.set(t._key(),e)}function aC(t){return Ft(t._redirectPersistence)}function lC(t){return Ro(rC,t.config.apiKey,t.name)}async function uC(t,e,n=!1){if(Mt(t.app))return Promise.reject(Gn(t));const r=nl(t),i=Fg(r,e),o=await new iC(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=10*60*1e3;class dC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ug(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ut(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cC&&this.cachedEventUids.clear(),this.cachedEventUids.has(kp(e))}saveEventToCache(e){this.cachedEventUids.add(kp(e)),this.lastProcessedEventTime=Date.now()}}function kp(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ug({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ug(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(t,e={}){return ci(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mC=/^https?/;async function gC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fC(t);for(const n of e)try{if(vC(n))return}catch{}Et(t,"unauthorized-domain")}function vC(t){const e=Sc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!mC.test(n))return!1;if(pC.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new Ls(3e4,6e4);function Ep(){const t=_t().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wC(t){return new Promise((e,n)=>{var r,i,s;function o(){Ep(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ep(),n(ut(t,"network-request-failed"))},timeout:yC.get()})}if(!((i=(r=_t().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_t().gapi)===null||s===void 0)&&s.load)o();else{const a=x7("iframefcb");return _t()[a]=()=>{gapi.load?o():n(ut(t,"network-request-failed"))},k7(`${E7()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Mo=null,e})}let Mo=null;function _C(t){return Mo=Mo||wC(t),Mo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new Ls(5e3,15e3),SC="__/auth/iframe",kC="emulator/auth/iframe",EC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IC(t){const e=t.config;O(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jd(e,kC):`https://${t.config.authDomain}/${SC}`,r={apiKey:e.apiKey,appName:t.name,v:Ts},i=xC.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Is(r).slice(1)}`}async function TC(t){const e=await _C(t),n=_t().gapi;return O(n,t,"internal-error"),e.open({where:document.body,url:IC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EC,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ut(t,"network-request-failed"),a=_t().setTimeout(()=>{s(o)},CC.get());function l(){_t().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PC=500,NC=600,OC="_blank",AC="http://localhost";class xp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RC(t,e,n,r=PC,i=NC){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},LC),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ke().toLowerCase();n&&(a=_g(u)?OC:n),wg(u)&&(e=e||AC,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[_,y])=>`${p}${_}=${y},`,"");if(p7(u)&&a!=="_self")return bC(e||"",a),new xp(null);const h=window.open(e||"",a,d);O(h,t,"popup-blocked");try{h.focus()}catch{}return new xp(h)}function bC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="__/auth/handler",jC="emulator/auth/handler",DC=encodeURIComponent("fac");async function Ip(t,e,n,r,i,s){O(t.config.authDomain,t,"auth-domain-config-required"),O(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ts,eventId:i};if(e instanceof th){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",B9(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Ps){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${DC}=${encodeURIComponent(l)}`:"";return`${FC(t)}?${Is(a).slice(1)}${u}`}function FC({config:t}){return t.emulator?Jd(t,jC):`https://${t.authDomain}/${MC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu="webStorageSupport";class $C{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rg,this._completeRedirectFn=uC,this._overrideRedirectResult=oC}async _openPopup(e,n,r,i){var s;Ht((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Ip(e,n,r,Sc(),i);return RC(e,o,nh())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Ip(e,n,r,Sc(),i);return V7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ht(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TC(e),r=new dC(e);return n.register("authEvent",i=>(O(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tu,{type:tu},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[tu];o!==void 0&&n(!!o),Et(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xg()||Xd()||tl()}}const BC=$C;var Tp="@firebase/auth",Lp="1.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VC(t){hs(new Zr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;O(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ig(t)},u=new C7(r,i,s,l);return T7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hs(new Zr("auth-internal",e=>{const n=nl(e.getProvider("auth").getImmediate());return(r=>new UC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(Tp,Lp,zC(t)),jr(Tp,Lp,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=5*60,WC=rg("authIdTokenMaxAge")||HC;let Pp=null;const qC=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>WC)return;const i=n==null?void 0:n.token;Pp!==i&&(Pp=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function zg(t=B8()){const e=ag(t,"auth");if(e.isInitialized())return e.getImmediate();const n=I7(t,{popupRedirectResolver:BC,persistence:[Y7,B7,Rg]}),r=rg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=qC(s.toString());j7(n,o,()=>o(n.currentUser)),M7(n,a=>o(a))}}const i=P9("auth");return i&&L7(n,`http://${i}`),n}function KC(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}S7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ut("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",KC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VC("Browser");const ih=async t=>{const e=await Se("http://localhost:5000/api/reg/registrate",{method:"POST",body:JSON.stringify(t)});e.success&&(Ed("token",e.data,2),window.location.href="/")},GC=async()=>{try{const t=zg(),e=new Ot,n=await Bg(t,e);if(n&&n.user){const r=n.user;await ih({login:r.displayName||"",email:r.email||"",method:"github",nickname:"",avatar:r.photoURL})}else console.error("User authentication failed.")}catch(t){console.error("Error signing in with GitHub:",t)}},QC=async(t,e)=>{t.preventDefault();const n=new FormData(t.currentTarget),r=n.get("email"),i=n.get("login"),s=n.get("password");try{await JC.validate({email:r,login:i,password:s},{abortEarly:!1});const o=await Se("http://localhost:5000/api/reg/validate",{method:"POST",body:JSON.stringify({login:i,password:s,email:r})});o.success?(e(a=>({...a,email:{text:"",ok:!0},login:{text:"",ok:!0},password:{text:"",ok:!0}})),await ih({email:r,login:i,password:s,nickname:"",method:"default"})):e(()=>Object.keys(o.data).reduce((a,l)=>(a[l]=o.data[l],a),{}))}catch(o){if(o instanceof _e)e(a=>{const l={...a};return o.inner.forEach(u=>{l[u.path]={text:u.message,ok:!1}}),Object.keys(l).forEach(u=>{o.inner.some(d=>d.path===u)||(l[u]={text:"",ok:!0})}),l});else throw new Error("unhandled error while validating")}};let JC=Hd({email:l9,login:Jm,password:u9});const ZC=async()=>{const t=zg(),e=new Nt,n=await Bg(t,e),r=n.user;n&&n.user?await ih({login:r.displayName,email:r.email,method:"google",nickname:"",avatar:r.photoURL}):console.error("User authentication failed.")},YC=async(t,e)=>{t.preventDefault(),e(o=>({...o,isLoading:!0}));const n=new FormData(t.currentTarget),r=n.get("email"),i=n.get("password"),s=await Se("http://localhost:5000/api/reg/login",{method:"POST",body:JSON.stringify({password:i,email:r})});s.success?(Ed("token",s.data,2),window.location.href="/",e(o=>({...o,error:void 0,isLoading:!1}))):e(o=>({...o,error:s.message,isLoading:!1}))},XC=()=>{const[t,e]=g.useState(null),[n,r]=g.useState({isLoading:!1}),i=J(Zm),s=i==="signup";return c.jsx("div",{className:Tt.registrationFormWrapper,children:c.jsxs("form",{className:Tt.registrationForm,onSubmit:o=>s?QC(o,e):YC(o,r),children:[c.jsx("h1",{children:"Добро пожаловать!"}),c.jsx("h6",{children:"Зарегистрируйтесь или введите данные от аккаунта 🙂"}),c.jsxs("div",{className:Tt.registrationFormSwitch,children:[c.jsx("div",{className:G(i==="signup"&&Tt.registrationFormSwitchActive),onClick:()=>gc("signup"),children:c.jsx("p",{children:"Регистрация"})}),c.jsx("div",{className:G(i==="signin"&&Tt.registrationFormSwitchActive),onClick:()=>gc("signin"),children:c.jsx("p",{children:"Вход"})})]}),s?c.jsxs(c.Fragment,{children:[c.jsx(pt,{label:"Логин",name:"login",placeholder:"Erzhik",status:t==null?void 0:t.login}),c.jsx(pt,{label:"Электронная почта",name:"email",placeholder:"erzhik@gmail.com",status:t==null?void 0:t.email}),c.jsx(If,{label:"Пароль",name:"password",placeholder:"123",type:"password",status:t==null?void 0:t.password})]}):c.jsxs(c.Fragment,{children:[n.error&&c.jsx("div",{className:Tt.registrationFormError,children:c.jsx("p",{children:n.error})}),c.jsx(pt,{label:"Электронная почта",name:"email",type:"email",placeholder:"erzhik@gmail.com"}),c.jsx(If,{label:"Пароль",name:"password",placeholder:"123",type:"password"})]}),s?c.jsx(B,{isBlue:!0,extraClass:Tt.registrationFormButton,children:"Зарегистрироваться"}):c.jsx(B,{isBlue:!0,extraClass:Tt.registrationFormButton,children:n.isLoading?"Идет загрузка...":"Войти"}),c.jsx(nm,{text:"Или зарегистрироваться через"}),c.jsxs("div",{className:Tt.registrationFormProviders,children:[c.jsxs(B,{onClick:ZC,type:"button",children:[c.jsx(_9,{}),c.jsx("h6",{children:"с помощью Google"})]}),c.jsxs(B,{onClick:GC,type:"button",children:[c.jsx(C9,{}),c.jsx("h6",{children:"с помощью Github"})]})]})]})})},eS=()=>c.jsx(XC,{}),tS=[{path:"/",name:"Home",element:h_(),credentials:!0},{path:"/registration",name:"Registration",element:eS(),credentials:!1},{path:"/profile",name:"Profile",element:h9(),credentials:!0}],nS=()=>{const t=H("token"),e=ir();return g.useEffect(()=>{t&&window.location.pathname==="/registration"&&e("/")},[t,e]),c.jsx(l3,{children:tS.map(n=>c.jsx(Y0,{path:n.path,element:n.credentials&&!t?c.jsx(o3,{to:"/registration"}):n.element},n.name))})},rS="_header_6auii_1",iS="_headerLinks_6auii_10",Np={header:rS,headerLinks:iS},Vg=g.createContext(null),sS=({children:t})=>{const[e,n]=g.useState(H("theme")||"light");return c.jsx(Vg.Provider,{value:{theme:e,setTheme:n},children:t})},Hg=()=>{const t=g.useContext(Vg);return{theme:t==null?void 0:t.theme,setTheme:t==null?void 0:t.setTheme}},oS=()=>{const t=H("token"),e=ir();return g.useEffect(()=>{t||e("/registration")},[]),!!t},aS=t=>g.createElement("svg",{width:"50px",height:"50px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.74 1.97c-5.22 0-9.023 3.513-9.76 8.62-.052.366.112.673.416.72.3.047.554-.188.616-.538.723-4.068 4.273-6.782 8.729-6.782 4.856 0 8.24 3.384 8.24 8.24 0 4.266-2.926 7.965-6.795 8.724-.35.07-.583.327-.532.626.05.303.357.467.722.415 5.105-.724 8.625-4.538 8.625-9.765 0-6.019-4.242-10.26-10.26-10.26zM8.69 12.156c.498-.622 1.09-1.3 1.79-1.985 2.67-2.693 5.644-2.857 5.916-2.569.296.28.117 3.231-2.568 5.932-.685.7-1.355 1.292-1.985 1.79v1.994c0 .68 0 .717-.468 1.066-.05.037-.13.1-.238.183-.459.356-1.392 1.08-2.377 1.685-.296.18-.545.031-.35-.233a9.652 9.652 0 0 0 1.097-1.946c.218-.514.218-.981 0-1.386-.778.25-1.417.171-1.891-.288-.483-.467-.545-1.121-.296-1.907a1.58 1.58 0 0 0-1.401 0c-.592.218-1.23.591-1.947 1.09-.28.202-.428-.047-.233-.343.63-1.046 1.406-2.024 1.743-2.448l.125-.16c.35-.467.39-.467 1.168-.467h1.892l.023-.008zm-2.39 4.204c.042.046-.084.147-.29.314-.565.457-1.734 1.403-1.734 3.033 1.638 0 2.586-1.154 3.045-1.713.169-.206.272-.331.318-.287.156.155-.366 1.424-1.261 2.312A5.161 5.161 0 0 1 2.5 21.498c0-1.79.584-2.99 1.48-3.877.894-.895 2.156-1.417 2.319-1.245v-.016z",fill:"#000000"})),lS=()=>{const t=oS(),e=Kt(),{theme:n,setTheme:r}=Hg(),i=()=>{r&&(r(n==="dark"?"light":"dark"),Ed("theme",n==="dark"?"light":"dark"))};return c.jsxs("header",{className:Np.header,children:[c.jsx(Co,{to:"/",children:c.jsx(aS,{className:"theme-fill"})}),c.jsxs("div",{className:Np.headerLinks,children:[c.jsx(Co,{to:"/",children:c.jsx(_6,{})}),c.jsx(Q3,{value:n==="dark",setter:i,size:[48,34],isThemeToggler:!0}),t&&c.jsx(Co,{to:"/profile",children:c.jsx(si,{isActive:!0,src:e==null?void 0:e.avatar})})]})]})},uS="_app_7k2mm_1",cS={app:uS};var dS="firebase",hS="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(dS,hS,"app");const fS={apiKey:"AIzaSyAySL5JzGKwgjfgIn6L7ZN_amlFRVTPjRQ",authDomain:"turbo-chat-209cd.firebaseapp.com",projectId:"turbo-chat-209cd",storageBucket:"turbo-chat-209cd.appspot.com",messagingSenderId:"319158156940",appId:"1:319158156940:web:12202239d5b9d9145585a9",measurementId:"G-C79159G8SV"};lg(fS);function pS(){const{theme:t}=Hg(),e=g.useContext(qt),n=H("token");return g.useEffect(()=>{n&&(e==null||e.emit("user-connect",{token:n}));function r(){e==null||e.emit("user-disconnect",{token:n})}return window.addEventListener("beforeunload",r),()=>{n&&(e==null||e.emit("user-disconnect",{token:n})),window.removeEventListener("beforeunload",r)}},[]),c.jsxs("div",{className:G(cS.app,"scroll"),"data-theme":t,children:[c.jsx(lS,{}),c.jsx("section",{children:c.jsx(nS,{})})]})}class mS extends it.Component{constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e,n){console.error(e,n),this.setState({hasError:!0})}render(){return this.state.hasError?this.props.fallback:this.props.children}}const gS=({children:t})=>c.jsx(g3,{children:c.jsx(mS,{fallback:c.jsx("div",{children:"unhandled error"}),children:c.jsx(Kw,{children:c.jsx(qw,{children:c.jsx(sS,{children:t})})})})});nu.createRoot(document.getElementById("root")).render(c.jsx(gS,{children:c.jsx(pS,{})}));
